function u3(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SO={exports:{}},lg={},TO={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.element"),f3=Symbol.for("react.portal"),d3=Symbol.for("react.fragment"),h3=Symbol.for("react.strict_mode"),p3=Symbol.for("react.profiler"),m3=Symbol.for("react.provider"),g3=Symbol.for("react.context"),y3=Symbol.for("react.forward_ref"),v3=Symbol.for("react.suspense"),b3=Symbol.for("react.memo"),x3=Symbol.for("react.lazy"),AE=Symbol.iterator;function w3(t){return t===null||typeof t!="object"?null:(t=AE&&t[AE]||t["@@iterator"],typeof t=="function"?t:null)}var AO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PO=Object.assign,IO={};function lc(t,e,r){this.props=t,this.context=e,this.refs=IO,this.updater=r||AO}lc.prototype.isReactComponent={};lc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function OO(){}OO.prototype=lc.prototype;function ww(t,e,r){this.props=t,this.context=e,this.refs=IO,this.updater=r||AO}var _w=ww.prototype=new OO;_w.constructor=ww;PO(_w,lc.prototype);_w.isPureReactComponent=!0;var PE=Array.isArray,CO=Object.prototype.hasOwnProperty,kw={current:null},NO={key:!0,ref:!0,__self:!0,__source:!0};function RO(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)CO.call(e,n)&&!NO.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:fd,type:t,key:a,ref:o,props:i,_owner:kw.current}}function _3(t,e){return{$$typeof:fd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ew(t){return typeof t=="object"&&t!==null&&t.$$typeof===fd}function k3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var IE=/\/+/g;function ov(t,e){return typeof t=="object"&&t!==null&&t.key!=null?k3(""+t.key):e.toString(36)}function Wh(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fd:case f3:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+ov(o,0):n,PE(i)?(r="",t!=null&&(r=t.replace(IE,"$&/")+"/"),Wh(i,e,r,"",function(c){return c})):i!=null&&(Ew(i)&&(i=_3(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(IE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",PE(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+ov(a,s);o+=Wh(a,e,r,l,i)}else if(l=w3(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+ov(a,s++),o+=Wh(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ih(t,e,r){if(t==null)return t;var n=[],i=0;return Wh(t,n,"","",function(a){return e.call(r,a,i++)}),n}function E3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},Hh={transition:null},S3={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:Hh,ReactCurrentOwner:kw};function jO(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:ih,forEach:function(t,e,r){ih(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ih(t,function(){e++}),e},toArray:function(t){return ih(t,function(e){return e})||[]},only:function(t){if(!Ew(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=lc;Be.Fragment=d3;Be.Profiler=p3;Be.PureComponent=ww;Be.StrictMode=h3;Be.Suspense=v3;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S3;Be.act=jO;Be.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=PO({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=kw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)CO.call(e,l)&&!NO.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:fd,type:t.type,key:i,ref:a,props:n,_owner:o}};Be.createContext=function(t){return t={$$typeof:g3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m3,_context:t},t.Consumer=t};Be.createElement=RO;Be.createFactory=function(t){var e=RO.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:y3,render:t}};Be.isValidElement=Ew;Be.lazy=function(t){return{$$typeof:x3,_payload:{_status:-1,_result:t},_init:E3}};Be.memo=function(t,e){return{$$typeof:b3,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=Hh.transition;Hh.transition={};try{t()}finally{Hh.transition=e}};Be.unstable_act=jO;Be.useCallback=function(t,e){return qr.current.useCallback(t,e)};Be.useContext=function(t){return qr.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};Be.useEffect=function(t,e){return qr.current.useEffect(t,e)};Be.useId=function(){return qr.current.useId()};Be.useImperativeHandle=function(t,e,r){return qr.current.useImperativeHandle(t,e,r)};Be.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return qr.current.useMemo(t,e)};Be.useReducer=function(t,e,r){return qr.current.useReducer(t,e,r)};Be.useRef=function(t){return qr.current.useRef(t)};Be.useState=function(t){return qr.current.useState(t)};Be.useSyncExternalStore=function(t,e,r){return qr.current.useSyncExternalStore(t,e,r)};Be.useTransition=function(){return qr.current.useTransition()};Be.version="18.3.1";TO.exports=Be;var D=TO.exports;const $=at(D),T3=u3({__proto__:null,default:$},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A3=D,P3=Symbol.for("react.element"),I3=Symbol.for("react.fragment"),O3=Object.prototype.hasOwnProperty,C3=A3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N3={key:!0,ref:!0,__self:!0,__source:!0};function DO(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)O3.call(e,n)&&!N3.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:P3,type:t,key:a,ref:o,props:i,_owner:C3.current}}lg.Fragment=I3;lg.jsx=DO;lg.jsxs=DO;SO.exports=lg;var m=SO.exports,MO={exports:{}},hn={},$O={exports:{}},LO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Y){var te=U.length;U.push(Y);e:for(;0<te;){var ce=te-1>>>1,ae=U[ce];if(0<i(ae,Y))U[ce]=Y,U[te]=ae,te=ce;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var Y=U[0],te=U.pop();if(te!==Y){U[0]=te;e:for(var ce=0,ae=U.length,se=ae>>>1;ce<se;){var Se=2*(ce+1)-1,Re=U[Se],He=Se+1,$e=U[He];if(0>i(Re,te))He<ae&&0>i($e,Re)?(U[ce]=$e,U[He]=te,ce=He):(U[ce]=Re,U[Se]=te,ce=Se);else if(He<ae&&0>i($e,te))U[ce]=$e,U[He]=te,ce=He;else break e}}return Y}function i(U,Y){var te=U.sortIndex-Y.sortIndex;return te!==0?te:U.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(U){for(var Y=r(c);Y!==null;){if(Y.callback===null)n(c);else if(Y.startTime<=U)n(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=r(c)}}function _(U){if(b=!1,g(U),!v)if(r(l)!==null)v=!0,W(T);else{var Y=r(c);Y!==null&&X(_,Y.startTime-U)}}function T(U,Y){v=!1,b&&(b=!1,k(S),S=-1),p=!0;var te=h;try{for(g(Y),f=r(l);f!==null&&(!(f.expirationTime>Y)||U&&!R());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var ae=ce(f.expirationTime<=Y);Y=t.unstable_now(),typeof ae=="function"?f.callback=ae:f===r(l)&&n(l),g(Y)}else n(l);f=r(l)}if(f!==null)var se=!0;else{var Se=r(c);Se!==null&&X(_,Se.startTime-Y),se=!1}return se}finally{f=null,h=te,p=!1}}var I=!1,E=null,S=-1,O=5,C=-1;function R(){return!(t.unstable_now()-C<O)}function N(){if(E!==null){var U=t.unstable_now();C=U;var Y=!0;try{Y=E(!0,U)}finally{Y?P():(I=!1,E=null)}}else I=!1}var P;if(typeof y=="function")P=function(){y(N)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=N,P=function(){B.postMessage(null)}}else P=function(){x(N,0)};function W(U){E=U,I||(I=!0,P())}function X(U,Y){S=x(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,W(T))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var te=h;h=Y;try{return U()}finally{h=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=h;h=U;try{return Y()}finally{h=te}},t.unstable_scheduleCallback=function(U,Y,te){var ce=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ce+te:ce):te=ce,U){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=te+ae,U={id:u++,callback:Y,priorityLevel:U,startTime:te,expirationTime:ae,sortIndex:-1},te>ce?(U.sortIndex=te,e(c,U),r(l)===null&&U===r(c)&&(b?(k(S),S=-1):b=!0,X(_,te-ce))):(U.sortIndex=ae,e(l,U),v||p||(v=!0,W(T))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var Y=h;return function(){var te=h;h=Y;try{return U.apply(this,arguments)}finally{h=te}}}})(LO);$O.exports=LO;var R3=$O.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j3=D,dn=R3;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FO=new Set,Gu={};function gs(t,e){Il(t,e),Il(t+"Capture",e)}function Il(t,e){for(Gu[t]=e,t=0;t<e.length;t++)FO.add(e[t])}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E0=Object.prototype.hasOwnProperty,D3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OE={},CE={};function M3(t){return E0.call(CE,t)?!0:E0.call(OE,t)?!1:D3.test(t)?CE[t]=!0:(OE[t]=!0,!1)}function $3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L3(t,e,r,n){if(e===null||typeof e>"u"||$3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gr[t]=new Wr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gr[e]=new Wr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gr[t]=new Wr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gr[t]=new Wr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gr[t]=new Wr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gr[t]=new Wr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gr[t]=new Wr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gr[t]=new Wr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gr[t]=new Wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sw=/[\-:]([a-z])/g;function Tw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sw,Tw);gr[e]=new Wr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sw,Tw);gr[e]=new Wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sw,Tw);gr[e]=new Wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!1,!1)});gr.xlinkHref=new Wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Aw(t,e,r,n){var i=gr.hasOwnProperty(e)?gr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(L3(e,r,i,n)&&(r=null),n||i===null?M3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var la=j3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ah=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),Ys=Symbol.for("react.fragment"),Pw=Symbol.for("react.strict_mode"),S0=Symbol.for("react.profiler"),VO=Symbol.for("react.provider"),UO=Symbol.for("react.context"),Iw=Symbol.for("react.forward_ref"),T0=Symbol.for("react.suspense"),A0=Symbol.for("react.suspense_list"),Ow=Symbol.for("react.memo"),ka=Symbol.for("react.lazy"),BO=Symbol.for("react.offscreen"),NE=Symbol.iterator;function zc(t){return t===null||typeof t!="object"?null:(t=NE&&t[NE]||t["@@iterator"],typeof t=="function"?t:null)}var Ct=Object.assign,sv;function fu(t){if(sv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);sv=e&&e[1]||""}return`
`+sv+t}var lv=!1;function cv(t,e){if(!t||lv)return"";lv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{lv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?fu(t):""}function F3(t){switch(t.tag){case 5:return fu(t.type);case 16:return fu("Lazy");case 13:return fu("Suspense");case 19:return fu("SuspenseList");case 0:case 2:case 15:return t=cv(t.type,!1),t;case 11:return t=cv(t.type.render,!1),t;case 1:return t=cv(t.type,!0),t;default:return""}}function P0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ys:return"Fragment";case Xs:return"Portal";case S0:return"Profiler";case Pw:return"StrictMode";case T0:return"Suspense";case A0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UO:return(t.displayName||"Context")+".Consumer";case VO:return(t._context.displayName||"Context")+".Provider";case Iw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ow:return e=t.displayName||null,e!==null?e:P0(t.type)||"Memo";case ka:e=t._payload,t=t._init;try{return P0(t(e))}catch{}}return null}function V3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P0(e);case 8:return e===Pw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U3(t){var e=zO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function oh(t){t._valueTracker||(t._valueTracker=U3(t))}function qO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=zO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function xp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function I0(t,e){var r=e.checked;return Ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function RE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ro(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function WO(t,e){e=e.checked,e!=null&&Aw(t,"checked",e,!1)}function O0(t,e){WO(t,e);var r=ro(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?C0(t,e.type,r):e.hasOwnProperty("defaultValue")&&C0(t,e.type,ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function C0(t,e,r){(e!=="number"||xp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var du=Array.isArray;function hl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ro(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function N0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function DE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(oe(92));if(du(r)){if(1<r.length)throw Error(oe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ro(r)}}function HO(t,e){var r=ro(e.value),n=ro(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ME(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sh,GO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sh=sh||document.createElement("div"),sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B3=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(t){B3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eu[e]=Eu[t]})});function XO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Eu.hasOwnProperty(t)&&Eu[t]?(""+e).trim():e+"px"}function YO(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=XO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var z3=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function j0(t,e){if(e){if(z3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function D0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=null;function Cw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $0=null,pl=null,ml=null;function $E(t){if(t=pd(t)){if(typeof $0!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=hg(e),$0(t.stateNode,t.type,e))}}function QO(t){pl?ml?ml.push(t):ml=[t]:pl=t}function JO(){if(pl){var t=pl,e=ml;if(ml=pl=null,$E(t),e)for(t=0;t<e.length;t++)$E(e[t])}}function ZO(t,e){return t(e)}function eC(){}var uv=!1;function tC(t,e,r){if(uv)return t(e,r);uv=!0;try{return ZO(t,e,r)}finally{uv=!1,(pl!==null||ml!==null)&&(eC(),JO())}}function Yu(t,e){var r=t.stateNode;if(r===null)return null;var n=hg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(oe(231,e,typeof r));return r}var L0=!1;if(Xi)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){L0=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{L0=!1}function q3(t,e,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Su=!1,wp=null,_p=!1,F0=null,W3={onError:function(t){Su=!0,wp=t}};function H3(t,e,r,n,i,a,o,s,l){Su=!1,wp=null,q3.apply(W3,arguments)}function K3(t,e,r,n,i,a,o,s,l){if(H3.apply(this,arguments),Su){if(Su){var c=wp;Su=!1,wp=null}else throw Error(oe(198));_p||(_p=!0,F0=c)}}function ys(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function rC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function LE(t){if(ys(t)!==t)throw Error(oe(188))}function G3(t){var e=t.alternate;if(!e){if(e=ys(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return LE(i),t;if(a===n)return LE(i),e;a=a.sibling}throw Error(oe(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(oe(189))}}if(r.alternate!==n)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?t:e}function nC(t){return t=G3(t),t!==null?iC(t):null}function iC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iC(t);if(e!==null)return e;t=t.sibling}return null}var aC=dn.unstable_scheduleCallback,FE=dn.unstable_cancelCallback,X3=dn.unstable_shouldYield,Y3=dn.unstable_requestPaint,Ut=dn.unstable_now,Q3=dn.unstable_getCurrentPriorityLevel,Nw=dn.unstable_ImmediatePriority,oC=dn.unstable_UserBlockingPriority,kp=dn.unstable_NormalPriority,J3=dn.unstable_LowPriority,sC=dn.unstable_IdlePriority,cg=null,ui=null;function Z3(t){if(ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(cg,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:r5,e5=Math.log,t5=Math.LN2;function r5(t){return t>>>=0,t===0?32:31-(e5(t)/t5|0)|0}var lh=64,ch=4194304;function hu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ep(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=hu(s):(a&=o,a!==0&&(n=hu(a)))}else o=r&~i,o!==0?n=hu(o):a!==0&&(n=hu(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-qn(e),i=1<<r,n|=t[r],e&=~i;return n}function n5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i5(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-qn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=n5(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function V0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lC(){var t=lh;return lh<<=1,!(lh&4194240)&&(lh=64),t}function fv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function dd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=r}function a5(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-qn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Rw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-qn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var it=0;function cC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uC,jw,fC,dC,hC,U0=!1,uh=[],Ba=null,za=null,qa=null,Qu=new Map,Ju=new Map,Aa=[],o5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VE(t,e){switch(t){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":Qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(e.pointerId)}}function Wc(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=pd(e),e!==null&&jw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function s5(t,e,r,n,i){switch(e){case"focusin":return Ba=Wc(Ba,t,e,r,n,i),!0;case"dragenter":return za=Wc(za,t,e,r,n,i),!0;case"mouseover":return qa=Wc(qa,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Qu.set(a,Wc(Qu.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ju.set(a,Wc(Ju.get(a)||null,t,e,r,n,i)),!0}return!1}function pC(t){var e=Lo(t.target);if(e!==null){var r=ys(e);if(r!==null){if(e=r.tag,e===13){if(e=rC(r),e!==null){t.blockedOn=e,hC(t.priority,function(){fC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=B0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);M0=n,r.target.dispatchEvent(n),M0=null}else return e=pd(r),e!==null&&jw(e),t.blockedOn=r,!1;e.shift()}return!0}function UE(t,e,r){Kh(t)&&r.delete(e)}function l5(){U0=!1,Ba!==null&&Kh(Ba)&&(Ba=null),za!==null&&Kh(za)&&(za=null),qa!==null&&Kh(qa)&&(qa=null),Qu.forEach(UE),Ju.forEach(UE)}function Hc(t,e){t.blockedOn===e&&(t.blockedOn=null,U0||(U0=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,l5)))}function Zu(t){function e(i){return Hc(i,t)}if(0<uh.length){Hc(uh[0],t);for(var r=1;r<uh.length;r++){var n=uh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ba!==null&&Hc(Ba,t),za!==null&&Hc(za,t),qa!==null&&Hc(qa,t),Qu.forEach(e),Ju.forEach(e),r=0;r<Aa.length;r++)n=Aa[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Aa.length&&(r=Aa[0],r.blockedOn===null);)pC(r),r.blockedOn===null&&Aa.shift()}var gl=la.ReactCurrentBatchConfig,Sp=!0;function c5(t,e,r,n){var i=it,a=gl.transition;gl.transition=null;try{it=1,Dw(t,e,r,n)}finally{it=i,gl.transition=a}}function u5(t,e,r,n){var i=it,a=gl.transition;gl.transition=null;try{it=4,Dw(t,e,r,n)}finally{it=i,gl.transition=a}}function Dw(t,e,r,n){if(Sp){var i=B0(t,e,r,n);if(i===null)wv(t,e,n,Tp,r),VE(t,n);else if(s5(i,t,e,r,n))n.stopPropagation();else if(VE(t,n),e&4&&-1<o5.indexOf(t)){for(;i!==null;){var a=pd(i);if(a!==null&&uC(a),a=B0(t,e,r,n),a===null&&wv(t,e,n,Tp,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else wv(t,e,n,null,r)}}var Tp=null;function B0(t,e,r,n){if(Tp=null,t=Cw(n),t=Lo(t),t!==null)if(e=ys(t),e===null)t=null;else if(r=e.tag,r===13){if(t=rC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tp=t,null}function mC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q3()){case Nw:return 1;case oC:return 4;case kp:case J3:return 16;case sC:return 536870912;default:return 16}default:return 16}}var $a=null,Mw=null,Gh=null;function gC(){if(Gh)return Gh;var t,e=Mw,r=e.length,n,i="value"in $a?$a.value:$a.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Gh=i.slice(t,1<n?1-n:void 0)}function Xh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fh(){return!0}function BE(){return!1}function pn(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fh:BE,this.isPropagationStopped=BE,this}return Ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fh)},persist:function(){},isPersistent:fh}),e}var cc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$w=pn(cc),hd=Ct({},cc,{view:0,detail:0}),f5=pn(hd),dv,hv,Kc,ug=Ct({},hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kc&&(Kc&&t.type==="mousemove"?(dv=t.screenX-Kc.screenX,hv=t.screenY-Kc.screenY):hv=dv=0,Kc=t),dv)},movementY:function(t){return"movementY"in t?t.movementY:hv}}),zE=pn(ug),d5=Ct({},ug,{dataTransfer:0}),h5=pn(d5),p5=Ct({},hd,{relatedTarget:0}),pv=pn(p5),m5=Ct({},cc,{animationName:0,elapsedTime:0,pseudoElement:0}),g5=pn(m5),y5=Ct({},cc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v5=pn(y5),b5=Ct({},cc,{data:0}),qE=pn(b5),x5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_5[t])?!!e[t]:!1}function Lw(){return k5}var E5=Ct({},hd,{key:function(t){if(t.key){var e=x5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lw,charCode:function(t){return t.type==="keypress"?Xh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S5=pn(E5),T5=Ct({},ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WE=pn(T5),A5=Ct({},hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lw}),P5=pn(A5),I5=Ct({},cc,{propertyName:0,elapsedTime:0,pseudoElement:0}),O5=pn(I5),C5=Ct({},ug,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N5=pn(C5),R5=[9,13,27,32],Fw=Xi&&"CompositionEvent"in window,Tu=null;Xi&&"documentMode"in document&&(Tu=document.documentMode);var j5=Xi&&"TextEvent"in window&&!Tu,yC=Xi&&(!Fw||Tu&&8<Tu&&11>=Tu),HE=" ",KE=!1;function vC(t,e){switch(t){case"keyup":return R5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function D5(t,e){switch(t){case"compositionend":return bC(e);case"keypress":return e.which!==32?null:(KE=!0,HE);case"textInput":return t=e.data,t===HE&&KE?null:t;default:return null}}function M5(t,e){if(Qs)return t==="compositionend"||!Fw&&vC(t,e)?(t=gC(),Gh=Mw=$a=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yC&&e.locale!=="ko"?null:e.data;default:return null}}var $5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$5[t.type]:e==="textarea"}function xC(t,e,r,n){QO(n),e=Ap(e,"onChange"),0<e.length&&(r=new $w("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Au=null,ef=null;function L5(t){CC(t,0)}function fg(t){var e=el(t);if(qO(e))return t}function F5(t,e){if(t==="change")return e}var wC=!1;if(Xi){var mv;if(Xi){var gv="oninput"in document;if(!gv){var XE=document.createElement("div");XE.setAttribute("oninput","return;"),gv=typeof XE.oninput=="function"}mv=gv}else mv=!1;wC=mv&&(!document.documentMode||9<document.documentMode)}function YE(){Au&&(Au.detachEvent("onpropertychange",_C),ef=Au=null)}function _C(t){if(t.propertyName==="value"&&fg(ef)){var e=[];xC(e,ef,t,Cw(t)),tC(L5,e)}}function V5(t,e,r){t==="focusin"?(YE(),Au=e,ef=r,Au.attachEvent("onpropertychange",_C)):t==="focusout"&&YE()}function U5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fg(ef)}function B5(t,e){if(t==="click")return fg(e)}function z5(t,e){if(t==="input"||t==="change")return fg(e)}function q5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:q5;function tf(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!E0.call(e,i)||!Kn(t[i],e[i]))return!1}return!0}function QE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function JE(t,e){var r=QE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=QE(r)}}function kC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function EC(){for(var t=window,e=xp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=xp(t.document)}return e}function Vw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W5(t){var e=EC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&kC(r.ownerDocument.documentElement,r)){if(n!==null&&Vw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=JE(r,a);var o=JE(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var H5=Xi&&"documentMode"in document&&11>=document.documentMode,Js=null,z0=null,Pu=null,q0=!1;function ZE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;q0||Js==null||Js!==xp(n)||(n=Js,"selectionStart"in n&&Vw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pu&&tf(Pu,n)||(Pu=n,n=Ap(z0,"onSelect"),0<n.length&&(e=new $w("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Js)))}function dh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Zs={animationend:dh("Animation","AnimationEnd"),animationiteration:dh("Animation","AnimationIteration"),animationstart:dh("Animation","AnimationStart"),transitionend:dh("Transition","TransitionEnd")},yv={},SC={};Xi&&(SC=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function dg(t){if(yv[t])return yv[t];if(!Zs[t])return t;var e=Zs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in SC)return yv[t]=e[r];return t}var TC=dg("animationend"),AC=dg("animationiteration"),PC=dg("animationstart"),IC=dg("transitionend"),OC=new Map,eS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(t,e){OC.set(t,e),gs(e,[t])}for(var vv=0;vv<eS.length;vv++){var bv=eS[vv],K5=bv.toLowerCase(),G5=bv[0].toUpperCase()+bv.slice(1);lo(K5,"on"+G5)}lo(TC,"onAnimationEnd");lo(AC,"onAnimationIteration");lo(PC,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(IC,"onTransitionEnd");Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X5=new Set("cancel close invalid load scroll toggle".split(" ").concat(pu));function tS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,K3(n,e,void 0,t),t.currentTarget=null}function CC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;tS(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;tS(i,s,c),a=l}}}if(_p)throw t=F0,_p=!1,F0=null,t}function vt(t,e){var r=e[X0];r===void 0&&(r=e[X0]=new Set);var n=t+"__bubble";r.has(n)||(NC(e,t,2,!1),r.add(n))}function xv(t,e,r){var n=0;e&&(n|=4),NC(r,t,n,e)}var hh="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[hh]){t[hh]=!0,FO.forEach(function(r){r!=="selectionchange"&&(X5.has(r)||xv(r,!1,t),xv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hh]||(e[hh]=!0,xv("selectionchange",!1,e))}}function NC(t,e,r,n){switch(mC(e)){case 1:var i=c5;break;case 4:i=u5;break;default:i=Dw}r=i.bind(null,e,r,t),i=void 0,!L0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function wv(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Lo(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}tC(function(){var c=a,u=Cw(r),f=[];e:{var h=OC.get(t);if(h!==void 0){var p=$w,v=t;switch(t){case"keypress":if(Xh(r)===0)break e;case"keydown":case"keyup":p=S5;break;case"focusin":v="focus",p=pv;break;case"focusout":v="blur",p=pv;break;case"beforeblur":case"afterblur":p=pv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=zE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=h5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=P5;break;case TC:case AC:case PC:p=g5;break;case IC:p=O5;break;case"scroll":p=f5;break;case"wheel":p=N5;break;case"copy":case"cut":case"paste":p=v5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=WE}var b=(e&4)!==0,x=!b&&t==="scroll",k=b?h!==null?h+"Capture":null:h;b=[];for(var y=c,g;y!==null;){g=y;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,k!==null&&(_=Yu(y,k),_!=null&&b.push(nf(y,_,g)))),x)break;y=y.return}0<b.length&&(h=new p(h,v,null,r,u),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==M0&&(v=r.relatedTarget||r.fromElement)&&(Lo(v)||v[Yi]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=c,v=v?Lo(v):null,v!==null&&(x=ys(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(b=zE,_="onMouseLeave",k="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=WE,_="onPointerLeave",k="onPointerEnter",y="pointer"),x=p==null?h:el(p),g=v==null?h:el(v),h=new b(_,y+"leave",p,r,u),h.target=x,h.relatedTarget=g,_=null,Lo(u)===c&&(b=new b(k,y+"enter",v,r,u),b.target=g,b.relatedTarget=x,_=b),x=_,p&&v)t:{for(b=p,k=v,y=0,g=b;g;g=Ms(g))y++;for(g=0,_=k;_;_=Ms(_))g++;for(;0<y-g;)b=Ms(b),y--;for(;0<g-y;)k=Ms(k),g--;for(;y--;){if(b===k||k!==null&&b===k.alternate)break t;b=Ms(b),k=Ms(k)}b=null}else b=null;p!==null&&rS(f,h,p,b,!1),v!==null&&x!==null&&rS(f,x,v,b,!0)}}e:{if(h=c?el(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=F5;else if(GE(h))if(wC)T=z5;else{T=U5;var I=V5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=B5);if(T&&(T=T(t,c))){xC(f,T,r,u);break e}I&&I(t,h,c),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&C0(h,"number",h.value)}switch(I=c?el(c):window,t){case"focusin":(GE(I)||I.contentEditable==="true")&&(Js=I,z0=c,Pu=null);break;case"focusout":Pu=z0=Js=null;break;case"mousedown":q0=!0;break;case"contextmenu":case"mouseup":case"dragend":q0=!1,ZE(f,r,u);break;case"selectionchange":if(H5)break;case"keydown":case"keyup":ZE(f,r,u)}var E;if(Fw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Qs?vC(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(yC&&r.locale!=="ko"&&(Qs||S!=="onCompositionStart"?S==="onCompositionEnd"&&Qs&&(E=gC()):($a=u,Mw="value"in $a?$a.value:$a.textContent,Qs=!0)),I=Ap(c,S),0<I.length&&(S=new qE(S,t,null,r,u),f.push({event:S,listeners:I}),E?S.data=E:(E=bC(r),E!==null&&(S.data=E)))),(E=j5?D5(t,r):M5(t,r))&&(c=Ap(c,"onBeforeInput"),0<c.length&&(u=new qE("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=E))}CC(f,e)})}function nf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ap(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Yu(t,r),a!=null&&n.unshift(nf(t,a,i)),a=Yu(t,e),a!=null&&n.push(nf(t,a,i))),t=t.return}return n}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rS(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=Yu(r,a),l!=null&&o.unshift(nf(r,l,s))):i||(l=Yu(r,a),l!=null&&o.push(nf(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Y5=/\r\n?/g,Q5=/\u0000|\uFFFD/g;function nS(t){return(typeof t=="string"?t:""+t).replace(Y5,`
`).replace(Q5,"")}function ph(t,e,r){if(e=nS(e),nS(t)!==e&&r)throw Error(oe(425))}function Pp(){}var W0=null,H0=null;function K0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var G0=typeof setTimeout=="function"?setTimeout:void 0,J5=typeof clearTimeout=="function"?clearTimeout:void 0,iS=typeof Promise=="function"?Promise:void 0,Z5=typeof queueMicrotask=="function"?queueMicrotask:typeof iS<"u"?function(t){return iS.resolve(null).then(t).catch(e6)}:G0;function e6(t){setTimeout(function(){throw t})}function _v(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Zu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Zu(e)}function Wa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var uc=Math.random().toString(36).slice(2),ai="__reactFiber$"+uc,af="__reactProps$"+uc,Yi="__reactContainer$"+uc,X0="__reactEvents$"+uc,t6="__reactListeners$"+uc,r6="__reactHandles$"+uc;function Lo(t){var e=t[ai];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Yi]||r[ai]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=aS(t);t!==null;){if(r=t[ai])return r;t=aS(t)}return e}t=r,r=t.parentNode}return null}function pd(t){return t=t[ai]||t[Yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function el(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function hg(t){return t[af]||null}var Y0=[],tl=-1;function co(t){return{current:t}}function Et(t){0>tl||(t.current=Y0[tl],Y0[tl]=null,tl--)}function pt(t,e){tl++,Y0[tl]=t.current,t.current=e}var no={},Or=co(no),Jr=co(!1),Jo=no;function Ol(t,e){var r=t.type.contextTypes;if(!r)return no;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zr(t){return t=t.childContextTypes,t!=null}function Ip(){Et(Jr),Et(Or)}function oS(t,e,r){if(Or.current!==no)throw Error(oe(168));pt(Or,e),pt(Jr,r)}function RC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(oe(108,V3(t)||"Unknown",i));return Ct({},r,n)}function Op(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||no,Jo=Or.current,pt(Or,t),pt(Jr,Jr.current),!0}function sS(t,e,r){var n=t.stateNode;if(!n)throw Error(oe(169));r?(t=RC(t,e,Jo),n.__reactInternalMemoizedMergedChildContext=t,Et(Jr),Et(Or),pt(Or,t)):Et(Jr),pt(Jr,r)}var Ri=null,pg=!1,kv=!1;function jC(t){Ri===null?Ri=[t]:Ri.push(t)}function n6(t){pg=!0,jC(t)}function uo(){if(!kv&&Ri!==null){kv=!0;var t=0,e=it;try{var r=Ri;for(it=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ri=null,pg=!1}catch(i){throw Ri!==null&&(Ri=Ri.slice(t+1)),aC(Nw,uo),i}finally{it=e,kv=!1}}return null}var rl=[],nl=0,Cp=null,Np=0,xn=[],wn=0,Zo=null,ji=1,Di="";function Co(t,e){rl[nl++]=Np,rl[nl++]=Cp,Cp=t,Np=e}function DC(t,e,r){xn[wn++]=ji,xn[wn++]=Di,xn[wn++]=Zo,Zo=t;var n=ji;t=Di;var i=32-qn(n)-1;n&=~(1<<i),r+=1;var a=32-qn(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ji=1<<32-qn(e)+i|r<<i|n,Di=a+t}else ji=1<<a|r<<i|n,Di=t}function Uw(t){t.return!==null&&(Co(t,1),DC(t,1,0))}function Bw(t){for(;t===Cp;)Cp=rl[--nl],rl[nl]=null,Np=rl[--nl],rl[nl]=null;for(;t===Zo;)Zo=xn[--wn],xn[wn]=null,Di=xn[--wn],xn[wn]=null,ji=xn[--wn],xn[wn]=null}var un=null,ln=null,Tt=!1,Un=null;function MC(t,e){var r=Sn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function lS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,ln=Wa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Zo!==null?{id:ji,overflow:Di}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Sn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,un=t,ln=null,!0):!1;default:return!1}}function Q0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function J0(t){if(Tt){var e=ln;if(e){var r=e;if(!lS(t,e)){if(Q0(t))throw Error(oe(418));e=Wa(r.nextSibling);var n=un;e&&lS(t,e)?MC(n,r):(t.flags=t.flags&-4097|2,Tt=!1,un=t)}}else{if(Q0(t))throw Error(oe(418));t.flags=t.flags&-4097|2,Tt=!1,un=t}}}function cS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function mh(t){if(t!==un)return!1;if(!Tt)return cS(t),Tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!K0(t.type,t.memoizedProps)),e&&(e=ln)){if(Q0(t))throw $C(),Error(oe(418));for(;e;)MC(t,e),e=Wa(e.nextSibling)}if(cS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ln=Wa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=un?Wa(t.stateNode.nextSibling):null;return!0}function $C(){for(var t=ln;t;)t=Wa(t.nextSibling)}function Cl(){ln=un=null,Tt=!1}function zw(t){Un===null?Un=[t]:Un.push(t)}var i6=la.ReactCurrentBatchConfig;function Gc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var n=r.stateNode}if(!n)throw Error(oe(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,t))}return t}function gh(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uS(t){var e=t._init;return e(t._payload)}function LC(t){function e(k,y){if(t){var g=k.deletions;g===null?(k.deletions=[y],k.flags|=16):g.push(y)}}function r(k,y){if(!t)return null;for(;y!==null;)e(k,y),y=y.sibling;return null}function n(k,y){for(k=new Map;y!==null;)y.key!==null?k.set(y.key,y):k.set(y.index,y),y=y.sibling;return k}function i(k,y){return k=Xa(k,y),k.index=0,k.sibling=null,k}function a(k,y,g){return k.index=g,t?(g=k.alternate,g!==null?(g=g.index,g<y?(k.flags|=2,y):g):(k.flags|=2,y)):(k.flags|=1048576,y)}function o(k){return t&&k.alternate===null&&(k.flags|=2),k}function s(k,y,g,_){return y===null||y.tag!==6?(y=Ov(g,k.mode,_),y.return=k,y):(y=i(y,g),y.return=k,y)}function l(k,y,g,_){var T=g.type;return T===Ys?u(k,y,g.props.children,_,g.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ka&&uS(T)===y.type)?(_=i(y,g.props),_.ref=Gc(k,y,g),_.return=k,_):(_=rp(g.type,g.key,g.props,null,k.mode,_),_.ref=Gc(k,y,g),_.return=k,_)}function c(k,y,g,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=Cv(g,k.mode,_),y.return=k,y):(y=i(y,g.children||[]),y.return=k,y)}function u(k,y,g,_,T){return y===null||y.tag!==7?(y=Ko(g,k.mode,_,T),y.return=k,y):(y=i(y,g),y.return=k,y)}function f(k,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ov(""+y,k.mode,g),y.return=k,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ah:return g=rp(y.type,y.key,y.props,null,k.mode,g),g.ref=Gc(k,null,y),g.return=k,g;case Xs:return y=Cv(y,k.mode,g),y.return=k,y;case ka:var _=y._init;return f(k,_(y._payload),g)}if(du(y)||zc(y))return y=Ko(y,k.mode,g,null),y.return=k,y;gh(k,y)}return null}function h(k,y,g,_){var T=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:s(k,y,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ah:return g.key===T?l(k,y,g,_):null;case Xs:return g.key===T?c(k,y,g,_):null;case ka:return T=g._init,h(k,y,T(g._payload),_)}if(du(g)||zc(g))return T!==null?null:u(k,y,g,_,null);gh(k,g)}return null}function p(k,y,g,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return k=k.get(g)||null,s(y,k,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ah:return k=k.get(_.key===null?g:_.key)||null,l(y,k,_,T);case Xs:return k=k.get(_.key===null?g:_.key)||null,c(y,k,_,T);case ka:var I=_._init;return p(k,y,g,I(_._payload),T)}if(du(_)||zc(_))return k=k.get(g)||null,u(y,k,_,T,null);gh(y,_)}return null}function v(k,y,g,_){for(var T=null,I=null,E=y,S=y=0,O=null;E!==null&&S<g.length;S++){E.index>S?(O=E,E=null):O=E.sibling;var C=h(k,E,g[S],_);if(C===null){E===null&&(E=O);break}t&&E&&C.alternate===null&&e(k,E),y=a(C,y,S),I===null?T=C:I.sibling=C,I=C,E=O}if(S===g.length)return r(k,E),Tt&&Co(k,S),T;if(E===null){for(;S<g.length;S++)E=f(k,g[S],_),E!==null&&(y=a(E,y,S),I===null?T=E:I.sibling=E,I=E);return Tt&&Co(k,S),T}for(E=n(k,E);S<g.length;S++)O=p(E,k,S,g[S],_),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?S:O.key),y=a(O,y,S),I===null?T=O:I.sibling=O,I=O);return t&&E.forEach(function(R){return e(k,R)}),Tt&&Co(k,S),T}function b(k,y,g,_){var T=zc(g);if(typeof T!="function")throw Error(oe(150));if(g=T.call(g),g==null)throw Error(oe(151));for(var I=T=null,E=y,S=y=0,O=null,C=g.next();E!==null&&!C.done;S++,C=g.next()){E.index>S?(O=E,E=null):O=E.sibling;var R=h(k,E,C.value,_);if(R===null){E===null&&(E=O);break}t&&E&&R.alternate===null&&e(k,E),y=a(R,y,S),I===null?T=R:I.sibling=R,I=R,E=O}if(C.done)return r(k,E),Tt&&Co(k,S),T;if(E===null){for(;!C.done;S++,C=g.next())C=f(k,C.value,_),C!==null&&(y=a(C,y,S),I===null?T=C:I.sibling=C,I=C);return Tt&&Co(k,S),T}for(E=n(k,E);!C.done;S++,C=g.next())C=p(E,k,S,C.value,_),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?S:C.key),y=a(C,y,S),I===null?T=C:I.sibling=C,I=C);return t&&E.forEach(function(N){return e(k,N)}),Tt&&Co(k,S),T}function x(k,y,g,_){if(typeof g=="object"&&g!==null&&g.type===Ys&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ah:e:{for(var T=g.key,I=y;I!==null;){if(I.key===T){if(T=g.type,T===Ys){if(I.tag===7){r(k,I.sibling),y=i(I,g.props.children),y.return=k,k=y;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ka&&uS(T)===I.type){r(k,I.sibling),y=i(I,g.props),y.ref=Gc(k,I,g),y.return=k,k=y;break e}r(k,I);break}else e(k,I);I=I.sibling}g.type===Ys?(y=Ko(g.props.children,k.mode,_,g.key),y.return=k,k=y):(_=rp(g.type,g.key,g.props,null,k.mode,_),_.ref=Gc(k,y,g),_.return=k,k=_)}return o(k);case Xs:e:{for(I=g.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){r(k,y.sibling),y=i(y,g.children||[]),y.return=k,k=y;break e}else{r(k,y);break}else e(k,y);y=y.sibling}y=Cv(g,k.mode,_),y.return=k,k=y}return o(k);case ka:return I=g._init,x(k,y,I(g._payload),_)}if(du(g))return v(k,y,g,_);if(zc(g))return b(k,y,g,_);gh(k,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(r(k,y.sibling),y=i(y,g),y.return=k,k=y):(r(k,y),y=Ov(g,k.mode,_),y.return=k,k=y),o(k)):r(k,y)}return x}var Nl=LC(!0),FC=LC(!1),Rp=co(null),jp=null,il=null,qw=null;function Ww(){qw=il=jp=null}function Hw(t){var e=Rp.current;Et(Rp),t._currentValue=e}function Z0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yl(t,e){jp=t,qw=il=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yr=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(qw!==t)if(t={context:t,memoizedValue:e,next:null},il===null){if(jp===null)throw Error(oe(308));il=t,jp.dependencies={lanes:0,firstContext:t}}else il=il.next=t;return e}var Fo=null;function Kw(t){Fo===null?Fo=[t]:Fo.push(t)}function VC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Kw(e)):(r.next=i.next,i.next=r),e.interleaved=r,Qi(t,n)}function Qi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ea=!1;function Gw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ha(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ye&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Qi(t,r)}return i=n.interleaved,i===null?(e.next=e,Kw(n)):(e.next=i.next,i.next=e),n.interleaved=e,Qi(t,r)}function Yh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Rw(t,r)}}function fS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Dp(t,e,r,n){var i=t.updateQueue;Ea=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,b=s;switch(h=e,p=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Ct({},f,h);break e;case 2:Ea=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ts|=o,t.lanes=o,t.memoizedState=f}}function dS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(oe(191,i));i.call(n)}}}var md={},fi=co(md),of=co(md),sf=co(md);function Vo(t){if(t===md)throw Error(oe(174));return t}function Xw(t,e){switch(pt(sf,e),pt(of,t),pt(fi,md),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:R0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=R0(e,t)}Et(fi),pt(fi,e)}function Rl(){Et(fi),Et(of),Et(sf)}function BC(t){Vo(sf.current);var e=Vo(fi.current),r=R0(e,t.type);e!==r&&(pt(of,t),pt(fi,r))}function Yw(t){of.current===t&&(Et(fi),Et(of))}var It=co(0);function Mp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ev=[];function Qw(){for(var t=0;t<Ev.length;t++)Ev[t]._workInProgressVersionPrimary=null;Ev.length=0}var Qh=la.ReactCurrentDispatcher,Sv=la.ReactCurrentBatchConfig,es=0,Ot=null,Yt=null,ir=null,$p=!1,Iu=!1,lf=0,a6=0;function xr(){throw Error(oe(321))}function Jw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Kn(t[r],e[r]))return!1;return!0}function Zw(t,e,r,n,i,a){if(es=a,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qh.current=t===null||t.memoizedState===null?c6:u6,t=r(n,i),Iu){a=0;do{if(Iu=!1,lf=0,25<=a)throw Error(oe(301));a+=1,ir=Yt=null,e.updateQueue=null,Qh.current=f6,t=r(n,i)}while(Iu)}if(Qh.current=Lp,e=Yt!==null&&Yt.next!==null,es=0,ir=Yt=Ot=null,$p=!1,e)throw Error(oe(300));return t}function e_(){var t=lf!==0;return lf=0,t}function ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Ot.memoizedState=ir=t:ir=ir.next=t,ir}function Cn(){if(Yt===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=ir===null?Ot.memoizedState:ir.next;if(e!==null)ir=e,Yt=t;else{if(t===null)throw Error(oe(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ir===null?Ot.memoizedState=ir=t:ir=ir.next=t}return ir}function cf(t,e){return typeof e=="function"?e(t):e}function Tv(t){var e=Cn(),r=e.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=t;var n=Yt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((es&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,Ot.lanes|=u,ts|=u}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,Kn(n,e.memoizedState)||(Yr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Ot.lanes|=a,ts|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Av(t){var e=Cn(),r=e.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Kn(a,e.memoizedState)||(Yr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function zC(){}function qC(t,e){var r=Ot,n=Cn(),i=e(),a=!Kn(n.memoizedState,i);if(a&&(n.memoizedState=i,Yr=!0),n=n.queue,t_(KC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||ir!==null&&ir.memoizedState.tag&1){if(r.flags|=2048,uf(9,HC.bind(null,r,n,i,e),void 0,null),or===null)throw Error(oe(349));es&30||WC(r,e,i)}return i}function WC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function HC(t,e,r,n){e.value=r,e.getSnapshot=n,GC(e)&&XC(t)}function KC(t,e,r){return r(function(){GC(e)&&XC(t)})}function GC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Kn(t,r)}catch{return!0}}function XC(t){var e=Qi(t,1);e!==null&&Wn(e,t,1,-1)}function hS(t){var e=ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cf,lastRenderedState:t},e.queue=t,t=t.dispatch=l6.bind(null,Ot,t),[e.memoizedState,t]}function uf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function YC(){return Cn().memoizedState}function Jh(t,e,r,n){var i=ti();Ot.flags|=t,i.memoizedState=uf(1|e,r,void 0,n===void 0?null:n)}function mg(t,e,r,n){var i=Cn();n=n===void 0?null:n;var a=void 0;if(Yt!==null){var o=Yt.memoizedState;if(a=o.destroy,n!==null&&Jw(n,o.deps)){i.memoizedState=uf(e,r,a,n);return}}Ot.flags|=t,i.memoizedState=uf(1|e,r,a,n)}function pS(t,e){return Jh(8390656,8,t,e)}function t_(t,e){return mg(2048,8,t,e)}function QC(t,e){return mg(4,2,t,e)}function JC(t,e){return mg(4,4,t,e)}function ZC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eN(t,e,r){return r=r!=null?r.concat([t]):null,mg(4,4,ZC.bind(null,e,t),r)}function r_(){}function tN(t,e){var r=Cn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Jw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function rN(t,e){var r=Cn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Jw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function nN(t,e,r){return es&21?(Kn(r,e)||(r=lC(),Ot.lanes|=r,ts|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yr=!0),t.memoizedState=r)}function o6(t,e){var r=it;it=r!==0&&4>r?r:4,t(!0);var n=Sv.transition;Sv.transition={};try{t(!1),e()}finally{it=r,Sv.transition=n}}function iN(){return Cn().memoizedState}function s6(t,e,r){var n=Ga(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},aN(t))oN(e,r);else if(r=VC(t,e,r,n),r!==null){var i=Br();Wn(r,t,n,i),sN(r,e,n)}}function l6(t,e,r){var n=Ga(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(aN(t))oN(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Kn(s,o)){var l=e.interleaved;l===null?(i.next=i,Kw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=VC(t,e,i,n),r!==null&&(i=Br(),Wn(r,t,n,i),sN(r,e,n))}}function aN(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function oN(t,e){Iu=$p=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function sN(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Rw(t,r)}}var Lp={readContext:On,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},c6={readContext:On,useCallback:function(t,e){return ti().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:pS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Jh(4194308,4,ZC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Jh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jh(4,2,t,e)},useMemo:function(t,e){var r=ti();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ti();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=s6.bind(null,Ot,t),[n.memoizedState,t]},useRef:function(t){var e=ti();return t={current:t},e.memoizedState=t},useState:hS,useDebugValue:r_,useDeferredValue:function(t){return ti().memoizedState=t},useTransition:function(){var t=hS(!1),e=t[0];return t=o6.bind(null,t[1]),ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ot,i=ti();if(Tt){if(r===void 0)throw Error(oe(407));r=r()}else{if(r=e(),or===null)throw Error(oe(349));es&30||WC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,pS(KC.bind(null,n,a,t),[t]),n.flags|=2048,uf(9,HC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ti(),e=or.identifierPrefix;if(Tt){var r=Di,n=ji;r=(n&~(1<<32-qn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=lf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=a6++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},u6={readContext:On,useCallback:tN,useContext:On,useEffect:t_,useImperativeHandle:eN,useInsertionEffect:QC,useLayoutEffect:JC,useMemo:rN,useReducer:Tv,useRef:YC,useState:function(){return Tv(cf)},useDebugValue:r_,useDeferredValue:function(t){var e=Cn();return nN(e,Yt.memoizedState,t)},useTransition:function(){var t=Tv(cf)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:zC,useSyncExternalStore:qC,useId:iN,unstable_isNewReconciler:!1},f6={readContext:On,useCallback:tN,useContext:On,useEffect:t_,useImperativeHandle:eN,useInsertionEffect:QC,useLayoutEffect:JC,useMemo:rN,useReducer:Av,useRef:YC,useState:function(){return Av(cf)},useDebugValue:r_,useDeferredValue:function(t){var e=Cn();return Yt===null?e.memoizedState=t:nN(e,Yt.memoizedState,t)},useTransition:function(){var t=Av(cf)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:zC,useSyncExternalStore:qC,useId:iN,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=Ct({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function eb(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ct({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var gg={isMounted:function(t){return(t=t._reactInternals)?ys(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Br(),i=Ga(t),a=zi(n,i);a.payload=e,r!=null&&(a.callback=r),e=Ha(t,a,i),e!==null&&(Wn(e,t,i,n),Yh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Br(),i=Ga(t),a=zi(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Ha(t,a,i),e!==null&&(Wn(e,t,i,n),Yh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Br(),n=Ga(t),i=zi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ha(t,i,n),e!==null&&(Wn(e,t,n,r),Yh(e,t,n))}};function mS(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!tf(r,n)||!tf(i,a):!0}function lN(t,e,r){var n=!1,i=no,a=e.contextType;return typeof a=="object"&&a!==null?a=On(a):(i=Zr(e)?Jo:Or.current,n=e.contextTypes,a=(n=n!=null)?Ol(t,i):no),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function gS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&gg.enqueueReplaceState(e,e.state,null)}function tb(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Gw(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=On(a):(a=Zr(e)?Jo:Or.current,i.context=Ol(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(eb(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gg.enqueueReplaceState(i,i.state,null),Dp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function jl(t,e){try{var r="",n=e;do r+=F3(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Pv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function rb(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var d6=typeof WeakMap=="function"?WeakMap:Map;function cN(t,e,r){r=zi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vp||(Vp=!0,db=n),rb(t,e)},r}function uN(t,e,r){r=zi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){rb(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){rb(t,e),typeof n!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function yS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new d6;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=T6.bind(null,t,e,r),e.then(t,t))}function vS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=zi(-1,1),e.tag=2,Ha(r,e,1))),r.lanes|=1),t)}var h6=la.ReactCurrentOwner,Yr=!1;function Dr(t,e,r,n){e.child=t===null?FC(e,null,r,n):Nl(e,t.child,r,n)}function xS(t,e,r,n,i){r=r.render;var a=e.ref;return yl(e,i),n=Zw(t,e,r,n,a,i),r=e_(),t!==null&&!Yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(Tt&&r&&Uw(e),e.flags|=1,Dr(t,e,n,i),e.child)}function wS(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!u_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,fN(t,e,a,n,i)):(t=rp(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:tf,r(o,n)&&t.ref===e.ref)return Ji(t,e,i)}return e.flags|=1,t=Xa(a,n),t.ref=e.ref,t.return=e,e.child=t}function fN(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(tf(a,n)&&t.ref===e.ref)if(Yr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Yr=!0);else return e.lanes=t.lanes,Ji(t,e,i)}return nb(t,e,r,n,i)}function dN(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(ol,an),an|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pt(ol,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,pt(ol,an),an|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,pt(ol,an),an|=n;return Dr(t,e,i,r),e.child}function hN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function nb(t,e,r,n,i){var a=Zr(r)?Jo:Or.current;return a=Ol(e,a),yl(e,i),r=Zw(t,e,r,n,a,i),n=e_(),t!==null&&!Yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(Tt&&n&&Uw(e),e.flags|=1,Dr(t,e,r,i),e.child)}function _S(t,e,r,n,i){if(Zr(r)){var a=!0;Op(e)}else a=!1;if(yl(e,i),e.stateNode===null)Zh(t,e),lN(e,r,n),tb(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=On(c):(c=Zr(r)?Jo:Or.current,c=Ol(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&gS(e,o,n,c),Ea=!1;var h=e.memoizedState;o.state=h,Dp(e,n,o,i),l=e.memoizedState,s!==n||h!==l||Jr.current||Ea?(typeof u=="function"&&(eb(e,r,u,n),l=e.memoizedState),(s=Ea||mS(e,r,s,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,UC(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Ln(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=On(l):(l=Zr(r)?Jo:Or.current,l=Ol(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&gS(e,o,n,l),Ea=!1,h=e.memoizedState,o.state=h,Dp(e,n,o,i);var v=e.memoizedState;s!==f||h!==v||Jr.current||Ea?(typeof p=="function"&&(eb(e,r,p,n),v=e.memoizedState),(c=Ea||mS(e,r,c,n,h,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return ib(t,e,r,n,a,i)}function ib(t,e,r,n,i,a){hN(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&sS(e,r,!1),Ji(t,e,a);n=e.stateNode,h6.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Nl(e,t.child,null,a),e.child=Nl(e,null,s,a)):Dr(t,e,s,a),e.memoizedState=n.state,i&&sS(e,r,!0),e.child}function pN(t){var e=t.stateNode;e.pendingContext?oS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oS(t,e.context,!1),Xw(t,e.containerInfo)}function kS(t,e,r,n,i){return Cl(),zw(i),e.flags|=256,Dr(t,e,r,n),e.child}var ab={dehydrated:null,treeContext:null,retryLane:0};function ob(t){return{baseLanes:t,cachePool:null,transitions:null}}function mN(t,e,r){var n=e.pendingProps,i=It.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pt(It,i&1),t===null)return J0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=bg(o,n,0,null),t=Ko(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=ob(r),e.memoizedState=ab,t):n_(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return p6(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Xa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Xa(s,a):(a=Ko(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?ob(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=ab,n}return a=t.child,t=a.sibling,n=Xa(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function n_(t,e){return e=bg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yh(t,e,r,n){return n!==null&&zw(n),Nl(e,t.child,null,r),t=n_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p6(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=Pv(Error(oe(422))),yh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=bg({mode:"visible",children:n.children},i,0,null),a=Ko(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Nl(e,t.child,null,o),e.child.memoizedState=ob(o),e.memoizedState=ab,a);if(!(e.mode&1))return yh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(oe(419)),n=Pv(a,n,void 0),yh(t,e,o,n)}if(s=(o&t.childLanes)!==0,Yr||s){if(n=or,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Qi(t,i),Wn(n,t,i,-1))}return c_(),n=Pv(Error(oe(421))),yh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=A6.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ln=Wa(i.nextSibling),un=e,Tt=!0,Un=null,t!==null&&(xn[wn++]=ji,xn[wn++]=Di,xn[wn++]=Zo,ji=t.id,Di=t.overflow,Zo=e),e=n_(e,n.children),e.flags|=4096,e)}function ES(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Z0(t.return,e,r)}function Iv(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function gN(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Dr(t,e,n.children,r),n=It.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ES(t,r,e);else if(t.tag===19)ES(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(pt(It,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Mp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Iv(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Iv(e,!0,r,null,a);break;case"together":Iv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ji(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ts|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,r=Xa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Xa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function m6(t,e,r){switch(e.tag){case 3:pN(e),Cl();break;case 5:BC(e);break;case 1:Zr(e.type)&&Op(e);break;case 4:Xw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;pt(Rp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(pt(It,It.current&1),e.flags|=128,null):r&e.child.childLanes?mN(t,e,r):(pt(It,It.current&1),t=Ji(t,e,r),t!==null?t.sibling:null);pt(It,It.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return gN(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(It,It.current),n)break;return null;case 22:case 23:return e.lanes=0,dN(t,e,r)}return Ji(t,e,r)}var yN,sb,vN,bN;yN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sb=function(){};vN=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Vo(fi.current);var a=null;switch(r){case"input":i=I0(t,i),n=I0(t,n),a=[];break;case"select":i=Ct({},i,{value:void 0}),n=Ct({},n,{value:void 0}),a=[];break;case"textarea":i=N0(t,i),n=N0(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Pp)}j0(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gu.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&vt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};bN=function(t,e,r,n){r!==n&&(e.flags|=4)};function Xc(t,e){if(!Tt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function wr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function g6(t,e,r){var n=e.pendingProps;switch(Bw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(e),null;case 1:return Zr(e.type)&&Ip(),wr(e),null;case 3:return n=e.stateNode,Rl(),Et(Jr),Et(Or),Qw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(mh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(mb(Un),Un=null))),sb(t,e),wr(e),null;case 5:Yw(e);var i=Vo(sf.current);if(r=e.type,t!==null&&e.stateNode!=null)vN(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(oe(166));return wr(e),null}if(t=Vo(fi.current),mh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[ai]=e,n[af]=a,t=(e.mode&1)!==0,r){case"dialog":vt("cancel",n),vt("close",n);break;case"iframe":case"object":case"embed":vt("load",n);break;case"video":case"audio":for(i=0;i<pu.length;i++)vt(pu[i],n);break;case"source":vt("error",n);break;case"img":case"image":case"link":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"input":RE(n,a),vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},vt("invalid",n);break;case"textarea":DE(n,a),vt("invalid",n)}j0(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&ph(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&ph(n.textContent,s,t),i=["children",""+s]):Gu.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&vt("scroll",n)}switch(r){case"input":oh(n),jE(n,a,!0);break;case"textarea":oh(n),ME(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Pp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KO(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ai]=e,t[af]=n,yN(t,e,!1,!1),e.stateNode=t;e:{switch(o=D0(r,n),r){case"dialog":vt("cancel",t),vt("close",t),i=n;break;case"iframe":case"object":case"embed":vt("load",t),i=n;break;case"video":case"audio":for(i=0;i<pu.length;i++)vt(pu[i],t);i=n;break;case"source":vt("error",t),i=n;break;case"img":case"image":case"link":vt("error",t),vt("load",t),i=n;break;case"details":vt("toggle",t),i=n;break;case"input":RE(t,n),i=I0(t,n),vt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ct({},n,{value:void 0}),vt("invalid",t);break;case"textarea":DE(t,n),i=N0(t,n),vt("invalid",t);break;default:i=n}j0(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?YO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GO(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Xu(t,l):typeof l=="number"&&Xu(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Gu.hasOwnProperty(a)?l!=null&&a==="onScroll"&&vt("scroll",t):l!=null&&Aw(t,a,l,o))}switch(r){case"input":oh(t),jE(t,n,!1);break;case"textarea":oh(t),ME(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ro(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?hl(t,!!n.multiple,a,!1):n.defaultValue!=null&&hl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Pp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wr(e),null;case 6:if(t&&e.stateNode!=null)bN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(oe(166));if(r=Vo(sf.current),Vo(fi.current),mh(e)){if(n=e.stateNode,r=e.memoizedProps,n[ai]=e,(a=n.nodeValue!==r)&&(t=un,t!==null))switch(t.tag){case 3:ph(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ph(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ai]=e,e.stateNode=n}return wr(e),null;case 13:if(Et(It),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tt&&ln!==null&&e.mode&1&&!(e.flags&128))$C(),Cl(),e.flags|=98560,a=!1;else if(a=mh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(oe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(oe(317));a[ai]=e}else Cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wr(e),a=!1}else Un!==null&&(mb(Un),Un=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||It.current&1?Qt===0&&(Qt=3):c_())),e.updateQueue!==null&&(e.flags|=4),wr(e),null);case 4:return Rl(),sb(t,e),t===null&&rf(e.stateNode.containerInfo),wr(e),null;case 10:return Hw(e.type._context),wr(e),null;case 17:return Zr(e.type)&&Ip(),wr(e),null;case 19:if(Et(It),a=e.memoizedState,a===null)return wr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Xc(a,!1);else{if(Qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mp(t),o!==null){for(e.flags|=128,Xc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return pt(It,It.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ut()>Dl&&(e.flags|=128,n=!0,Xc(a,!1),e.lanes=4194304)}else{if(!n)if(t=Mp(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Xc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Tt)return wr(e),null}else 2*Ut()-a.renderingStartTime>Dl&&r!==1073741824&&(e.flags|=128,n=!0,Xc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ut(),e.sibling=null,r=It.current,pt(It,n?r&1|2:r&1),e):(wr(e),null);case 22:case 23:return l_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?an&1073741824&&(wr(e),e.subtreeFlags&6&&(e.flags|=8192)):wr(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function y6(t,e){switch(Bw(e),e.tag){case 1:return Zr(e.type)&&Ip(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rl(),Et(Jr),Et(Or),Qw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yw(e),null;case 13:if(Et(It),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Et(It),null;case 4:return Rl(),null;case 10:return Hw(e.type._context),null;case 22:case 23:return l_(),null;case 24:return null;default:return null}}var vh=!1,Tr=!1,v6=typeof WeakSet=="function"?WeakSet:Set,ge=null;function al(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Mt(t,e,n)}else r.current=null}function lb(t,e,r){try{r()}catch(n){Mt(t,e,n)}}var SS=!1;function b6(t,e){if(W0=Sp,t=EC(),Vw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===i&&(s=o),h===a&&++u===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(H0={focusedElem:t,selectionRange:r},Sp=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,k=e.stateNode,y=k.getSnapshotBeforeUpdate(e.elementType===e.type?b:Ln(e.type,b),x);k.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(_){Mt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return v=SS,SS=!1,v}function Ou(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&lb(e,r,a)}i=i.next}while(i!==n)}}function yg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function cb(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function xN(t){var e=t.alternate;e!==null&&(t.alternate=null,xN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ai],delete e[af],delete e[X0],delete e[t6],delete e[r6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wN(t){return t.tag===5||t.tag===3||t.tag===4}function TS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ub(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Pp));else if(n!==4&&(t=t.child,t!==null))for(ub(t,e,r),t=t.sibling;t!==null;)ub(t,e,r),t=t.sibling}function fb(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(fb(t,e,r),t=t.sibling;t!==null;)fb(t,e,r),t=t.sibling}var fr=null,Fn=!1;function xa(t,e,r){for(r=r.child;r!==null;)_N(t,e,r),r=r.sibling}function _N(t,e,r){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(cg,r)}catch{}switch(r.tag){case 5:Tr||al(r,e);case 6:var n=fr,i=Fn;fr=null,xa(t,e,r),fr=n,Fn=i,fr!==null&&(Fn?(t=fr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):fr.removeChild(r.stateNode));break;case 18:fr!==null&&(Fn?(t=fr,r=r.stateNode,t.nodeType===8?_v(t.parentNode,r):t.nodeType===1&&_v(t,r),Zu(t)):_v(fr,r.stateNode));break;case 4:n=fr,i=Fn,fr=r.stateNode.containerInfo,Fn=!0,xa(t,e,r),fr=n,Fn=i;break;case 0:case 11:case 14:case 15:if(!Tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&lb(r,e,o),i=i.next}while(i!==n)}xa(t,e,r);break;case 1:if(!Tr&&(al(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Mt(r,e,s)}xa(t,e,r);break;case 21:xa(t,e,r);break;case 22:r.mode&1?(Tr=(n=Tr)||r.memoizedState!==null,xa(t,e,r),Tr=n):xa(t,e,r);break;default:xa(t,e,r)}}function AS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new v6),e.forEach(function(n){var i=P6.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Mn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:fr=s.stateNode,Fn=!1;break e;case 3:fr=s.stateNode.containerInfo,Fn=!0;break e;case 4:fr=s.stateNode.containerInfo,Fn=!0;break e}s=s.return}if(fr===null)throw Error(oe(160));_N(a,o,i),fr=null,Fn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Mt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kN(e,t),e=e.sibling}function kN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),Zn(t),n&4){try{Ou(3,t,t.return),yg(3,t)}catch(b){Mt(t,t.return,b)}try{Ou(5,t,t.return)}catch(b){Mt(t,t.return,b)}}break;case 1:Mn(e,t),Zn(t),n&512&&r!==null&&al(r,r.return);break;case 5:if(Mn(e,t),Zn(t),n&512&&r!==null&&al(r,r.return),t.flags&32){var i=t.stateNode;try{Xu(i,"")}catch(b){Mt(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&WO(i,a),D0(s,o);var c=D0(s,a);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?YO(i,f):u==="dangerouslySetInnerHTML"?GO(i,f):u==="children"?Xu(i,f):Aw(i,u,f,c)}switch(s){case"input":O0(i,a);break;case"textarea":HO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?hl(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?hl(i,!!a.multiple,a.defaultValue,!0):hl(i,!!a.multiple,a.multiple?[]:"",!1))}i[af]=a}catch(b){Mt(t,t.return,b)}}break;case 6:if(Mn(e,t),Zn(t),n&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){Mt(t,t.return,b)}}break;case 3:if(Mn(e,t),Zn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zu(e.containerInfo)}catch(b){Mt(t,t.return,b)}break;case 4:Mn(e,t),Zn(t);break;case 13:Mn(e,t),Zn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(o_=Ut())),n&4&&AS(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Tr=(c=Tr)||u,Mn(e,t),Tr=c):Mn(e,t),Zn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ge=t,u=t.child;u!==null;){for(f=ge=u;ge!==null;){switch(h=ge,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ou(4,h,h.return);break;case 1:al(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){Mt(n,r,b)}}break;case 5:al(h,h.return);break;case 22:if(h.memoizedState!==null){IS(f);continue}}p!==null?(p.return=h,ge=p):IS(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=XO("display",o))}catch(b){Mt(t,t.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){Mt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mn(e,t),Zn(t),n&4&&AS(t);break;case 21:break;default:Mn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(wN(r)){var n=r;break e}r=r.return}throw Error(oe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Xu(i,""),n.flags&=-33);var a=TS(t);fb(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=TS(t);ub(t,s,o);break;default:throw Error(oe(161))}}catch(l){Mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x6(t,e,r){ge=t,EN(t)}function EN(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var i=ge,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||vh;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Tr;s=vh;var c=Tr;if(vh=o,(Tr=l)&&!c)for(ge=i;ge!==null;)o=ge,l=o.child,o.tag===22&&o.memoizedState!==null?OS(i):l!==null?(l.return=o,ge=l):OS(i);for(;a!==null;)ge=a,EN(a),a=a.sibling;ge=i,vh=s,Tr=c}PS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ge=a):PS(t)}}function PS(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tr||yg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Tr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ln(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&dS(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}dS(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Zu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Tr||e.flags&512&&cb(e)}catch(h){Mt(e,e.return,h)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function IS(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function OS(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{yg(4,e)}catch(l){Mt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Mt(e,i,l)}}var a=e.return;try{cb(e)}catch(l){Mt(e,a,l)}break;case 5:var o=e.return;try{cb(e)}catch(l){Mt(e,o,l)}}}catch(l){Mt(e,e.return,l)}if(e===t){ge=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ge=s;break}ge=e.return}}var w6=Math.ceil,Fp=la.ReactCurrentDispatcher,i_=la.ReactCurrentOwner,An=la.ReactCurrentBatchConfig,Ye=0,or=null,qt=null,pr=0,an=0,ol=co(0),Qt=0,ff=null,ts=0,vg=0,a_=0,Cu=null,Gr=null,o_=0,Dl=1/0,Ci=null,Vp=!1,db=null,Ka=null,bh=!1,La=null,Up=0,Nu=0,hb=null,ep=-1,tp=0;function Br(){return Ye&6?Ut():ep!==-1?ep:ep=Ut()}function Ga(t){return t.mode&1?Ye&2&&pr!==0?pr&-pr:i6.transition!==null?(tp===0&&(tp=lC()),tp):(t=it,t!==0||(t=window.event,t=t===void 0?16:mC(t.type)),t):1}function Wn(t,e,r,n){if(50<Nu)throw Nu=0,hb=null,Error(oe(185));dd(t,r,n),(!(Ye&2)||t!==or)&&(t===or&&(!(Ye&2)&&(vg|=r),Qt===4&&Pa(t,pr)),en(t,n),r===1&&Ye===0&&!(e.mode&1)&&(Dl=Ut()+500,pg&&uo()))}function en(t,e){var r=t.callbackNode;i5(t,e);var n=Ep(t,t===or?pr:0);if(n===0)r!==null&&FE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&FE(r),e===1)t.tag===0?n6(CS.bind(null,t)):jC(CS.bind(null,t)),Z5(function(){!(Ye&6)&&uo()}),r=null;else{switch(cC(n)){case 1:r=Nw;break;case 4:r=oC;break;case 16:r=kp;break;case 536870912:r=sC;break;default:r=kp}r=NN(r,SN.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function SN(t,e){if(ep=-1,tp=0,Ye&6)throw Error(oe(327));var r=t.callbackNode;if(vl()&&t.callbackNode!==r)return null;var n=Ep(t,t===or?pr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bp(t,n);else{e=n;var i=Ye;Ye|=2;var a=AN();(or!==t||pr!==e)&&(Ci=null,Dl=Ut()+500,Ho(t,e));do try{E6();break}catch(s){TN(t,s)}while(!0);Ww(),Fp.current=a,Ye=i,qt!==null?e=0:(or=null,pr=0,e=Qt)}if(e!==0){if(e===2&&(i=V0(t),i!==0&&(n=i,e=pb(t,i))),e===1)throw r=ff,Ho(t,0),Pa(t,n),en(t,Ut()),r;if(e===6)Pa(t,n);else{if(i=t.current.alternate,!(n&30)&&!_6(i)&&(e=Bp(t,n),e===2&&(a=V0(t),a!==0&&(n=a,e=pb(t,a))),e===1))throw r=ff,Ho(t,0),Pa(t,n),en(t,Ut()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(oe(345));case 2:No(t,Gr,Ci);break;case 3:if(Pa(t,n),(n&130023424)===n&&(e=o_+500-Ut(),10<e)){if(Ep(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Br(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=G0(No.bind(null,t,Gr,Ci),e);break}No(t,Gr,Ci);break;case 4:if(Pa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-qn(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*w6(n/1960))-n,10<n){t.timeoutHandle=G0(No.bind(null,t,Gr,Ci),n);break}No(t,Gr,Ci);break;case 5:No(t,Gr,Ci);break;default:throw Error(oe(329))}}}return en(t,Ut()),t.callbackNode===r?SN.bind(null,t):null}function pb(t,e){var r=Cu;return t.current.memoizedState.isDehydrated&&(Ho(t,e).flags|=256),t=Bp(t,e),t!==2&&(e=Gr,Gr=r,e!==null&&mb(e)),t}function mb(t){Gr===null?Gr=t:Gr.push.apply(Gr,t)}function _6(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Kn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pa(t,e){for(e&=~a_,e&=~vg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-qn(e),n=1<<r;t[r]=-1,e&=~n}}function CS(t){if(Ye&6)throw Error(oe(327));vl();var e=Ep(t,0);if(!(e&1))return en(t,Ut()),null;var r=Bp(t,e);if(t.tag!==0&&r===2){var n=V0(t);n!==0&&(e=n,r=pb(t,n))}if(r===1)throw r=ff,Ho(t,0),Pa(t,e),en(t,Ut()),r;if(r===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,No(t,Gr,Ci),en(t,Ut()),null}function s_(t,e){var r=Ye;Ye|=1;try{return t(e)}finally{Ye=r,Ye===0&&(Dl=Ut()+500,pg&&uo())}}function rs(t){La!==null&&La.tag===0&&!(Ye&6)&&vl();var e=Ye;Ye|=1;var r=An.transition,n=it;try{if(An.transition=null,it=1,t)return t()}finally{it=n,An.transition=r,Ye=e,!(Ye&6)&&uo()}}function l_(){an=ol.current,Et(ol)}function Ho(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,J5(r)),qt!==null)for(r=qt.return;r!==null;){var n=r;switch(Bw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ip();break;case 3:Rl(),Et(Jr),Et(Or),Qw();break;case 5:Yw(n);break;case 4:Rl();break;case 13:Et(It);break;case 19:Et(It);break;case 10:Hw(n.type._context);break;case 22:case 23:l_()}r=r.return}if(or=t,qt=t=Xa(t.current,null),pr=an=e,Qt=0,ff=null,a_=vg=ts=0,Gr=Cu=null,Fo!==null){for(e=0;e<Fo.length;e++)if(r=Fo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Fo=null}return t}function TN(t,e){do{var r=qt;try{if(Ww(),Qh.current=Lp,$p){for(var n=Ot.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}$p=!1}if(es=0,ir=Yt=Ot=null,Iu=!1,lf=0,i_.current=null,r===null||r.return===null){Qt=1,ff=e,qt=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=pr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=vS(o);if(p!==null){p.flags&=-257,bS(p,o,s,a,e),p.mode&1&&yS(a,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){yS(a,c,e),c_();break e}l=Error(oe(426))}}else if(Tt&&s.mode&1){var x=vS(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),bS(x,o,s,a,e),zw(jl(l,s));break e}}a=l=jl(l,s),Qt!==4&&(Qt=2),Cu===null?Cu=[a]:Cu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var k=cN(a,l,e);fS(a,k);break e;case 1:s=l;var y=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ka===null||!Ka.has(g)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=uN(a,s,e);fS(a,_);break e}}a=a.return}while(a!==null)}IN(r)}catch(T){e=T,qt===r&&r!==null&&(qt=r=r.return);continue}break}while(!0)}function AN(){var t=Fp.current;return Fp.current=Lp,t===null?Lp:t}function c_(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),or===null||!(ts&268435455)&&!(vg&268435455)||Pa(or,pr)}function Bp(t,e){var r=Ye;Ye|=2;var n=AN();(or!==t||pr!==e)&&(Ci=null,Ho(t,e));do try{k6();break}catch(i){TN(t,i)}while(!0);if(Ww(),Ye=r,Fp.current=n,qt!==null)throw Error(oe(261));return or=null,pr=0,Qt}function k6(){for(;qt!==null;)PN(qt)}function E6(){for(;qt!==null&&!X3();)PN(qt)}function PN(t){var e=CN(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?IN(t):qt=e,i_.current=null}function IN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=y6(r,e),r!==null){r.flags&=32767,qt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qt=6,qt=null;return}}else if(r=g6(r,e,an),r!==null){qt=r;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);Qt===0&&(Qt=5)}function No(t,e,r){var n=it,i=An.transition;try{An.transition=null,it=1,S6(t,e,r,n)}finally{An.transition=i,it=n}return null}function S6(t,e,r,n){do vl();while(La!==null);if(Ye&6)throw Error(oe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(a5(t,a),t===or&&(qt=or=null,pr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bh||(bh=!0,NN(kp,function(){return vl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=An.transition,An.transition=null;var o=it;it=1;var s=Ye;Ye|=4,i_.current=null,b6(t,r),kN(r,t),W5(H0),Sp=!!W0,H0=W0=null,t.current=r,x6(r),Y3(),Ye=s,it=o,An.transition=a}else t.current=r;if(bh&&(bh=!1,La=t,Up=i),a=t.pendingLanes,a===0&&(Ka=null),Z3(r.stateNode),en(t,Ut()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Vp)throw Vp=!1,t=db,db=null,t;return Up&1&&t.tag!==0&&vl(),a=t.pendingLanes,a&1?t===hb?Nu++:(Nu=0,hb=t):Nu=0,uo(),null}function vl(){if(La!==null){var t=cC(Up),e=An.transition,r=it;try{if(An.transition=null,it=16>t?16:t,La===null)var n=!1;else{if(t=La,La=null,Up=0,Ye&6)throw Error(oe(331));var i=Ye;for(Ye|=4,ge=t.current;ge!==null;){var a=ge,o=a.child;if(ge.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ge=c;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Ou(8,u,a)}var f=u.child;if(f!==null)f.return=u,ge=f;else for(;ge!==null;){u=ge;var h=u.sibling,p=u.return;if(xN(u),u===c){ge=null;break}if(h!==null){h.return=p,ge=h;break}ge=p}}}var v=a.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}ge=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ge=o;else e:for(;ge!==null;){if(a=ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ou(9,a,a.return)}var k=a.sibling;if(k!==null){k.return=a.return,ge=k;break e}ge=a.return}}var y=t.current;for(ge=y;ge!==null;){o=ge;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,ge=g;else e:for(o=y;ge!==null;){if(s=ge,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:yg(9,s)}}catch(T){Mt(s,s.return,T)}if(s===o){ge=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,ge=_;break e}ge=s.return}}if(Ye=i,uo(),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(cg,t)}catch{}n=!0}return n}finally{it=r,An.transition=e}}return!1}function NS(t,e,r){e=jl(r,e),e=cN(t,e,1),t=Ha(t,e,1),e=Br(),t!==null&&(dd(t,1,e),en(t,e))}function Mt(t,e,r){if(t.tag===3)NS(t,t,r);else for(;e!==null;){if(e.tag===3){NS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ka===null||!Ka.has(n))){t=jl(r,t),t=uN(e,t,1),e=Ha(e,t,1),t=Br(),e!==null&&(dd(e,1,t),en(e,t));break}}e=e.return}}function T6(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Br(),t.pingedLanes|=t.suspendedLanes&r,or===t&&(pr&r)===r&&(Qt===4||Qt===3&&(pr&130023424)===pr&&500>Ut()-o_?Ho(t,0):a_|=r),en(t,e)}function ON(t,e){e===0&&(t.mode&1?(e=ch,ch<<=1,!(ch&130023424)&&(ch=4194304)):e=1);var r=Br();t=Qi(t,e),t!==null&&(dd(t,e,r),en(t,r))}function A6(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ON(t,r)}function P6(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(oe(314))}n!==null&&n.delete(e),ON(t,r)}var CN;CN=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jr.current)Yr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Yr=!1,m6(t,e,r);Yr=!!(t.flags&131072)}else Yr=!1,Tt&&e.flags&1048576&&DC(e,Np,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Zh(t,e),t=e.pendingProps;var i=Ol(e,Or.current);yl(e,r),i=Zw(null,e,n,t,i,r);var a=e_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zr(n)?(a=!0,Op(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gw(e),i.updater=gg,e.stateNode=i,i._reactInternals=e,tb(e,n,t,r),e=ib(null,e,n,!0,a,r)):(e.tag=0,Tt&&a&&Uw(e),Dr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Zh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=O6(n),t=Ln(n,t),i){case 0:e=nb(null,e,n,t,r);break e;case 1:e=_S(null,e,n,t,r);break e;case 11:e=xS(null,e,n,t,r);break e;case 14:e=wS(null,e,n,Ln(n.type,t),r);break e}throw Error(oe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ln(n,i),nb(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ln(n,i),_S(t,e,n,i,r);case 3:e:{if(pN(e),t===null)throw Error(oe(387));n=e.pendingProps,a=e.memoizedState,i=a.element,UC(t,e),Dp(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=jl(Error(oe(423)),e),e=kS(t,e,n,r,i);break e}else if(n!==i){i=jl(Error(oe(424)),e),e=kS(t,e,n,r,i);break e}else for(ln=Wa(e.stateNode.containerInfo.firstChild),un=e,Tt=!0,Un=null,r=FC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cl(),n===i){e=Ji(t,e,r);break e}Dr(t,e,n,r)}e=e.child}return e;case 5:return BC(e),t===null&&J0(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,K0(n,i)?o=null:a!==null&&K0(n,a)&&(e.flags|=32),hN(t,e),Dr(t,e,o,r),e.child;case 6:return t===null&&J0(e),null;case 13:return mN(t,e,r);case 4:return Xw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Nl(e,null,n,r):Dr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ln(n,i),xS(t,e,n,i,r);case 7:return Dr(t,e,e.pendingProps,r),e.child;case 8:return Dr(t,e,e.pendingProps.children,r),e.child;case 12:return Dr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,pt(Rp,n._currentValue),n._currentValue=o,a!==null)if(Kn(a.value,o)){if(a.children===i.children&&!Jr.current){e=Ji(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=zi(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Z0(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(oe(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Z0(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Dr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,yl(e,r),i=On(i),n=n(i),e.flags|=1,Dr(t,e,n,r),e.child;case 14:return n=e.type,i=Ln(n,e.pendingProps),i=Ln(n.type,i),wS(t,e,n,i,r);case 15:return fN(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ln(n,i),Zh(t,e),e.tag=1,Zr(n)?(t=!0,Op(e)):t=!1,yl(e,r),lN(e,n,i),tb(e,n,i,r),ib(null,e,n,!0,t,r);case 19:return gN(t,e,r);case 22:return dN(t,e,r)}throw Error(oe(156,e.tag))};function NN(t,e){return aC(t,e)}function I6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,r,n){return new I6(t,e,r,n)}function u_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function O6(t){if(typeof t=="function")return u_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iw)return 11;if(t===Ow)return 14}return 2}function Xa(t,e){var r=t.alternate;return r===null?(r=Sn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function rp(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")u_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ys:return Ko(r.children,i,a,e);case Pw:o=8,i|=8;break;case S0:return t=Sn(12,r,e,i|2),t.elementType=S0,t.lanes=a,t;case T0:return t=Sn(13,r,e,i),t.elementType=T0,t.lanes=a,t;case A0:return t=Sn(19,r,e,i),t.elementType=A0,t.lanes=a,t;case BO:return bg(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VO:o=10;break e;case UO:o=9;break e;case Iw:o=11;break e;case Ow:o=14;break e;case ka:o=16,n=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=Sn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ko(t,e,r,n){return t=Sn(7,t,n,e),t.lanes=r,t}function bg(t,e,r,n){return t=Sn(22,t,n,e),t.elementType=BO,t.lanes=r,t.stateNode={isHidden:!1},t}function Ov(t,e,r){return t=Sn(6,t,null,e),t.lanes=r,t}function Cv(t,e,r){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function C6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fv(0),this.expirationTimes=fv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function f_(t,e,r,n,i,a,o,s,l){return t=new C6(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Sn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gw(a),t}function N6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function RN(t){if(!t)return no;t=t._reactInternals;e:{if(ys(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var r=t.type;if(Zr(r))return RC(t,r,e)}return e}function jN(t,e,r,n,i,a,o,s,l){return t=f_(r,n,!0,t,i,a,o,s,l),t.context=RN(null),r=t.current,n=Br(),i=Ga(r),a=zi(n,i),a.callback=e??null,Ha(r,a,i),t.current.lanes=i,dd(t,i,n),en(t,n),t}function xg(t,e,r,n){var i=e.current,a=Br(),o=Ga(i);return r=RN(r),e.context===null?e.context=r:e.pendingContext=r,e=zi(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ha(i,e,o),t!==null&&(Wn(t,i,o,a),Yh(t,i,o)),o}function zp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function RS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function d_(t,e){RS(t,e),(t=t.alternate)&&RS(t,e)}function R6(){return null}var DN=typeof reportError=="function"?reportError:function(t){console.error(t)};function h_(t){this._internalRoot=t}wg.prototype.render=h_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));xg(t,e,null,null)};wg.prototype.unmount=h_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rs(function(){xg(null,t,null,null)}),e[Yi]=null}};function wg(t){this._internalRoot=t}wg.prototype.unstable_scheduleHydration=function(t){if(t){var e=dC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Aa.length&&e!==0&&e<Aa[r].priority;r++);Aa.splice(r,0,t),r===0&&pC(t)}};function p_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jS(){}function j6(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=zp(o);a.call(c)}}var o=jN(e,n,t,0,null,!1,!1,"",jS);return t._reactRootContainer=o,t[Yi]=o.current,rf(t.nodeType===8?t.parentNode:t),rs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=zp(l);s.call(c)}}var l=f_(t,0,!1,null,null,!1,!1,"",jS);return t._reactRootContainer=l,t[Yi]=l.current,rf(t.nodeType===8?t.parentNode:t),rs(function(){xg(e,l,r,n)}),l}function kg(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=zp(o);s.call(l)}}xg(e,o,t,i)}else o=j6(r,e,t,i,n);return zp(o)}uC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=hu(e.pendingLanes);r!==0&&(Rw(e,r|1),en(e,Ut()),!(Ye&6)&&(Dl=Ut()+500,uo()))}break;case 13:rs(function(){var n=Qi(t,1);if(n!==null){var i=Br();Wn(n,t,1,i)}}),d_(t,1)}};jw=function(t){if(t.tag===13){var e=Qi(t,134217728);if(e!==null){var r=Br();Wn(e,t,134217728,r)}d_(t,134217728)}};fC=function(t){if(t.tag===13){var e=Ga(t),r=Qi(t,e);if(r!==null){var n=Br();Wn(r,t,e,n)}d_(t,e)}};dC=function(){return it};hC=function(t,e){var r=it;try{return it=t,e()}finally{it=r}};$0=function(t,e,r){switch(e){case"input":if(O0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=hg(n);if(!i)throw Error(oe(90));qO(n),O0(n,i)}}}break;case"textarea":HO(t,r);break;case"select":e=r.value,e!=null&&hl(t,!!r.multiple,e,!1)}};ZO=s_;eC=rs;var D6={usingClientEntryPoint:!1,Events:[pd,el,hg,QO,JO,s_]},Yc={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M6={bundleType:Yc.bundleType,version:Yc.version,rendererPackageName:Yc.rendererPackageName,rendererConfig:Yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:la.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nC(t),t===null?null:t.stateNode},findFiberByHostInstance:Yc.findFiberByHostInstance||R6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{cg=xh.inject(M6),ui=xh}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D6;hn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p_(e))throw Error(oe(200));return N6(t,e,null,r)};hn.createRoot=function(t,e){if(!p_(t))throw Error(oe(299));var r=!1,n="",i=DN;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=f_(t,1,!1,null,null,r,!1,n,i),t[Yi]=e.current,rf(t.nodeType===8?t.parentNode:t),new h_(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=nC(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return rs(t)};hn.hydrate=function(t,e,r){if(!_g(e))throw Error(oe(200));return kg(null,t,e,!0,r)};hn.hydrateRoot=function(t,e,r){if(!p_(t))throw Error(oe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=DN;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=jN(e,null,t,1,r??null,i,!1,a,o),t[Yi]=e.current,rf(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new wg(e)};hn.render=function(t,e,r){if(!_g(e))throw Error(oe(200));return kg(null,t,e,!1,r)};hn.unmountComponentAtNode=function(t){if(!_g(t))throw Error(oe(40));return t._reactRootContainer?(rs(function(){kg(null,null,t,!1,function(){t._reactRootContainer=null,t[Yi]=null})}),!0):!1};hn.unstable_batchedUpdates=s_;hn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!_g(r))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return kg(t,e,r,!1,n)};hn.version="18.3.1-next-f1338f8080-20240426";function MN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MN)}catch(t){console.error(t)}}MN(),MO.exports=hn;var $6=MO.exports,$N,DS=$6;$N=DS.createRoot,DS.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},df.apply(this,arguments)}var Fa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fa||(Fa={}));const MS="popstate";function L6(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return gb("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:qp(i)}return V6(e,r,null,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F6(){return Math.random().toString(36).substr(2,8)}function $S(t,e){return{usr:t.state,key:t.key,idx:e}}function gb(t,e,r,n){return r===void 0&&(r=null),df({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fc(e):e,{state:r,key:e&&e.key||n||F6()})}function qp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function V6(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Fa.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(df({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=Fa.Pop;let x=u(),k=x==null?null:x-c;c=x,l&&l({action:s,location:b.location,delta:k})}function h(x,k){s=Fa.Push;let y=gb(b.location,x,k);c=u()+1;let g=$S(y,c),_=b.createHref(y);try{o.pushState(g,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(_)}a&&l&&l({action:s,location:b.location,delta:1})}function p(x,k){s=Fa.Replace;let y=gb(b.location,x,k);c=u();let g=$S(y,c),_=b.createHref(y);o.replaceState(g,"",_),a&&l&&l({action:s,location:b.location,delta:0})}function v(x){let k=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof x=="string"?x:qp(x);return y=y.replace(/ $/,"%20"),Bt(k,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,k)}let b={get action(){return s},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(MS,f),l=x,()=>{i.removeEventListener(MS,f),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let k=v(x);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:h,replace:p,go(x){return o.go(x)}};return b}var LS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(LS||(LS={}));function U6(t,e,r){return r===void 0&&(r="/"),B6(t,e,r,!1)}function B6(t,e,r,n){let i=typeof e=="string"?fc(e):e,a=m_(i.pathname||"/",r);if(a==null)return null;let o=FN(t);z6(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=eF(a);s=J6(o[l],c,n)}return s}function FN(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Bt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Ya([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Bt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),FN(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:Y6(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of VN(a.path))i(a,o,l)}),e}function VN(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=VN(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function z6(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Q6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const q6=/^:[\w-]+$/,W6=3,H6=2,K6=1,G6=10,X6=-2,FS=t=>t==="*";function Y6(t,e){let r=t.split("/"),n=r.length;return r.some(FS)&&(n+=X6),e&&(n+=H6),r.filter(i=>!FS(i)).reduce((i,a)=>i+(q6.test(a)?W6:a===""?K6:G6),n)}function Q6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function J6(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=VS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=VS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ya([a,f.pathname]),pathnameBase:iF(Ya([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ya([a,f.pathnameBase]))}return o}function VS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Z6(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let b=s[f]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=s[f];return p&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function Z6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),LN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function eF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return LN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function m_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function tF(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?fc(t):t;return{pathname:r?r.startsWith("/")?r:rF(r,e):e,search:aF(n),hash:oF(i)}}function rF(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Nv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nF(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function g_(t,e){let r=nF(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function y_(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=fc(t):(i=df({},t),Bt(!i.pathname||!i.pathname.includes("?"),Nv("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),Nv("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),Nv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=tF(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ya=t=>t.join("/").replace(/\/\/+/g,"/"),iF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const UN=["post","put","patch","delete"];new Set(UN);const lF=["get",...UN];new Set(lF);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hf.apply(this,arguments)}const v_=D.createContext(null),cF=D.createContext(null),fo=D.createContext(null),Eg=D.createContext(null),ho=D.createContext({outlet:null,matches:[],isDataRoute:!1}),BN=D.createContext(null);function uF(t,e){let{relative:r}=e===void 0?{}:e;dc()||Bt(!1);let{basename:n,navigator:i}=D.useContext(fo),{hash:a,pathname:o,search:s}=qN(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Ya([n,o])),i.createHref({pathname:l,search:s,hash:a})}function dc(){return D.useContext(Eg)!=null}function vs(){return dc()||Bt(!1),D.useContext(Eg).location}function zN(t){D.useContext(fo).static||D.useLayoutEffect(t)}function Sg(){let{isDataRoute:t}=D.useContext(ho);return t?kF():fF()}function fF(){dc()||Bt(!1);let t=D.useContext(v_),{basename:e,future:r,navigator:n}=D.useContext(fo),{matches:i}=D.useContext(ho),{pathname:a}=vs(),o=JSON.stringify(g_(i,r.v7_relativeSplatPath)),s=D.useRef(!1);return zN(()=>{s.current=!0}),D.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=y_(c,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ya([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,o,a,t])}function qN(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=D.useContext(fo),{matches:i}=D.useContext(ho),{pathname:a}=vs(),o=JSON.stringify(g_(i,n.v7_relativeSplatPath));return D.useMemo(()=>y_(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function dF(t,e){return hF(t,e)}function hF(t,e,r,n){dc()||Bt(!1);let{navigator:i}=D.useContext(fo),{matches:a}=D.useContext(ho),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=vs(),u;if(e){var f;let x=typeof e=="string"?fc(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Bt(!1),u=x}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=U6(t,{pathname:p}),b=vF(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},s,x.params),pathname:Ya([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ya([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return e&&b?D.createElement(Eg.Provider,{value:{location:hf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fa.Pop}},b):b}function pF(){let t=_F(),e=sF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,null)}const mF=D.createElement(pF,null);class gF extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?D.createElement(ho.Provider,{value:this.props.routeContext},D.createElement(BN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yF(t){let{routeContext:e,match:r,children:n}=t,i=D.useContext(v_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(ho.Provider,{value:e},n)}function vF(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||Bt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,v=!1,b=null,x=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,b=f.route.errorElement||mF,l&&(c<0&&h===0?(v=!0,x=null):c===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,h+1)),y=()=>{let g;return p?g=b:v?g=x:f.route.Component?g=D.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=u,D.createElement(yF,{match:f,routeContext:{outlet:u,matches:k,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?D.createElement(gF,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:y(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):y()},null)}var WN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WN||{}),Wp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wp||{});function bF(t){let e=D.useContext(v_);return e||Bt(!1),e}function xF(t){let e=D.useContext(cF);return e||Bt(!1),e}function wF(t){let e=D.useContext(ho);return e||Bt(!1),e}function HN(t){let e=wF(),r=e.matches[e.matches.length-1];return r.route.id||Bt(!1),r.route.id}function _F(){var t;let e=D.useContext(BN),r=xF(Wp.UseRouteError),n=HN(Wp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function kF(){let{router:t}=bF(WN.UseNavigateStable),e=HN(Wp.UseNavigateStable),r=D.useRef(!1);return zN(()=>{r.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hf({fromRouteId:e},a)))},[t,e])}function KN(t){let{to:e,replace:r,state:n,relative:i}=t;dc()||Bt(!1);let{future:a,static:o}=D.useContext(fo),{matches:s}=D.useContext(ho),{pathname:l}=vs(),c=Sg(),u=y_(e,g_(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return D.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function _a(t){Bt(!1)}function EF(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Fa.Pop,navigator:a,static:o=!1,future:s}=t;dc()&&Bt(!1);let l=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:a,static:o,future:hf({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=fc(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,b=D.useMemo(()=>{let x=m_(u,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:v},navigationType:i}},[l,u,f,h,p,v,i]);return b==null?null:D.createElement(fo.Provider,{value:c},D.createElement(Eg.Provider,{children:r,value:b}))}function SF(t){let{children:e,location:r}=t;return dF(yb(e),r)}new Promise(()=>{});function yb(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let a=[...e,i];if(n.type===D.Fragment){r.push.apply(r,yb(n.props.children,a));return}n.type!==_a&&Bt(!1),!n.props.index||!n.props.children||Bt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=yb(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vb(){return vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vb.apply(this,arguments)}function TF(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function AF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PF(t,e){return t.button===0&&(!e||e==="_self")&&!AF(t)}const IF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],OF="6";try{window.__reactRouterVersion=OF}catch{}const CF="startTransition",US=T3[CF];function NF(t){let{basename:e,children:r,future:n,window:i}=t,a=D.useRef();a.current==null&&(a.current=L6({window:i,v5Compat:!0}));let o=a.current,[s,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=D.useCallback(f=>{c&&US?US(()=>l(f)):l(f)},[l,c]);return D.useLayoutEffect(()=>o.listen(u),[o,u]),D.createElement(EF,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const RF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$s=D.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,unstable_viewTransition:f}=e,h=TF(e,IF),{basename:p}=D.useContext(fo),v,b=!1;if(typeof c=="string"&&jF.test(c)&&(v=c,RF))try{let g=new URL(window.location.href),_=c.startsWith("//")?new URL(g.protocol+c):new URL(c),T=m_(_.pathname,p);_.origin===g.origin&&T!=null?c=T+_.search+_.hash:b=!0}catch{}let x=uF(c,{relative:i}),k=DF(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:f});function y(g){n&&n(g),g.defaultPrevented||k(g)}return D.createElement("a",vb({},h,{href:v||x,onClick:b||a?n:y,ref:r,target:l}))});var BS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(BS||(BS={}));var zS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zS||(zS={}));function DF(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=Sg(),c=vs(),u=qN(t,{relative:o});return D.useCallback(f=>{if(PF(f,r)){f.preventDefault();let h=n!==void 0?n:qp(c)===qp(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[c,l,u,n,i,r,t,a,o,s])}var gd=t=>t.type==="checkbox",sl=t=>t instanceof Date,Mr=t=>t==null;const GN=t=>typeof t=="object";var Kt=t=>!Mr(t)&&!Array.isArray(t)&&GN(t)&&!sl(t),MF=t=>Kt(t)&&t.target?gd(t.target)?t.target.checked:t.target.value:t,$F=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,LF=(t,e)=>t.has($F(e)),FF=t=>{const e=t.constructor&&t.constructor.prototype;return Kt(e)&&e.hasOwnProperty("isPrototypeOf")},b_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bn(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(b_&&(t instanceof Blob||t instanceof FileList))&&(r||Kt(t)))if(e=r?[]:{},!r&&!FF(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=bn(t[n]));else return t;return e}var Tg=t=>Array.isArray(t)?t.filter(Boolean):[],Ft=t=>t===void 0,ve=(t,e,r)=>{if(!e||!Kt(t))return r;const n=Tg(e.split(/[,[\].]+?/)).reduce((i,a)=>Mr(i)?i:i[a],t);return Ft(n)||n===t?Ft(t[e])?r:t[e]:n},ri=t=>typeof t=="boolean",x_=t=>/^\w*$/.test(t),XN=t=>Tg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),bt=(t,e,r)=>{let n=-1;const i=x_(e)?[e]:XN(e),a=i.length,o=a-1;for(;++n<a;){const s=i[n];let l=r;if(n!==o){const c=t[s];l=Kt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(s==="__proto__")return;t[s]=l,t=t[s]}return t};const qS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Bn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ii={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};$.createContext(null);var VF=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Bn.all&&(e._proxyFormState[o]=!n||Bn.all),t[o]}});return i},Kr=t=>Kt(t)&&!Object.keys(t).length,UF=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Kr(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===Bn.all)},np=t=>Array.isArray(t)?t:[t];function BF(t){const e=$.useRef(t);e.current=t,$.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var oi=t=>typeof t=="string",zF=(t,e,r,n,i)=>oi(t)?(n&&e.watch.add(t),ve(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),ve(r,a))):(n&&(e.watchAll=!0),r),qF=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},WS=t=>({isOnSubmit:!t||t===Bn.onSubmit,isOnBlur:t===Bn.onBlur,isOnChange:t===Bn.onChange,isOnAll:t===Bn.all,isOnTouch:t===Bn.onTouched}),HS=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ru=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=ve(t,i);if(a){const{_f:o,...s}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Ru(s,e))break}else if(Kt(s)&&Ru(s,e))break}}};var WF=(t,e,r)=>{const n=np(ve(t,r));return bt(n,"root",e[r]),bt(t,r,n),t},w_=t=>t.type==="file",Mi=t=>typeof t=="function",Hp=t=>{if(!b_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ip=t=>oi(t),__=t=>t.type==="radio",Kp=t=>t instanceof RegExp;const KS={value:!1,isValid:!1},GS={value:!0,isValid:!0};var YN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ft(t[0].attributes.value)?Ft(t[0].value)||t[0].value===""?GS:{value:t[0].value,isValid:!0}:GS:KS}return KS};const XS={isValid:!1,value:null};var QN=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,XS):XS;function YS(t,e,r="validate"){if(ip(t)||Array.isArray(t)&&t.every(ip)||ri(t)&&!t)return{type:r,message:ip(t)?t:"",ref:e}}var Ls=t=>Kt(t)&&!Kp(t)?t:{value:t,message:""},QS=async(t,e,r,n,i)=>{const{ref:a,refs:o,required:s,maxLength:l,minLength:c,min:u,max:f,pattern:h,validate:p,name:v,valueAsNumber:b,mount:x,disabled:k}=t._f,y=ve(e,v);if(!x||k)return{};const g=o?o[0]:a,_=N=>{n&&g.reportValidity&&(g.setCustomValidity(ri(N)?"":N||""),g.reportValidity())},T={},I=__(a),E=gd(a),S=I||E,O=(b||w_(a))&&Ft(a.value)&&Ft(y)||Hp(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,C=qF.bind(null,v,r,T),R=(N,P,F,B=Ii.maxLength,W=Ii.minLength)=>{const X=N?P:F;T[v]={type:N?B:W,message:X,ref:a,...C(N?B:W,X)}};if(i?!Array.isArray(y)||!y.length:s&&(!S&&(O||Mr(y))||ri(y)&&!y||E&&!YN(o).isValid||I&&!QN(o).isValid)){const{value:N,message:P}=ip(s)?{value:!!s,message:s}:Ls(s);if(N&&(T[v]={type:Ii.required,message:P,ref:g,...C(Ii.required,P)},!r))return _(P),T}if(!O&&(!Mr(u)||!Mr(f))){let N,P;const F=Ls(f),B=Ls(u);if(!Mr(y)&&!isNaN(y)){const W=a.valueAsNumber||y&&+y;Mr(F.value)||(N=W>F.value),Mr(B.value)||(P=W<B.value)}else{const W=a.valueAsDate||new Date(y),X=te=>new Date(new Date().toDateString()+" "+te),U=a.type=="time",Y=a.type=="week";oi(F.value)&&y&&(N=U?X(y)>X(F.value):Y?y>F.value:W>new Date(F.value)),oi(B.value)&&y&&(P=U?X(y)<X(B.value):Y?y<B.value:W<new Date(B.value))}if((N||P)&&(R(!!N,F.message,B.message,Ii.max,Ii.min),!r))return _(T[v].message),T}if((l||c)&&!O&&(oi(y)||i&&Array.isArray(y))){const N=Ls(l),P=Ls(c),F=!Mr(N.value)&&y.length>+N.value,B=!Mr(P.value)&&y.length<+P.value;if((F||B)&&(R(F,N.message,P.message),!r))return _(T[v].message),T}if(h&&!O&&oi(y)){const{value:N,message:P}=Ls(h);if(Kp(N)&&!y.match(N)&&(T[v]={type:Ii.pattern,message:P,ref:a,...C(Ii.pattern,P)},!r))return _(P),T}if(p){if(Mi(p)){const N=await p(y,e),P=YS(N,g);if(P&&(T[v]={...P,...C(Ii.validate,P.message)},!r))return _(P.message),T}else if(Kt(p)){let N={};for(const P in p){if(!Kr(N)&&!r)break;const F=YS(await p[P](y,e),g,P);F&&(N={...F,...C(P,F.message)},_(F.message),r&&(T[v]=N))}if(!Kr(N)&&(T[v]={ref:g,...N},!r))return T}}return _(!0),T};function HF(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ft(t)?n++:t[e[n++]];return t}function KF(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ft(t[e]))return!1;return!0}function Xt(t,e){const r=Array.isArray(e)?e:x_(e)?[e]:XN(e),n=r.length===1?t:HF(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Kt(n)&&Kr(n)||Array.isArray(n)&&KF(n))&&Xt(t,r.slice(0,-1)),t}var Rv=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},Gp=t=>Mr(t)||!GN(t);function Ia(t,e){if(Gp(t)||Gp(e))return t===e;if(sl(t)&&sl(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(sl(a)&&sl(o)||Kt(a)&&Kt(o)||Array.isArray(a)&&Array.isArray(o)?!Ia(a,o):a!==o)return!1}}return!0}var JN=t=>t.type==="select-multiple",GF=t=>__(t)||gd(t),jv=t=>Hp(t)&&t.isConnected,ZN=t=>{for(const e in t)if(Mi(t[e]))return!0;return!1};function Xp(t,e={}){const r=Array.isArray(t);if(Kt(t)||r)for(const n in t)Array.isArray(t[n])||Kt(t[n])&&!ZN(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Xp(t[n],e[n])):Mr(t[n])||(e[n]=!0);return e}function eR(t,e,r){const n=Array.isArray(t);if(Kt(t)||n)for(const i in t)Array.isArray(t[i])||Kt(t[i])&&!ZN(t[i])?Ft(e)||Gp(r[i])?r[i]=Array.isArray(t[i])?Xp(t[i],[]):{...Xp(t[i])}:eR(t[i],Mr(e)?{}:e[i],r[i]):r[i]=!Ia(t[i],e[i]);return r}var wh=(t,e)=>eR(t,e,Xp(e)),tR=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ft(t)?t:e?t===""?NaN:t&&+t:r&&oi(t)?new Date(t):n?n(t):t;function Dv(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return w_(e)?e.files:__(e)?QN(t.refs).value:JN(e)?[...e.selectedOptions].map(({value:r})=>r):gd(e)?YN(t.refs).value:tR(Ft(e.value)?t.ref.value:e.value,t)}var XF=(t,e,r,n)=>{const i={};for(const a of t){const o=ve(e,a);o&&bt(i,a,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Qc=t=>Ft(t)?t:Kp(t)?t.source:Kt(t)?Kp(t.value)?t.value.source:t.value:t;const JS="AsyncFunction";var YF=t=>(!t||!t.validate)&&!!(Mi(t.validate)&&t.validate.constructor.name===JS||Kt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===JS)),QF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function ZS(t,e,r){const n=ve(t,r);if(n||x_(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=ve(e,a),s=ve(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:r}}var JF=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,ZF=(t,e)=>!Tg(ve(t,e)).length&&Xt(t,e);const eV={mode:Bn.onSubmit,reValidateMode:Bn.onChange,shouldFocusError:!0};function tV(t={}){let e={...eV,...t},r={submitCount:0,isDirty:!1,isLoading:Mi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Kt(e.defaultValues)||Kt(e.values)?bn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:bn(i),o={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Rv(),array:Rv(),state:Rv()},h=WS(e.mode),p=WS(e.reValidateMode),v=e.criteriaMode===Bn.all,b=M=>V=>{clearTimeout(c),c=setTimeout(M,V)},x=async M=>{if(u.isValid||M){const V=e.resolver?Kr((await S()).errors):await C(n,!0);V!==r.isValid&&f.state.next({isValid:V})}},k=(M,V)=>{(u.isValidating||u.validatingFields)&&((M||Array.from(s.mount)).forEach(q=>{q&&(V?bt(r.validatingFields,q,V):Xt(r.validatingFields,q))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Kr(r.validatingFields)}))},y=(M,V=[],q,re,ee=!0,L=!0)=>{if(re&&q){if(o.action=!0,L&&Array.isArray(ve(n,M))){const K=q(ve(n,M),re.argA,re.argB);ee&&bt(n,M,K)}if(L&&Array.isArray(ve(r.errors,M))){const K=q(ve(r.errors,M),re.argA,re.argB);ee&&bt(r.errors,M,K),ZF(r.errors,M)}if(u.touchedFields&&L&&Array.isArray(ve(r.touchedFields,M))){const K=q(ve(r.touchedFields,M),re.argA,re.argB);ee&&bt(r.touchedFields,M,K)}u.dirtyFields&&(r.dirtyFields=wh(i,a)),f.state.next({name:M,isDirty:N(M,V),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else bt(a,M,V)},g=(M,V)=>{bt(r.errors,M,V),f.state.next({errors:r.errors})},_=M=>{r.errors=M,f.state.next({errors:r.errors,isValid:!1})},T=(M,V,q,re)=>{const ee=ve(n,M);if(ee){const L=ve(a,M,Ft(q)?ve(i,M):q);Ft(L)||re&&re.defaultChecked||V?bt(a,M,V?L:Dv(ee._f)):B(M,L),o.mount&&x()}},I=(M,V,q,re,ee)=>{let L=!1,K=!1;const he={name:M},pe=!!(ve(n,M)&&ve(n,M)._f&&ve(n,M)._f.disabled);if(!q||re){u.isDirty&&(K=r.isDirty,r.isDirty=he.isDirty=N(),L=K!==he.isDirty);const _e=pe||Ia(ve(i,M),V);K=!!(!pe&&ve(r.dirtyFields,M)),_e||pe?Xt(r.dirtyFields,M):bt(r.dirtyFields,M,!0),he.dirtyFields=r.dirtyFields,L=L||u.dirtyFields&&K!==!_e}if(q){const _e=ve(r.touchedFields,M);_e||(bt(r.touchedFields,M,q),he.touchedFields=r.touchedFields,L=L||u.touchedFields&&_e!==q)}return L&&ee&&f.state.next(he),L?he:{}},E=(M,V,q,re)=>{const ee=ve(r.errors,M),L=u.isValid&&ri(V)&&r.isValid!==V;if(t.delayError&&q?(l=b(()=>g(M,q)),l(t.delayError)):(clearTimeout(c),l=null,q?bt(r.errors,M,q):Xt(r.errors,M)),(q?!Ia(ee,q):ee)||!Kr(re)||L){const K={...re,...L&&ri(V)?{isValid:V}:{},errors:r.errors,name:M};r={...r,...K},f.state.next(K)}},S=async M=>{k(M,!0);const V=await e.resolver(a,e.context,XF(M||s.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return k(M),V},O=async M=>{const{errors:V}=await S(M);if(M)for(const q of M){const re=ve(V,q);re?bt(r.errors,q,re):Xt(r.errors,q)}else r.errors=V;return V},C=async(M,V,q={valid:!0})=>{for(const re in M){const ee=M[re];if(ee){const{_f:L,...K}=ee;if(L){const he=s.array.has(L.name),pe=ee._f&&YF(ee._f);pe&&u.validatingFields&&k([re],!0);const _e=await QS(ee,a,v,e.shouldUseNativeValidation&&!V,he);if(pe&&u.validatingFields&&k([re]),_e[L.name]&&(q.valid=!1,V))break;!V&&(ve(_e,L.name)?he?WF(r.errors,_e,L.name):bt(r.errors,L.name,_e[L.name]):Xt(r.errors,L.name))}!Kr(K)&&await C(K,V,q)}}return q.valid},R=()=>{for(const M of s.unMount){const V=ve(n,M);V&&(V._f.refs?V._f.refs.every(q=>!jv(q)):!jv(V._f.ref))&&He(M)}s.unMount=new Set},N=(M,V)=>(M&&V&&bt(a,M,V),!Ia(ce(),i)),P=(M,V,q)=>zF(M,s,{...o.mount?a:Ft(V)?i:oi(M)?{[M]:V}:V},q,V),F=M=>Tg(ve(o.mount?a:i,M,t.shouldUnregister?ve(i,M,[]):[])),B=(M,V,q={})=>{const re=ve(n,M);let ee=V;if(re){const L=re._f;L&&(!L.disabled&&bt(a,M,tR(V,L)),ee=Hp(L.ref)&&Mr(V)?"":V,JN(L.ref)?[...L.ref.options].forEach(K=>K.selected=ee.includes(K.value)):L.refs?gd(L.ref)?L.refs.length>1?L.refs.forEach(K=>(!K.defaultChecked||!K.disabled)&&(K.checked=Array.isArray(ee)?!!ee.find(he=>he===K.value):ee===K.value)):L.refs[0]&&(L.refs[0].checked=!!ee):L.refs.forEach(K=>K.checked=K.value===ee):w_(L.ref)?L.ref.value="":(L.ref.value=ee,L.ref.type||f.values.next({name:M,values:{...a}})))}(q.shouldDirty||q.shouldTouch)&&I(M,ee,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&te(M)},W=(M,V,q)=>{for(const re in V){const ee=V[re],L=`${M}.${re}`,K=ve(n,L);(s.array.has(M)||!Gp(ee)||K&&!K._f)&&!sl(ee)?W(L,ee,q):B(L,ee,q)}},X=(M,V,q={})=>{const re=ve(n,M),ee=s.array.has(M),L=bn(V);bt(a,M,L),ee?(f.array.next({name:M,values:{...a}}),(u.isDirty||u.dirtyFields)&&q.shouldDirty&&f.state.next({name:M,dirtyFields:wh(i,a),isDirty:N(M,L)})):re&&!re._f&&!Mr(L)?W(M,L,q):B(M,L,q),HS(M,s)&&f.state.next({...r}),f.values.next({name:o.mount?M:void 0,values:{...a}})},U=async M=>{o.mount=!0;const V=M.target;let q=V.name,re=!0;const ee=ve(n,q),L=()=>V.type?Dv(ee._f):MF(M),K=he=>{re=Number.isNaN(he)||Ia(he,ve(a,q,he))};if(ee){let he,pe;const _e=L(),tt=M.type===qS.BLUR||M.type===qS.FOCUS_OUT,Hr=!QF(ee._f)&&!e.resolver&&!ve(r.errors,q)&&!ee._f.deps||JF(tt,ve(r.touchedFields,q),r.isSubmitted,p,h),ha=HS(q,s,tt);bt(a,q,_e),tt?(ee._f.onBlur&&ee._f.onBlur(M),l&&l(0)):ee._f.onChange&&ee._f.onChange(M);const ko=I(q,_e,tt,!1),pa=!Kr(ko)||ha;if(!tt&&f.values.next({name:q,type:M.type,values:{...a}}),Hr)return u.isValid&&(t.mode==="onBlur"?tt&&x():x()),pa&&f.state.next({name:q,...ha?{}:ko});if(!tt&&ha&&f.state.next({...r}),e.resolver){const{errors:ma}=await S([q]);if(K(_e),re){const Cc=ZS(r.errors,n,q),Si=ZS(ma,n,Cc.name||q);he=Si.error,q=Si.name,pe=Kr(ma)}}else k([q],!0),he=(await QS(ee,a,v,e.shouldUseNativeValidation))[q],k([q]),K(_e),re&&(he?pe=!1:u.isValid&&(pe=await C(n,!0)));re&&(ee._f.deps&&te(ee._f.deps),E(q,pe,he,ko))}},Y=(M,V)=>{if(ve(r.errors,V)&&M.focus)return M.focus(),1},te=async(M,V={})=>{let q,re;const ee=np(M);if(e.resolver){const L=await O(Ft(M)?M:ee);q=Kr(L),re=M?!ee.some(K=>ve(L,K)):q}else M?(re=(await Promise.all(ee.map(async L=>{const K=ve(n,L);return await C(K&&K._f?{[L]:K}:K)}))).every(Boolean),!(!re&&!r.isValid)&&x()):re=q=await C(n);return f.state.next({...!oi(M)||u.isValid&&q!==r.isValid?{}:{name:M},...e.resolver||!M?{isValid:q}:{},errors:r.errors}),V.shouldFocus&&!re&&Ru(n,Y,M?ee:s.mount),re},ce=M=>{const V={...o.mount?a:i};return Ft(M)?V:oi(M)?ve(V,M):M.map(q=>ve(V,q))},ae=(M,V)=>({invalid:!!ve((V||r).errors,M),isDirty:!!ve((V||r).dirtyFields,M),error:ve((V||r).errors,M),isValidating:!!ve(r.validatingFields,M),isTouched:!!ve((V||r).touchedFields,M)}),se=M=>{M&&np(M).forEach(V=>Xt(r.errors,V)),f.state.next({errors:M?r.errors:{}})},Se=(M,V,q)=>{const re=(ve(n,M,{_f:{}})._f||{}).ref,ee=ve(r.errors,M)||{},{ref:L,message:K,type:he,...pe}=ee;bt(r.errors,M,{...pe,...V,ref:re}),f.state.next({name:M,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&re&&re.focus&&re.focus()},Re=(M,V)=>Mi(M)?f.values.subscribe({next:q=>M(P(void 0,V),q)}):P(M,V,!0),He=(M,V={})=>{for(const q of M?np(M):s.mount)s.mount.delete(q),s.array.delete(q),V.keepValue||(Xt(n,q),Xt(a,q)),!V.keepError&&Xt(r.errors,q),!V.keepDirty&&Xt(r.dirtyFields,q),!V.keepTouched&&Xt(r.touchedFields,q),!V.keepIsValidating&&Xt(r.validatingFields,q),!e.shouldUnregister&&!V.keepDefaultValue&&Xt(i,q);f.values.next({values:{...a}}),f.state.next({...r,...V.keepDirty?{isDirty:N()}:{}}),!V.keepIsValid&&x()},$e=({disabled:M,name:V,field:q,fields:re,value:ee})=>{if(ri(M)&&o.mount||M){const L=M?void 0:Ft(ee)?Dv(q?q._f:ve(re,V)._f):ee;bt(a,V,L),I(V,L,!1,!1,!0)}},gt=(M,V={})=>{let q=ve(n,M);const re=ri(V.disabled)||ri(t.disabled);return bt(n,M,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:M}},name:M,mount:!0,...V}}),s.mount.add(M),q?$e({field:q,disabled:ri(V.disabled)?V.disabled:t.disabled,name:M,value:V.value}):T(M,!0,V.value),{...re?{disabled:V.disabled||t.disabled}:{},...e.progressive?{required:!!V.required,min:Qc(V.min),max:Qc(V.max),minLength:Qc(V.minLength),maxLength:Qc(V.maxLength),pattern:Qc(V.pattern)}:{},name:M,onChange:U,onBlur:U,ref:ee=>{if(ee){gt(M,V),q=ve(n,M);const L=Ft(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,K=GF(L),he=q._f.refs||[];if(K?he.find(pe=>pe===L):L===q._f.ref)return;bt(n,M,{_f:{...q._f,...K?{refs:[...he.filter(jv),L,...Array.isArray(ve(i,M))?[{}]:[]],ref:{type:L.type,name:M}}:{ref:L}}}),T(M,!1,void 0,L)}else q=ve(n,M,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||V.shouldUnregister)&&!(LF(s.array,M)&&o.action)&&s.unMount.add(M)}}},de=()=>e.shouldFocusError&&Ru(n,Y,s.mount),xe=M=>{ri(M)&&(f.state.next({disabled:M}),Ru(n,(V,q)=>{const re=ve(n,q);re&&(V.disabled=re._f.disabled||M,Array.isArray(re._f.refs)&&re._f.refs.forEach(ee=>{ee.disabled=re._f.disabled||M}))},0,!1))},Te=(M,V)=>async q=>{let re;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let ee=bn(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:L,values:K}=await S();r.errors=L,ee=K}else await C(n);if(Xt(r.errors,"root"),Kr(r.errors)){f.state.next({errors:{}});try{await M(ee,q)}catch(L){re=L}}else V&&await V({...r.errors},q),de(),setTimeout(de);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Kr(r.errors)&&!re,submitCount:r.submitCount+1,errors:r.errors}),re)throw re},Q=(M,V={})=>{ve(n,M)&&(Ft(V.defaultValue)?X(M,bn(ve(i,M))):(X(M,V.defaultValue),bt(i,M,bn(V.defaultValue))),V.keepTouched||Xt(r.touchedFields,M),V.keepDirty||(Xt(r.dirtyFields,M),r.isDirty=V.defaultValue?N(M,bn(ve(i,M))):N()),V.keepError||(Xt(r.errors,M),u.isValid&&x()),f.state.next({...r}))},Fe=(M,V={})=>{const q=M?bn(M):i,re=bn(q),ee=Kr(M),L=ee?i:re;if(V.keepDefaultValues||(i=q),!V.keepValues){if(V.keepDirtyValues)for(const K of s.mount)ve(r.dirtyFields,K)?bt(L,K,ve(a,K)):X(K,ve(L,K));else{if(b_&&Ft(M))for(const K of s.mount){const he=ve(n,K);if(he&&he._f){const pe=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(Hp(pe)){const _e=pe.closest("form");if(_e){_e.reset();break}}}}n={}}a=t.shouldUnregister?V.keepDefaultValues?bn(i):{}:bn(L),f.array.next({values:{...L}}),f.values.next({values:{...L}})}s={mount:V.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!V.keepIsValid||!!V.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:V.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:V.keepDirty?r.isDirty:!!(V.keepDefaultValues&&!Ia(M,i)),isSubmitted:V.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:V.keepDirtyValues?V.keepDefaultValues&&a?wh(i,a):r.dirtyFields:V.keepDefaultValues&&M?wh(i,M):V.keepDirty?r.dirtyFields:{},touchedFields:V.keepTouched?r.touchedFields:{},errors:V.keepErrors?r.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ae=(M,V)=>Fe(Mi(M)?M(a):M,V);return{control:{register:gt,unregister:He,getFieldState:ae,handleSubmit:Te,setError:Se,_executeSchema:S,_getWatch:P,_getDirty:N,_updateValid:x,_removeUnmounted:R,_updateFieldArray:y,_updateDisabledField:$e,_getFieldArray:F,_reset:Fe,_resetDefaultValues:()=>Mi(e.defaultValues)&&e.defaultValues().then(M=>{Ae(M,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:M=>{r={...r,...M}},_disableForm:xe,_subjects:f,_proxyFormState:u,_setErrors:_,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(M){o=M},get _defaultValues(){return i},get _names(){return s},set _names(M){s=M},get _formState(){return r},set _formState(M){r=M},get _options(){return e},set _options(M){e={...e,...M}}},trigger:te,register:gt,handleSubmit:Te,watch:Re,setValue:X,getValues:ce,reset:Ae,resetField:Q,clearErrors:se,unregister:He,setError:Se,setFocus:(M,V={})=>{const q=ve(n,M),re=q&&q._f;if(re){const ee=re.refs?re.refs[0]:re.ref;ee.focus&&(ee.focus(),V.shouldSelect&&ee.select())}},getFieldState:ae}}function rR(t={}){const e=$.useRef(),r=$.useRef(),[n,i]=$.useState({isDirty:!1,isValidating:!1,isLoading:Mi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Mi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...tV(t),formState:n});const a=e.current.control;return a._options=t,BF({subject:a._subjects.state,next:o=>{UF(o,a._proxyFormState,a._updateFormState)&&i({...a._formState})}}),$.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),$.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),$.useEffect(()=>{t.values&&!Ia(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),$.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),$.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),$.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=VF(n,a),e.current}var eT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},rV=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},iR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||f==null)throw new nV;const h=a<<2|s>>4;if(n.push(h),c!==64){const p=s<<4&240|c>>2;if(n.push(p),f!==64){const v=c<<6&192|f;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iV=function(t){const e=nR(t);return iR.encodeByteArray(e,!0)},Yp=function(t){return iV(t).replace(/\./g,"")},aR=function(t){try{return iR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=()=>aV().__FIREBASE_DEFAULTS__,sV=()=>{if(typeof process>"u"||typeof eT>"u")return;const t=eT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aR(t[1]);return e&&JSON.parse(e)},Ag=()=>{try{return oV()||sV()||lV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oR=t=>{var e,r;return(r=(e=Ag())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},sR=t=>{const e=oR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},lR=()=>{var t;return(t=Ag())===null||t===void 0?void 0:t.config},cR=t=>{var e;return(e=Ag())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yp(JSON.stringify(r)),Yp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function fV(){var t;const e=(t=Ag())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pV(){const t=Cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mV(){return!fV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gV(){try{return typeof indexedDB=="object"}catch{return!1}}function yV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="FirebaseError";class wi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=vV,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yd.prototype.create)}}class yd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?bV(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new wi(i,s,n)}}function bV(t,e){return t.replace(xV,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const xV=/\{\$([^}]+)}/g;function wV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(tT(a)&&tT(o)){if(!Qp(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function tT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function gu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function _V(t,e){const r=new kV(t,e);return r.subscribe.bind(r)}class kV{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");EV(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Mv),i.error===void 0&&(i.error=Mv),i.complete===void 0&&(i.complete=Mv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EV(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Mv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new cV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AV(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:TV(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TV(t){return t===Ro?void 0:t}function AV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new SV(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const IV={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},OV=qe.INFO,CV={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},NV=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=CV[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class k_{constructor(e){this.name=e,this._logLevel=OV,this._logHandler=NV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const RV=(t,e)=>e.some(r=>t instanceof r);let rT,nT;function jV(){return rT||(rT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DV(){return nT||(nT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fR=new WeakMap,bb=new WeakMap,dR=new WeakMap,$v=new WeakMap,E_=new WeakMap;function MV(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Qa(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&fR.set(r,t)}).catch(()=>{}),E_.set(e,t),e}function $V(t){if(bb.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});bb.set(t,e)}let xb={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return bb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dR.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qa(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LV(t){xb=t(xb)}function FV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Lv(this),e,...r);return dR.set(n,e.sort?e.sort():[e]),Qa(n)}:DV().includes(t)?function(...e){return t.apply(Lv(this),e),Qa(fR.get(this))}:function(...e){return Qa(t.apply(Lv(this),e))}}function VV(t){return typeof t=="function"?FV(t):(t instanceof IDBTransaction&&$V(t),RV(t,jV())?new Proxy(t,xb):t)}function Qa(t){if(t instanceof IDBRequest)return MV(t);if($v.has(t))return $v.get(t);const e=VV(t);return e!==t&&($v.set(t,e),E_.set(e,t)),e}const Lv=t=>E_.get(t);function UV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Qa(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Qa(o.result),l.oldVersion,l.newVersion,Qa(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const BV=["get","getKey","getAll","getAllKeys","count"],zV=["put","add","delete","clear"],Fv=new Map;function iT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fv.get(e))return Fv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=zV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||BV.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return Fv.set(e,a),a}LV(t=>({...t,get:(e,r,n)=>iT(e,r)||t.get(e,r,n),has:(e,r)=>!!iT(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(WV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function WV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wb="@firebase/app",aT="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new k_("@firebase/app"),HV="@firebase/app-compat",KV="@firebase/analytics-compat",GV="@firebase/analytics",XV="@firebase/app-check-compat",YV="@firebase/app-check",QV="@firebase/auth",JV="@firebase/auth-compat",ZV="@firebase/database",eU="@firebase/database-compat",tU="@firebase/functions",rU="@firebase/functions-compat",nU="@firebase/installations",iU="@firebase/installations-compat",aU="@firebase/messaging",oU="@firebase/messaging-compat",sU="@firebase/performance",lU="@firebase/performance-compat",cU="@firebase/remote-config",uU="@firebase/remote-config-compat",fU="@firebase/storage",dU="@firebase/storage-compat",hU="@firebase/firestore",pU="@firebase/vertexai-preview",mU="@firebase/firestore-compat",gU="firebase",yU="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="[DEFAULT]",vU={[wb]:"fire-core",[HV]:"fire-core-compat",[GV]:"fire-analytics",[KV]:"fire-analytics-compat",[YV]:"fire-app-check",[XV]:"fire-app-check-compat",[QV]:"fire-auth",[JV]:"fire-auth-compat",[ZV]:"fire-rtdb",[eU]:"fire-rtdb-compat",[tU]:"fire-fn",[rU]:"fire-fn-compat",[nU]:"fire-iid",[iU]:"fire-iid-compat",[aU]:"fire-fcm",[oU]:"fire-fcm-compat",[sU]:"fire-perf",[lU]:"fire-perf-compat",[cU]:"fire-rc",[uU]:"fire-rc-compat",[fU]:"fire-gcs",[dU]:"fire-gcs-compat",[hU]:"fire-fst",[mU]:"fire-fst-compat",[pU]:"fire-vertex","fire-js":"fire-js",[gU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=new Map,bU=new Map,kb=new Map;function oT(t,e){try{t.container.addComponent(e)}catch(r){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ns(t){const e=t.name;if(kb.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;kb.set(e,t);for(const r of Jp.values())oT(r,t);for(const r of bU.values())oT(r,t);return!0}function Pg(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new yd("app","Firebase",xU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=yU;function hR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:_b,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ja.create("bad-app-name",{appName:String(i)});if(r||(r=lR()),!r)throw Ja.create("no-options");const a=Jp.get(i);if(a){if(Qp(r,a.options)&&Qp(n,a.config))return a;throw Ja.create("duplicate-app",{appName:i})}const o=new PV(i);for(const l of kb.values())o.addComponent(l);const s=new wU(r,n,o);return Jp.set(i,s),s}function S_(t=_b){const e=Jp.get(t);if(!e&&t===_b&&lR())return hR();if(!e)throw Ja.create("no-app",{appName:t});return e}function di(t,e,r){var n;let i=(n=vU[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(s.join(" "));return}ns(new io(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U="firebase-heartbeat-database",kU=1,pf="firebase-heartbeat-store";let Vv=null;function pR(){return Vv||(Vv=UV(_U,kU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pf)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ja.create("idb-open",{originalErrorMessage:t.message})})),Vv}async function EU(t){try{const r=(await pR()).transaction(pf),n=await r.objectStore(pf).get(mR(t));return await r.done,n}catch(e){if(e instanceof wi)Zi.warn(e.message);else{const r=Ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(r.message)}}}async function sT(t,e){try{const n=(await pR()).transaction(pf,"readwrite");await n.objectStore(pf).put(e,mR(t)),await n.done}catch(r){if(r instanceof wi)Zi.warn(r.message);else{const n=Ja.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Zi.warn(n.message)}}}function mR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=1024,TU=30*24*60*60*1e3;class AU{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new IU(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=lT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=TU}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Zi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=lT(),{heartbeatsToSend:n,unsentEntries:i}=PU(this._heartbeatsCache.heartbeats),a=Yp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Zi.warn(r),""}}}function lT(){return new Date().toISOString().substring(0,10)}function PU(t,e=SU){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),cT(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),cT(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class IU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gV()?yV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await EU(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return sT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return sT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cT(t){return Yp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){ns(new io("platform-logger",e=>new qV(e),"PRIVATE")),ns(new io("heartbeat",e=>new AU(e),"PRIVATE")),di(wb,aT,t),di(wb,aT,"esm2017"),di("fire-js","")}OU("");function T_(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function gR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CU=gR,yR=new yd("auth","Firebase",gR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=new k_("@firebase/auth");function NU(t,...e){Zp.logLevel<=qe.WARN&&Zp.warn(`Auth (${bs}): ${t}`,...e)}function ap(t,...e){Zp.logLevel<=qe.ERROR&&Zp.error(`Auth (${bs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw A_(t,...e)}function hi(t,...e){return A_(t,...e)}function vR(t,e,r){const n=Object.assign(Object.assign({},CU()),{[e]:r});return new yd("auth","Firebase",n).create(e,{appName:t.name})}function qi(t){return vR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return yR.create(t,...e)}function Ie(t,e,...r){if(!t)throw A_(e,...r)}function $i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ap(e),new Error(e)}function ea(t,e){t||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RU(){return uT()==="http:"||uT()==="https:"}function uT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RU()||dV()||"connection"in navigator)?navigator.onLine:!0}function DU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,r){this.shortDelay=e,this.longDelay=r,ea(r>e,"Short delay should be less than long delay!"),this.isMobile=uV()||hV()}get(){return jU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e){ea(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=new bd(3e4,6e4);function po(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function mo(t,e,r,n,i={}){return xR(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=vd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),bR.fetch()(wR(t,t.config.apiHost,r,s),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},a))})}async function xR(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},MU),e);try{const i=new FU(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw _h(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _h(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw _h(t,"user-disabled",o);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw vR(t,u,c);Gn(t,u)}}catch(i){if(i instanceof wi)throw i;Gn(t,"network-request-failed",{message:String(i)})}}async function xd(t,e,r,n,i={}){const a=await mo(t,e,r,n,i);return"mfaPendingCredential"in a&&Gn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function wR(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?P_(t.config,i):`${t.config.apiScheme}://${i}`}function LU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(hi(this.auth,"network-request-failed")),$U.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _h(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=hi(t,e,n);return i.customData._tokenResponse=r,i}function fT(t){return t!==void 0&&t.enterprise!==void 0}class VU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return LU(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function UU(t,e){return mo(t,"GET","/v2/recaptchaConfig",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(t,e){return mo(t,"POST","/v1/accounts:delete",e)}async function _R(t,e){return mo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zU(t,e=!1){const r=Nt(t),n=await r.getIdToken(e),i=I_(n);Ie(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:ju(Uv(i.auth_time)),issuedAtTime:ju(Uv(i.iat)),expirationTime:ju(Uv(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Uv(t){return Number(t)*1e3}function I_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return ap("JWT malformed, contained fewer than 3 sections"),null;try{const i=aR(r);return i?JSON.parse(i):(ap("Failed to decode base64 JWT payload"),null)}catch(i){return ap("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dT(t){const e=I_(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof wi&&qU(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function qU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(t){var e;const r=t.auth,n=await t.getIdToken(),i=await mf(t,_R(r,{idToken:n}));Ie(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?kR(a.providerUserInfo):[],s=KU(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),u=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Sb(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function HU(t){const e=Nt(t);await em(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KU(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function kR(t){return t.map(e=>{var{providerId:r}=e,n=T_(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(t,e){const r=await xR(t,{},async()=>{const n=vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=wR(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",bR.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function XU(t,e){return mo(t,"POST","/v2/accounts:revokeToken",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const r=dT(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await GU(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new bl;return n&&(Ie(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ie(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=T_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Sb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await mf(this,this.stsTokenManager.getToken(this.auth,e));return Ie(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return zU(this,e)}reload(){return HU(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await em(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await mf(this,BU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,c,u;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,v=(o=r.photoURL)!==null&&o!==void 0?o:void 0,b=(s=r.tenantId)!==null&&s!==void 0?s:void 0,x=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,k=(c=r.createdAt)!==null&&c!==void 0?c:void 0,y=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:g,emailVerified:_,isAnonymous:T,providerData:I,stsTokenManager:E}=r;Ie(g&&E,e,"internal-error");const S=bl.fromJSON(this.name,E);Ie(typeof g=="string",e,"internal-error"),wa(f,e.name),wa(h,e.name),Ie(typeof _=="boolean",e,"internal-error"),Ie(typeof T=="boolean",e,"internal-error"),wa(p,e.name),wa(v,e.name),wa(b,e.name),wa(x,e.name),wa(k,e.name),wa(y,e.name);const O=new Li({uid:g,auth:e,email:h,emailVerified:_,displayName:f,isAnonymous:T,photoURL:v,phoneNumber:p,tenantId:b,stsTokenManager:S,createdAt:k,lastLoginAt:y});return I&&Array.isArray(I)&&(O.providerData=I.map(C=>Object.assign({},C))),x&&(O._redirectEventId=x),O}static async _fromIdTokenResponse(e,r,n=!1){const i=new bl;i.updateFromServerResponse(r);const a=new Li({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await em(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ie(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?kR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new bl;s.updateFromIdToken(n);const l=new Li({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Sb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;function Fi(t){ea(t instanceof Function,"Expected a class definition");let e=hT.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}ER.type="NONE";const pT=ER;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t,e,r){return`firebase:${t}:${e}:${r}`}class xl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=op(this.userKey,i.apiKey,a),this.fullPersistenceKey=op("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new xl(Fi(pT),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Fi(pT);const o=op(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const u=await c._get(o);if(u){const f=Li._fromJSON(e,u);c!==a&&(s=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new xl(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new xl(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OR(e))return"Blackberry";if(CR(e))return"Webos";if(TR(e))return"Safari";if((e.includes("chrome/")||AR(e))&&!e.includes("edge/"))return"Chrome";if(IR(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function SR(t=Cr()){return/firefox\//i.test(t)}function TR(t=Cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AR(t=Cr()){return/crios\//i.test(t)}function PR(t=Cr()){return/iemobile/i.test(t)}function IR(t=Cr()){return/android/i.test(t)}function OR(t=Cr()){return/blackberry/i.test(t)}function CR(t=Cr()){return/webos/i.test(t)}function O_(t=Cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YU(t=Cr()){var e;return O_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QU(){return pV()&&document.documentMode===10}function NR(t=Cr()){return O_(t)||IR(t)||CR(t)||OR(t)||/windows phone/i.test(t)||PR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e=[]){let r;switch(t){case"Browser":r=mT(Cr());break;case"Worker":r=`${mT(Cr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${bs}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(t,e={}){return mo(t,"GET","/v2/passwordPolicy",po(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=6;class tB{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:eB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gT(this),this.idTokenSubscription=new gT(this),this.beforeStateQueue=new JU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Fi(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await xl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await _R(this,{idToken:e}),n=await Li._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(si(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await em(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(qi(this));const r=e?Nt(e):null;return r&&Ie(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZU(this),r=new tB(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await XU(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Fi(e)||this._popupRedirectResolver;Ie(r,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[Fi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&NU(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function xs(t){return Nt(t)}class gT{constructor(e){this.auth=e,this.observer=null,this.addObserver=_V(r=>this.observer=r)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nB(t){Ig=t}function jR(t){return Ig.loadJS(t)}function iB(){return Ig.recaptchaEnterpriseScript}function aB(){return Ig.gapiScript}function oB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sB="recaptcha-enterprise",lB="NO_RECAPTCHA";class cB{constructor(e){this.type=sB,this.auth=xs(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{UU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new VU(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;fT(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(lB)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&fT(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=iB();l.length!==0&&(l+=s),jR(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function yT(t,e,r,n=!1){const i=new cB(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Tb(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await yT(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await yT(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t,e){const r=Pg(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Qp(a,e??{}))return i;Gn(i,"already-initialized")}return r.initialize({options:e})}function fB(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function dB(t,e,r){const n=xs(t);Ie(n._canInitEmulator,n,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=DR(e),{host:o,port:s}=hB(e),l=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),pB()}function DR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hB(t){const e=DR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:vT(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:vT(o)}}}function vT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pB(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,r){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function mB(t,e){return mo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(t,e){return xd(t,"POST","/v1/accounts:signInWithPassword",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yB(t,e){return xd(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}async function vB(t,e){return xd(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends C_{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new gf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new gf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tb(e,r,"signInWithPassword",gB);case"emailLink":return yB(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tb(e,n,"signUpPassword",mB);case"emailLink":return vB(e,{idToken:r,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e){return xd(t,"POST","/v1/accounts:signInWithIdp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB="http://localhost";class is extends C_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Gn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=T_(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new is(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return wl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,wl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,wl(e,r)}buildRequest(){const e={requestUri:bB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=vd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wB(t){const e=mu(gu(t)).link,r=e?mu(gu(e)).deep_link_id:null,n=mu(gu(t)).deep_link_id;return(n?mu(gu(n)).link:null)||n||r||e||t}class N_{constructor(e){var r,n,i,a,o,s;const l=mu(gu(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,u=(n=l.oobCode)!==null&&n!==void 0?n:null,f=xB((i=l.mode)!==null&&i!==void 0?i:null);Ie(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=wB(e);try{return new N_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.providerId=hc.PROVIDER_ID}static credential(e,r){return gf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=N_.parseLink(r);return Ie(n,"argument-error"),gf._fromEmailAndCode(e,n.code,n.tenantId)}}hc.PROVIDER_ID="password";hc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends MR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends wd{constructor(){super("facebook.com")}static credential(e){return is._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return is._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ca.credential(r,n)}catch{return null}}}Ca.GOOGLE_SIGN_IN_METHOD="google.com";Ca.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends wd{constructor(){super("github.com")}static credential(e){return is._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends wd{constructor(){super("twitter.com")}static credential(e,r){return is._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ra.credential(r,n)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _B(t,e){return xd(t,"POST","/v1/accounts:signUp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Li._fromIdTokenResponse(e,n,i),o=bT(n);return new as({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=bT(n);return new as({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function bT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends wi{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,tm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new tm(e,r,n,i)}}function $R(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?tm._fromErrorAndOperation(t,a,e,n):a})}async function kB(t,e,r=!1){const n=await mf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return as._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EB(t,e,r=!1){const{auth:n}=t;if(si(n.app))return Promise.reject(qi(n));const i="reauthenticate";try{const a=await mf(t,$R(n,i,e,t),r);Ie(a.idToken,n,"internal-error");const o=I_(a.idToken);Ie(o,n,"internal-error");const{sub:s}=o;return Ie(t.uid===s,n,"user-mismatch"),as._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Gn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(t,e,r=!1){if(si(t.app))return Promise.reject(qi(t));const n="signIn",i=await $R(t,n,e),a=await as._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function SB(t,e){return LR(xs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t){const e=xs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TB(t,e,r){if(si(t.app))return Promise.reject(qi(t));const n=xs(t),o=await Tb(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_B).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&FR(t),l}),s=await as._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function xT(t,e,r){return si(t.app)?Promise.reject(qi(t)):SB(Nt(t),hc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&FR(t),n})}function AB(t,e,r,n){return Nt(t).onIdTokenChanged(e,r,n)}function PB(t,e,r){return Nt(t).beforeAuthStateChanged(e,r)}function IB(t,e,r,n){return Nt(t).onAuthStateChanged(e,r,n)}function OB(t){return Nt(t).signOut()}const rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(rm,"1"),this.storage.removeItem(rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=1e3,NB=10;class UR extends VR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);QU()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,NB):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},CB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}UR.type="LOCAL";const RB=UR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR extends VR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}BR.type="SESSION";const zR=BR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Og(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async c=>c(r.origin,a)),l=await jB(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Og.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=R_("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function MB(t){pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function $B(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FB(){return qR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firebaseLocalStorageDb",VB=1,nm="firebaseLocalStorage",HR="fbase_key";class _d{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Cg(t,e){return t.transaction([nm],e?"readwrite":"readonly").objectStore(nm)}function UB(){const t=indexedDB.deleteDatabase(WR);return new _d(t).toPromise()}function Ab(){const t=indexedDB.open(WR,VB);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(nm,{keyPath:HR})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(nm)?e(n):(n.close(),await UB(),e(await Ab()))})})}async function wT(t,e,r){const n=Cg(t,!0).put({[HR]:e,value:r});return new _d(n).toPromise()}async function BB(t,e){const r=Cg(t,!1).get(e),n=await new _d(r).toPromise();return n===void 0?null:n.value}function _T(t,e){const r=Cg(t,!0).delete(e);return new _d(r).toPromise()}const zB=800,qB=3;class KR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ab(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>qB)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Og._getInstance(FB()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await $B(),!this.activeServiceWorker)return;this.sender=new DB(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ab();return await wT(e,rm,"1"),await _T(e,rm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>wT(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>BB(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>_T(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Cg(i,!1).getAll();return new _d(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KR.type="LOCAL";const WB=KR;new bd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t,e){return e?Fi(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends C_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return wl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function KB(t){return LR(t.auth,new j_(t),t.bypassAuthState)}function GB(t){const{auth:e,user:r}=t;return Ie(r,e,"internal-error"),EB(r,new j_(t),t.bypassAuthState)}async function XB(t){const{auth:e,user:r}=t;return Ie(r,e,"internal-error"),kB(r,new j_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KB;case"linkViaPopup":case"linkViaRedirect":return XB;case"reauthViaPopup":case"reauthViaRedirect":return GB;default:Gn(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=new bd(2e3,1e4);class ll extends GR{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=R_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YB.get())};e()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB="pendingRedirect",sp=new Map;class JB extends GR{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=sp.get(this.auth._key());if(!e){try{const n=await ZB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}sp.set(this.auth._key(),e)}return this.bypassAuthState||sp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZB(t,e){const r=r9(e),n=t9(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function e9(t,e){sp.set(t._key(),e)}function t9(t){return Fi(t._redirectPersistence)}function r9(t){return op(QB,t.config.apiKey,t.name)}async function n9(t,e,r=!1){if(si(t.app))return Promise.reject(qi(t));const n=xs(t),i=HB(n,e),o=await new JB(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=10*60*1e3;class a9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o9(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!XR(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(hi(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i9&&this.cachedEventUids.clear(),this.cachedEventUids.has(kT(e))}saveEventToCache(e){this.cachedEventUids.add(kT(e)),this.lastProcessedEventTime=Date.now()}}function kT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e={}){return mo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c9=/^https?/;async function u9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s9(t);for(const r of e)try{if(f9(r))return}catch{}Gn(t,"unauthorized-domain")}function f9(t){const e=Eb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!c9.test(r))return!1;if(l9.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=new bd(3e4,6e4);function ET(){const t=pi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function h9(t){return new Promise((e,r)=>{var n,i,a;function o(){ET(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ET(),r(hi(t,"network-request-failed"))},timeout:d9.get()})}if(!((i=(n=pi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=pi().gapi)===null||a===void 0)&&a.load)o();else{const s=oB("iframefcb");return pi()[s]=()=>{gapi.load?o():r(hi(t,"network-request-failed"))},jR(`${aB()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw lp=null,e})}let lp=null;function p9(t){return lp=lp||h9(t),lp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=new bd(5e3,15e3),g9="__/auth/iframe",y9="emulator/auth/iframe",v9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x9(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?P_(e,y9):`https://${t.config.authDomain}/${g9}`,n={apiKey:e.apiKey,appName:t.name,v:bs},i=b9.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${vd(n).slice(1)}`}async function w9(t){const e=await p9(t),r=pi().gapi;return Ie(r,t,"internal-error"),e.open({where:document.body,url:x9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v9,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=hi(t,"network-request-failed"),s=pi().setTimeout(()=>{a(o)},m9.get());function l(){pi().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k9=500,E9=600,S9="_blank",T9="http://localhost";class ST{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A9(t,e,r,n=k9,i=E9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},_9),{width:n.toString(),height:i.toString(),top:a,left:o}),c=Cr().toLowerCase();r&&(s=AR(c)?S9:r),SR(c)&&(e=e||T9,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(YU(c)&&s!=="_self")return P9(e||"",s),new ST(null);const f=window.open(e||"",s,u);Ie(f,t,"popup-blocked");try{f.focus()}catch{}return new ST(f)}function P9(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="__/auth/handler",O9="emulator/auth/handler",C9=encodeURIComponent("fac");async function TT(t,e,r,n,i,a){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:bs,eventId:i};if(e instanceof MR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof wd){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${C9}=${encodeURIComponent(l)}`:"";return`${N9(t)}?${vd(s).slice(1)}${c}`}function N9({config:t}){return t.emulator?P_(t,O9):`https://${t.authDomain}/${I9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="webStorageSupport";class R9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zR,this._completeRedirectFn=n9,this._overrideRedirectResult=e9}async _openPopup(e,r,n,i){var a;ea((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await TT(e,r,n,Eb(),i);return A9(e,o,R_())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await TT(e,r,n,Eb(),i);return MB(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(ea(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await w9(e),n=new a9(e);return r.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Bv,{type:Bv},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Bv];o!==void 0&&r(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=u9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return NR()||TR()||O_()}}const j9=R9;var AT="@firebase/auth",PT="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $9(t){ns(new io("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RR(t)},c=new rB(n,i,a,l);return fB(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ns(new io("auth-internal",e=>{const r=xs(e.getProvider("auth").getImmediate());return(n=>new D9(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(AT,PT,M9(t)),di(AT,PT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=5*60,F9=cR("authIdTokenMaxAge")||L9;let IT=null;const V9=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>F9)return;const i=r==null?void 0:r.token;IT!==i&&(IT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function im(t=S_()){const e=Pg(t,"auth");if(e.isInitialized())return e.getImmediate();const r=uB(t,{popupRedirectResolver:j9,persistence:[WB,RB,zR]}),n=cR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=V9(a.toString());PB(r,o,()=>o(r.currentUser)),AB(r,s=>o(s))}}const i=oR("auth");return i&&dB(r,`http://${i}`),r}function U9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nB({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=hi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",U9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$9("Browser");var B9="firebase",z9="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(B9,z9,"app");var OT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Go,YR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function O(){}O.prototype=S.prototype,E.D=S.prototype,E.prototype=new O,E.prototype.constructor=E,E.C=function(C,R,N){for(var P=Array(arguments.length-2),F=2;F<arguments.length;F++)P[F-2]=arguments[F];return S.prototype[R].apply(C,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,O){O||(O=0);var C=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)C[R]=S.charCodeAt(O++)|S.charCodeAt(O++)<<8|S.charCodeAt(O++)<<16|S.charCodeAt(O++)<<24;else for(R=0;16>R;++R)C[R]=S[O++]|S[O++]<<8|S[O++]<<16|S[O++]<<24;S=E.g[0],O=E.g[1],R=E.g[2];var N=E.g[3],P=S+(N^O&(R^N))+C[0]+3614090360&4294967295;S=O+(P<<7&4294967295|P>>>25),P=N+(R^S&(O^R))+C[1]+3905402710&4294967295,N=S+(P<<12&4294967295|P>>>20),P=R+(O^N&(S^O))+C[2]+606105819&4294967295,R=N+(P<<17&4294967295|P>>>15),P=O+(S^R&(N^S))+C[3]+3250441966&4294967295,O=R+(P<<22&4294967295|P>>>10),P=S+(N^O&(R^N))+C[4]+4118548399&4294967295,S=O+(P<<7&4294967295|P>>>25),P=N+(R^S&(O^R))+C[5]+1200080426&4294967295,N=S+(P<<12&4294967295|P>>>20),P=R+(O^N&(S^O))+C[6]+2821735955&4294967295,R=N+(P<<17&4294967295|P>>>15),P=O+(S^R&(N^S))+C[7]+4249261313&4294967295,O=R+(P<<22&4294967295|P>>>10),P=S+(N^O&(R^N))+C[8]+1770035416&4294967295,S=O+(P<<7&4294967295|P>>>25),P=N+(R^S&(O^R))+C[9]+2336552879&4294967295,N=S+(P<<12&4294967295|P>>>20),P=R+(O^N&(S^O))+C[10]+4294925233&4294967295,R=N+(P<<17&4294967295|P>>>15),P=O+(S^R&(N^S))+C[11]+2304563134&4294967295,O=R+(P<<22&4294967295|P>>>10),P=S+(N^O&(R^N))+C[12]+1804603682&4294967295,S=O+(P<<7&4294967295|P>>>25),P=N+(R^S&(O^R))+C[13]+4254626195&4294967295,N=S+(P<<12&4294967295|P>>>20),P=R+(O^N&(S^O))+C[14]+2792965006&4294967295,R=N+(P<<17&4294967295|P>>>15),P=O+(S^R&(N^S))+C[15]+1236535329&4294967295,O=R+(P<<22&4294967295|P>>>10),P=S+(R^N&(O^R))+C[1]+4129170786&4294967295,S=O+(P<<5&4294967295|P>>>27),P=N+(O^R&(S^O))+C[6]+3225465664&4294967295,N=S+(P<<9&4294967295|P>>>23),P=R+(S^O&(N^S))+C[11]+643717713&4294967295,R=N+(P<<14&4294967295|P>>>18),P=O+(N^S&(R^N))+C[0]+3921069994&4294967295,O=R+(P<<20&4294967295|P>>>12),P=S+(R^N&(O^R))+C[5]+3593408605&4294967295,S=O+(P<<5&4294967295|P>>>27),P=N+(O^R&(S^O))+C[10]+38016083&4294967295,N=S+(P<<9&4294967295|P>>>23),P=R+(S^O&(N^S))+C[15]+3634488961&4294967295,R=N+(P<<14&4294967295|P>>>18),P=O+(N^S&(R^N))+C[4]+3889429448&4294967295,O=R+(P<<20&4294967295|P>>>12),P=S+(R^N&(O^R))+C[9]+568446438&4294967295,S=O+(P<<5&4294967295|P>>>27),P=N+(O^R&(S^O))+C[14]+3275163606&4294967295,N=S+(P<<9&4294967295|P>>>23),P=R+(S^O&(N^S))+C[3]+4107603335&4294967295,R=N+(P<<14&4294967295|P>>>18),P=O+(N^S&(R^N))+C[8]+1163531501&4294967295,O=R+(P<<20&4294967295|P>>>12),P=S+(R^N&(O^R))+C[13]+2850285829&4294967295,S=O+(P<<5&4294967295|P>>>27),P=N+(O^R&(S^O))+C[2]+4243563512&4294967295,N=S+(P<<9&4294967295|P>>>23),P=R+(S^O&(N^S))+C[7]+1735328473&4294967295,R=N+(P<<14&4294967295|P>>>18),P=O+(N^S&(R^N))+C[12]+2368359562&4294967295,O=R+(P<<20&4294967295|P>>>12),P=S+(O^R^N)+C[5]+4294588738&4294967295,S=O+(P<<4&4294967295|P>>>28),P=N+(S^O^R)+C[8]+2272392833&4294967295,N=S+(P<<11&4294967295|P>>>21),P=R+(N^S^O)+C[11]+1839030562&4294967295,R=N+(P<<16&4294967295|P>>>16),P=O+(R^N^S)+C[14]+4259657740&4294967295,O=R+(P<<23&4294967295|P>>>9),P=S+(O^R^N)+C[1]+2763975236&4294967295,S=O+(P<<4&4294967295|P>>>28),P=N+(S^O^R)+C[4]+1272893353&4294967295,N=S+(P<<11&4294967295|P>>>21),P=R+(N^S^O)+C[7]+4139469664&4294967295,R=N+(P<<16&4294967295|P>>>16),P=O+(R^N^S)+C[10]+3200236656&4294967295,O=R+(P<<23&4294967295|P>>>9),P=S+(O^R^N)+C[13]+681279174&4294967295,S=O+(P<<4&4294967295|P>>>28),P=N+(S^O^R)+C[0]+3936430074&4294967295,N=S+(P<<11&4294967295|P>>>21),P=R+(N^S^O)+C[3]+3572445317&4294967295,R=N+(P<<16&4294967295|P>>>16),P=O+(R^N^S)+C[6]+76029189&4294967295,O=R+(P<<23&4294967295|P>>>9),P=S+(O^R^N)+C[9]+3654602809&4294967295,S=O+(P<<4&4294967295|P>>>28),P=N+(S^O^R)+C[12]+3873151461&4294967295,N=S+(P<<11&4294967295|P>>>21),P=R+(N^S^O)+C[15]+530742520&4294967295,R=N+(P<<16&4294967295|P>>>16),P=O+(R^N^S)+C[2]+3299628645&4294967295,O=R+(P<<23&4294967295|P>>>9),P=S+(R^(O|~N))+C[0]+4096336452&4294967295,S=O+(P<<6&4294967295|P>>>26),P=N+(O^(S|~R))+C[7]+1126891415&4294967295,N=S+(P<<10&4294967295|P>>>22),P=R+(S^(N|~O))+C[14]+2878612391&4294967295,R=N+(P<<15&4294967295|P>>>17),P=O+(N^(R|~S))+C[5]+4237533241&4294967295,O=R+(P<<21&4294967295|P>>>11),P=S+(R^(O|~N))+C[12]+1700485571&4294967295,S=O+(P<<6&4294967295|P>>>26),P=N+(O^(S|~R))+C[3]+2399980690&4294967295,N=S+(P<<10&4294967295|P>>>22),P=R+(S^(N|~O))+C[10]+4293915773&4294967295,R=N+(P<<15&4294967295|P>>>17),P=O+(N^(R|~S))+C[1]+2240044497&4294967295,O=R+(P<<21&4294967295|P>>>11),P=S+(R^(O|~N))+C[8]+1873313359&4294967295,S=O+(P<<6&4294967295|P>>>26),P=N+(O^(S|~R))+C[15]+4264355552&4294967295,N=S+(P<<10&4294967295|P>>>22),P=R+(S^(N|~O))+C[6]+2734768916&4294967295,R=N+(P<<15&4294967295|P>>>17),P=O+(N^(R|~S))+C[13]+1309151649&4294967295,O=R+(P<<21&4294967295|P>>>11),P=S+(R^(O|~N))+C[4]+4149444226&4294967295,S=O+(P<<6&4294967295|P>>>26),P=N+(O^(S|~R))+C[11]+3174756917&4294967295,N=S+(P<<10&4294967295|P>>>22),P=R+(S^(N|~O))+C[2]+718787259&4294967295,R=N+(P<<15&4294967295|P>>>17),P=O+(N^(R|~S))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+N&4294967295}n.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var O=S-this.blockSize,C=this.B,R=this.h,N=0;N<S;){if(R==0)for(;N<=O;)i(this,E,N),N+=this.blockSize;if(typeof E=="string"){for(;N<S;)if(C[R++]=E.charCodeAt(N++),R==this.blockSize){i(this,C),R=0;break}}else for(;N<S;)if(C[R++]=E[N++],R==this.blockSize){i(this,C),R=0;break}}this.h=R,this.o+=S},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var O=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=O&255,O/=256;for(this.u(E),E=Array(16),S=O=0;4>S;++S)for(var C=0;32>C;C+=8)E[O++]=this.g[S]>>>C&255;return E};function a(E,S){var O=s;return Object.prototype.hasOwnProperty.call(O,E)?O[E]:O[E]=S(E)}function o(E,S){this.h=S;for(var O=[],C=!0,R=E.length-1;0<=R;R--){var N=E[R]|0;C&&N==S||(O[R]=N,C=!1)}this.g=O}var s={};function l(E){return-128<=E&&128>E?a(E,function(S){return new o([S|0],0>S?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return x(c(-E));for(var S=[],O=1,C=0;E>=O;C++)S[C]=E/O|0,O*=4294967296;return new o(S,0)}function u(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return x(u(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=c(Math.pow(S,8)),C=f,R=0;R<E.length;R+=8){var N=Math.min(8,E.length-R),P=parseInt(E.substring(R,R+N),S);8>N?(N=c(Math.pow(S,N)),C=C.j(N).add(c(P))):(C=C.j(O),C=C.add(c(P)))}return C}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-x(this).m();for(var E=0,S=1,O=0;O<this.g.length;O++){var C=this.i(O);E+=(0<=C?C:4294967296+C)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(b(this))return"-"+x(this).toString(E);for(var S=c(Math.pow(E,6)),O=this,C="";;){var R=_(O,S).g;O=k(O,R.j(S));var N=((0<O.g.length?O.g[0]:O.h)>>>0).toString(E);if(O=R,v(O))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function b(E){return E.h==-1}t.l=function(E){return E=k(this,E),b(E)?-1:v(E)?0:1};function x(E){for(var S=E.g.length,O=[],C=0;C<S;C++)O[C]=~E.g[C];return new o(O,~E.h).add(h)}t.abs=function(){return b(this)?x(this):this},t.add=function(E){for(var S=Math.max(this.g.length,E.g.length),O=[],C=0,R=0;R<=S;R++){var N=C+(this.i(R)&65535)+(E.i(R)&65535),P=(N>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);C=P>>>16,N&=65535,P&=65535,O[R]=P<<16|N}return new o(O,O[O.length-1]&-2147483648?-1:0)};function k(E,S){return E.add(x(S))}t.j=function(E){if(v(this)||v(E))return f;if(b(this))return b(E)?x(this).j(x(E)):x(x(this).j(E));if(b(E))return x(this.j(x(E)));if(0>this.l(p)&&0>E.l(p))return c(this.m()*E.m());for(var S=this.g.length+E.g.length,O=[],C=0;C<2*S;C++)O[C]=0;for(C=0;C<this.g.length;C++)for(var R=0;R<E.g.length;R++){var N=this.i(C)>>>16,P=this.i(C)&65535,F=E.i(R)>>>16,B=E.i(R)&65535;O[2*C+2*R]+=P*B,y(O,2*C+2*R),O[2*C+2*R+1]+=N*B,y(O,2*C+2*R+1),O[2*C+2*R+1]+=P*F,y(O,2*C+2*R+1),O[2*C+2*R+2]+=N*F,y(O,2*C+2*R+2)}for(C=0;C<S;C++)O[C]=O[2*C+1]<<16|O[2*C];for(C=S;C<2*S;C++)O[C]=0;return new o(O,0)};function y(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function g(E,S){this.g=E,this.h=S}function _(E,S){if(v(S))throw Error("division by zero");if(v(E))return new g(f,f);if(b(E))return S=_(x(E),S),new g(x(S.g),x(S.h));if(b(S))return S=_(E,x(S)),new g(x(S.g),S.h);if(30<E.g.length){if(b(E)||b(S))throw Error("slowDivide_ only works with positive integers.");for(var O=h,C=S;0>=C.l(E);)O=T(O),C=T(C);var R=I(O,1),N=I(C,1);for(C=I(C,2),O=I(O,2);!v(C);){var P=N.add(C);0>=P.l(E)&&(R=R.add(O),N=P),C=I(C,1),O=I(O,1)}return S=k(E,R.j(S)),new g(R,S)}for(R=f;0<=E.l(S);){for(O=Math.max(1,Math.floor(E.m()/S.m())),C=Math.ceil(Math.log(O)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=c(O),P=N.j(S);b(P)||0<P.l(E);)O-=C,N=c(O),P=N.j(S);v(N)&&(N=h),R=R.add(N),E=k(E,P)}return new g(R,E)}t.A=function(E){return _(this,E).h},t.and=function(E){for(var S=Math.max(this.g.length,E.g.length),O=[],C=0;C<S;C++)O[C]=this.i(C)&E.i(C);return new o(O,this.h&E.h)},t.or=function(E){for(var S=Math.max(this.g.length,E.g.length),O=[],C=0;C<S;C++)O[C]=this.i(C)|E.i(C);return new o(O,this.h|E.h)},t.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),O=[],C=0;C<S;C++)O[C]=this.i(C)^E.i(C);return new o(O,this.h^E.h)};function T(E){for(var S=E.g.length+1,O=[],C=0;C<S;C++)O[C]=E.i(C)<<1|E.i(C-1)>>>31;return new o(O,E.h)}function I(E,S){var O=S>>5;S%=32;for(var C=E.g.length-O,R=[],N=0;N<C;N++)R[N]=0<S?E.i(N+O)>>>S|E.i(N+O+1)<<32-S:E.i(N+O);return new o(R,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,YR=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Go=o}).apply(typeof OT<"u"?OT:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QR,JR,yu,ZR,cp,Pb,ej,tj,rj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,A){return d==Array.prototype||d==Object.prototype||(d[w]=A.value),d};function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var w=0;w<d.length;++w){var A=d[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=r(this);function i(d,w){if(w)e:{var A=n;d=d.split(".");for(var j=0;j<d.length-1;j++){var z=d[j];if(!(z in A))break e;A=A[z]}d=d[d.length-1],j=A[d],w=w(j),w!=j&&w!=null&&e(A,d,{configurable:!0,writable:!0,value:w})}}function a(d,w){d instanceof String&&(d+="");var A=0,j=!1,z={next:function(){if(!j&&A<d.length){var G=A++;return{value:w(G,d[G]),done:!1}}return j=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(d){return d||function(){return a(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function c(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function u(d,w,A){return d.call.apply(d.bind,arguments)}function f(d,w,A){if(!d)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,j),d.apply(w,z)}}return function(){return d.apply(w,arguments)}}function h(d,w,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,w){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function v(d,w){function A(){}A.prototype=w.prototype,d.aa=w.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(j,z,G){for(var fe=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)fe[ut-2]=arguments[ut];return w.prototype[z].apply(j,fe)}}function b(d){const w=d.length;if(0<w){const A=Array(w);for(let j=0;j<w;j++)A[j]=d[j];return A}return[]}function x(d,w){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(l(j)){const z=d.length||0,G=j.length||0;d.length=z+G;for(let fe=0;fe<G;fe++)d[z+fe]=j[fe]}else d.push(j)}}class k{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function y(d){return/^[\s\xa0]*$/.test(d)}function g(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function _(d){return _[" "](d),d}_[" "]=function(){};var T=g().indexOf("Gecko")!=-1&&!(g().toLowerCase().indexOf("webkit")!=-1&&g().indexOf("Edge")==-1)&&!(g().indexOf("Trident")!=-1||g().indexOf("MSIE")!=-1)&&g().indexOf("Edge")==-1;function I(d,w,A){for(const j in d)w.call(A,d[j],j,d)}function E(d,w){for(const A in d)w.call(void 0,d[A],A,d)}function S(d){const w={};for(const A in d)w[A]=d[A];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,w){let A,j;for(let z=1;z<arguments.length;z++){j=arguments[z];for(A in j)d[A]=j[A];for(let G=0;G<O.length;G++)A=O[G],Object.prototype.hasOwnProperty.call(j,A)&&(d[A]=j[A])}}function R(d){var w=1;d=d.split(":");const A=[];for(;0<w&&d.length;)A.push(d.shift()),w--;return d.length&&A.push(d.join(":")),A}function N(d){s.setTimeout(()=>{throw d},0)}function P(){var d=Y;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class F{constructor(){this.h=this.g=null}add(w,A){const j=B.get();j.set(w,A),this.h?this.h.next=j:this.g=j,this.h=j}}var B=new k(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let X,U=!1,Y=new F,te=()=>{const d=s.Promise.resolve(void 0);X=()=>{d.then(ce)}};var ce=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(A){N(A)}var w=B;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}U=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};s.addEventListener("test",A,w),s.removeEventListener("test",A,w)}catch{}return d}();function Re(d,w){if(se.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(T){e:{try{_(w.nodeName);var z=!0;break e}catch{}z=!1}z||(w=null)}}else A=="mouseover"?w=d.fromElement:A=="mouseout"&&(w=d.toElement);this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:He[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}v(Re,se);var He={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),gt=0;function de(d,w,A,j,z){this.listener=d,this.proxy=null,this.src=w,this.type=A,this.capture=!!j,this.ha=z,this.key=++gt,this.da=this.fa=!1}function xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Te(d){this.src=d,this.g={},this.h=0}Te.prototype.add=function(d,w,A,j,z){var G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);var fe=Fe(d,w,j,z);return-1<fe?(w=d[fe],A||(w.fa=!1)):(w=new de(w,this.src,G,!!j,z),w.fa=A,d.push(w)),w};function Q(d,w){var A=w.type;if(A in d.g){var j=d.g[A],z=Array.prototype.indexOf.call(j,w,void 0),G;(G=0<=z)&&Array.prototype.splice.call(j,z,1),G&&(xe(w),d.g[A].length==0&&(delete d.g[A],d.h--))}}function Fe(d,w,A,j){for(var z=0;z<d.length;++z){var G=d[z];if(!G.da&&G.listener==w&&G.capture==!!A&&G.ha==j)return z}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),et={};function ie(d,w,A,j,z){if(Array.isArray(w)){for(var G=0;G<w.length;G++)ie(d,w[G],A,j,z);return null}return A=he(A),d&&d[$e]?d.K(w,A,c(j)?!!j.capture:!!j,z):ke(d,w,A,!1,j,z)}function ke(d,w,A,j,z,G){if(!w)throw Error("Invalid event type");var fe=c(z)?!!z.capture:!!z,ut=L(d);if(ut||(d[Ae]=ut=new Te(d)),A=ut.add(w,A,j,fe,G),A.proxy)return A;if(j=M(),A.proxy=j,j.src=d,j.listener=A,d.addEventListener)Se||(z=fe),z===void 0&&(z=!1),d.addEventListener(w.toString(),j,z);else if(d.attachEvent)d.attachEvent(re(w.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function M(){function d(A){return w.call(d.src,d.listener,A)}const w=ee;return d}function V(d,w,A,j,z){if(Array.isArray(w))for(var G=0;G<w.length;G++)V(d,w[G],A,j,z);else j=c(j)?!!j.capture:!!j,A=he(A),d&&d[$e]?(d=d.i,w=String(w).toString(),w in d.g&&(G=d.g[w],A=Fe(G,A,j,z),-1<A&&(xe(G[A]),Array.prototype.splice.call(G,A,1),G.length==0&&(delete d.g[w],d.h--)))):d&&(d=L(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Fe(w,A,j,z)),(A=-1<d?w[d]:null)&&q(A))}function q(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[$e])Q(w.i,d);else{var A=d.type,j=d.proxy;w.removeEventListener?w.removeEventListener(A,j,d.capture):w.detachEvent?w.detachEvent(re(A),j):w.addListener&&w.removeListener&&w.removeListener(j),(A=L(w))?(Q(A,d),A.h==0&&(A.src=null,w[Ae]=null)):xe(d)}}}function re(d){return d in et?et[d]:et[d]="on"+d}function ee(d,w){if(d.da)d=!0;else{w=new Re(w,this);var A=d.listener,j=d.ha||d.src;d.fa&&q(d),d=A.call(j,w)}return d}function L(d){return d=d[Ae],d instanceof Te?d:null}var K="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(d){return typeof d=="function"?d:(d[K]||(d[K]=function(w){return d.handleEvent(w)}),d[K])}function pe(){ae.call(this),this.i=new Te(this),this.M=this,this.F=null}v(pe,ae),pe.prototype[$e]=!0,pe.prototype.removeEventListener=function(d,w,A,j){V(this,d,w,A,j)};function _e(d,w){var A,j=d.F;if(j)for(A=[];j;j=j.F)A.push(j);if(d=d.M,j=w.type||w,typeof w=="string")w=new se(w,d);else if(w instanceof se)w.target=w.target||d;else{var z=w;w=new se(j,d),C(w,z)}if(z=!0,A)for(var G=A.length-1;0<=G;G--){var fe=w.g=A[G];z=tt(fe,j,!0,w)&&z}if(fe=w.g=d,z=tt(fe,j,!0,w)&&z,z=tt(fe,j,!1,w)&&z,A)for(G=0;G<A.length;G++)fe=w.g=A[G],z=tt(fe,j,!1,w)&&z}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var A=d.g[w],j=0;j<A.length;j++)xe(A[j]);delete d.g[w],d.h--}}this.F=null},pe.prototype.K=function(d,w,A,j){return this.i.add(String(d),w,!1,A,j)},pe.prototype.L=function(d,w,A,j){return this.i.add(String(d),w,!0,A,j)};function tt(d,w,A,j){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var z=!0,G=0;G<w.length;++G){var fe=w[G];if(fe&&!fe.da&&fe.capture==A){var ut=fe.listener,cr=fe.ha||fe.src;fe.fa&&Q(d.i,fe),z=ut.call(cr,j)!==!1&&z}}return z&&!j.defaultPrevented}function Hr(d,w,A){if(typeof d=="function")A&&(d=h(d,A));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:s.setTimeout(d,w||0)}function ha(d){d.g=Hr(()=>{d.g=null,d.i&&(d.i=!1,ha(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class ko extends ae{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ha(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(d){ae.call(this),this.h=d,this.g={}}v(pa,ae);var ma=[];function Cc(d){I(d.g,function(w,A){this.g.hasOwnProperty(A)&&q(w)},d),d.g={}}pa.prototype.N=function(){pa.aa.N.call(this),Cc(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=s.JSON.stringify,Hy=s.JSON.parse,Ky=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function Os(){}Os.prototype.h=null;function Cs(d){return d.h||(d.h=d.i())}function zd(){}var Eo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nc(){se.call(this,"d")}v(Nc,se);function Rc(){se.call(this,"c")}v(Rc,se);var Ti={},ue=null;function we(){return ue=ue||new pe}Ti.La="serverreachability";function Ce(d){se.call(this,Ti.La,d)}v(Ce,se);function Le(d){const w=we();_e(w,new Ce(w))}Ti.STAT_EVENT="statevent";function st(d,w){se.call(this,Ti.STAT_EVENT,d),this.stat=w}v(st,se);function Ge(d){const w=we();_e(w,new st(w,d))}Ti.Ma="timingevent";function er(d,w){se.call(this,Ti.Ma,d),this.size=w}v(er,se);function jt(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},w)}function ga(){this.g=!0}ga.prototype.xa=function(){this.g=!1};function U4(d,w,A,j,z,G){d.info(function(){if(d.g)if(G)for(var fe="",ut=G.split("&"),cr=0;cr<ut.length;cr++){var Qe=ut[cr].split("=");if(1<Qe.length){var vr=Qe[0];Qe=Qe[1];var br=vr.split("_");fe=2<=br.length&&br[1]=="type"?fe+(vr+"="+Qe+"&"):fe+(vr+"=redacted&")}}else fe=null;else fe=G;return"XMLHTTP REQ ("+j+") [attempt "+z+"]: "+w+`
`+A+`
`+fe})}function B4(d,w,A,j,z,G,fe){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+z+"]: "+w+`
`+A+`
`+G+" "+fe})}function Ns(d,w,A,j){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+q4(d,A)+(j?" "+j:"")})}function z4(d,w){d.info(function(){return"TIMEOUT: "+w})}ga.prototype.info=function(){};function q4(d,w){if(!d.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var j=A[d];if(!(2>j.length)){var z=j[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var fe=1;fe<z.length;fe++)z[fe]=""}}}}return Si(A)}catch{return w}}var qd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bk={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gy;function Wd(){}v(Wd,Os),Wd.prototype.g=function(){return new XMLHttpRequest},Wd.prototype.i=function(){return{}},Gy=new Wd;function ya(d,w,A,j){this.j=d,this.i=w,this.l=A,this.R=j||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zk}function zk(){this.i=null,this.g="",this.h=!1}var qk={},Xy={};function Yy(d,w,A){d.L=1,d.v=Xd(Ai(w)),d.m=A,d.P=!0,Wk(d,null)}function Wk(d,w){d.F=Date.now(),Hd(d),d.A=Ai(d.v);var A=d.A,j=d.R;Array.isArray(j)||(j=[String(j)]),aE(A.i,"t",j),d.C=0,A=d.j.J,d.h=new zk,d.g=kE(d.j,A?w:null,!d.m),0<d.O&&(d.M=new ko(h(d.Y,d,d.g),d.O)),w=d.U,A=d.g,j=d.ca;var z="readystatechange";Array.isArray(z)||(z&&(ma[0]=z.toString()),z=ma);for(var G=0;G<z.length;G++){var fe=ie(A,z[G],j||w.handleEvent,!1,w.h||w);if(!fe)break;w.g[fe.key]=fe}w=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),Le(),U4(d.i,d.u,d.A,d.l,d.R,d.m)}ya.prototype.ca=function(d){d=d.target;const w=this.M;w&&Pi(d)==3?w.j():this.Y(d)},ya.prototype.Y=function(d){try{if(d==this.g)e:{const br=Pi(this.g);var w=this.g.Ba();const Ds=this.g.Z();if(!(3>br)&&(br!=3||this.g&&(this.h.h||this.g.oa()||dE(this.g)))){this.J||br!=4||w==7||(w==8||0>=Ds?Le(3):Le(2)),Qy(this);var A=this.g.Z();this.X=A;t:if(Hk(this)){var j=dE(this.g);d="";var z=j.length,G=Pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){So(this),jc(this);var fe="";break t}this.h.i=new s.TextDecoder}for(w=0;w<z;w++)this.h.h=!0,d+=this.h.i.decode(j[w],{stream:!(G&&w==z-1)});j.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=A==200,B4(this.i,this.u,this.A,this.l,this.R,br,A),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,cr=this.g;if((ut=cr.g?cr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ut)){var Qe=ut;break t}}Qe=null}if(A=Qe)Ns(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jy(this,A);else{this.o=!1,this.s=3,Ge(12),So(this),jc(this);break e}}if(this.P){A=!0;let Dn;for(;!this.J&&this.C<fe.length;)if(Dn=W4(this,fe),Dn==Xy){br==4&&(this.s=4,Ge(14),A=!1),Ns(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==qk){this.s=4,Ge(15),Ns(this.i,this.l,fe,"[Invalid Chunk]"),A=!1;break}else Ns(this.i,this.l,Dn,null),Jy(this,Dn);if(Hk(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),br!=4||fe.length!=0||this.h.h||(this.s=1,Ge(16),A=!1),this.o=this.o&&A,!A)Ns(this.i,this.l,fe,"[Invalid Chunked Response]"),So(this),jc(this);else if(0<fe.length&&!this.W){this.W=!0;var vr=this.j;vr.g==this&&vr.ba&&!vr.M&&(vr.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),iv(vr),vr.M=!0,Ge(11))}}else Ns(this.i,this.l,fe,null),Jy(this,fe);br==4&&So(this),this.o&&!this.J&&(br==4?bE(this.j,this):(this.o=!1,Hd(this)))}else l3(this.g),A==400&&0<fe.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),So(this),jc(this)}}}catch{}finally{}};function Hk(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function W4(d,w){var A=d.C,j=w.indexOf(`
`,A);return j==-1?Xy:(A=Number(w.substring(A,j)),isNaN(A)?qk:(j+=1,j+A>w.length?Xy:(w=w.slice(j,j+A),d.C=j+A,w)))}ya.prototype.cancel=function(){this.J=!0,So(this)};function Hd(d){d.S=Date.now()+d.I,Kk(d,d.I)}function Kk(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=jt(h(d.ba,d),w)}function Qy(d){d.B&&(s.clearTimeout(d.B),d.B=null)}ya.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(z4(this.i,this.A),this.L!=2&&(Le(),Ge(17)),So(this),this.s=2,jc(this)):Kk(this,this.S-d)};function jc(d){d.j.G==0||d.J||bE(d.j,d)}function So(d){Qy(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,Cc(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Jy(d,w){try{var A=d.j;if(A.G!=0&&(A.g==d||Zy(A.h,d))){if(!d.K&&Zy(A.h,d)&&A.G==3){try{var j=A.Da.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var z=j;if(z[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)eh(A),Jd(A);else break e;nv(A),Ge(18)}}else A.za=z[1],0<A.za-A.T&&37500>z[2]&&A.F&&A.v==0&&!A.C&&(A.C=jt(h(A.Za,A),6e3));if(1>=Yk(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ao(A,11)}else if((d.K||A.g==d)&&eh(A),!y(w))for(z=A.Da.g.parse(w),w=0;w<z.length;w++){let Qe=z[w];if(A.T=Qe[0],Qe=Qe[1],A.G==2)if(Qe[0]=="c"){A.K=Qe[1],A.ia=Qe[2];const vr=Qe[3];vr!=null&&(A.la=vr,A.j.info("VER="+A.la));const br=Qe[4];br!=null&&(A.Aa=br,A.j.info("SVER="+A.Aa));const Ds=Qe[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(j=1.5*Ds,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const Dn=d.g;if(Dn){const rh=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rh){var G=j.h;G.g||rh.indexOf("spdy")==-1&&rh.indexOf("quic")==-1&&rh.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ev(G,G.h),G.h=null))}if(j.D){const av=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;av&&(j.ya=av,yt(j.I,j.D,av))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var fe=d;if(j.qa=_E(j,j.J?j.ia:null,j.W),fe.K){Qk(j.h,fe);var ut=fe,cr=j.L;cr&&(ut.I=cr),ut.B&&(Qy(ut),Hd(ut)),j.g=fe}else yE(j);0<A.i.length&&Zd(A)}else Qe[0]!="stop"&&Qe[0]!="close"||Ao(A,7);else A.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ao(A,7):rv(A):Qe[0]!="noop"&&A.l&&A.l.ta(Qe),A.v=0)}}Le(4)}catch{}}var H4=class{constructor(d,w){this.g=d,this.map=w}};function Gk(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xk(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Yk(d){return d.h?1:d.g?d.g.size:0}function Zy(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function ev(d,w){d.g?d.g.add(w):d.h=w}function Qk(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Gk.prototype.cancel=function(){if(this.i=Jk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Jk(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const A of d.g.values())w=w.concat(A.D);return w}return b(d.i)}function K4(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var w=[],A=d.length,j=0;j<A;j++)w.push(d[j]);return w}w=[],A=0;for(j in d)w[A++]=d[j];return w}function G4(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var w=[];d=d.length;for(var A=0;A<d;A++)w.push(A);return w}w=[],A=0;for(const j in d)w[A++]=j;return w}}}function Zk(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var A=G4(d),j=K4(d),z=j.length,G=0;G<z;G++)w.call(void 0,j[G],A&&A[G],d)}var eE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X4(d,w){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var j=d[A].indexOf("="),z=null;if(0<=j){var G=d[A].substring(0,j);z=d[A].substring(j+1)}else G=d[A];w(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function To(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof To){this.h=d.h,Kd(this,d.j),this.o=d.o,this.g=d.g,Gd(this,d.s),this.l=d.l;var w=d.i,A=new $c;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),tE(this,A),this.m=d.m}else d&&(w=String(d).match(eE))?(this.h=!1,Kd(this,w[1]||"",!0),this.o=Dc(w[2]||""),this.g=Dc(w[3]||"",!0),Gd(this,w[4]),this.l=Dc(w[5]||"",!0),tE(this,w[6]||"",!0),this.m=Dc(w[7]||"")):(this.h=!1,this.i=new $c(null,this.h))}To.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Mc(w,rE,!0),":");var A=this.g;return(A||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Mc(w,rE,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Mc(A,A.charAt(0)=="/"?J4:Q4,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Mc(A,e3)),d.join("")};function Ai(d){return new To(d)}function Kd(d,w,A){d.j=A?Dc(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Gd(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function tE(d,w,A){w instanceof $c?(d.i=w,t3(d.i,d.h)):(A||(w=Mc(w,Z4)),d.i=new $c(w,d.h))}function yt(d,w,A){d.i.set(w,A)}function Xd(d){return yt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Dc(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Mc(d,w,A){return typeof d=="string"?(d=encodeURI(d).replace(w,Y4),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Y4(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var rE=/[#\/\?@]/g,Q4=/[#\?:]/g,J4=/[#\?]/g,Z4=/[#\?@]/g,e3=/#/g;function $c(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function va(d){d.g||(d.g=new Map,d.h=0,d.i&&X4(d.i,function(w,A){d.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=$c.prototype,t.add=function(d,w){va(this),this.i=null,d=Rs(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(w),this.h+=1,this};function nE(d,w){va(d),w=Rs(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function iE(d,w){return va(d),w=Rs(d,w),d.g.has(w)}t.forEach=function(d,w){va(this),this.g.forEach(function(A,j){A.forEach(function(z){d.call(w,z,j,this)},this)},this)},t.na=function(){va(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let j=0;j<w.length;j++){const z=d[j];for(let G=0;G<z.length;G++)A.push(w[j])}return A},t.V=function(d){va(this);let w=[];if(typeof d=="string")iE(this,d)&&(w=w.concat(this.g.get(Rs(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)w=w.concat(d[A])}return w},t.set=function(d,w){return va(this),this.i=null,d=Rs(this,d),iE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function aE(d,w,A){nE(d,w),0<A.length&&(d.i=null,d.g.set(Rs(d,w),b(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var j=w[A];const G=encodeURIComponent(String(j)),fe=this.V(j);for(j=0;j<fe.length;j++){var z=G;fe[j]!==""&&(z+="="+encodeURIComponent(String(fe[j]))),d.push(z)}}return this.i=d.join("&")};function Rs(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function t3(d,w){w&&!d.j&&(va(d),d.i=null,d.g.forEach(function(A,j){var z=j.toLowerCase();j!=z&&(nE(this,j),aE(this,z,A))},d)),d.j=w}function r3(d,w){const A=new ga;if(s.Image){const j=new Image;j.onload=p(ba,A,"TestLoadImage: loaded",!0,w,j),j.onerror=p(ba,A,"TestLoadImage: error",!1,w,j),j.onabort=p(ba,A,"TestLoadImage: abort",!1,w,j),j.ontimeout=p(ba,A,"TestLoadImage: timeout",!1,w,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else w(!1)}function n3(d,w){const A=new ga,j=new AbortController,z=setTimeout(()=>{j.abort(),ba(A,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:j.signal}).then(G=>{clearTimeout(z),G.ok?ba(A,"TestPingServer: ok",!0,w):ba(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(z),ba(A,"TestPingServer: error",!1,w)})}function ba(d,w,A,j,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),j(A)}catch{}}function i3(){this.g=new Ky}function a3(d,w,A){const j=A||"";try{Zk(d,function(z,G){let fe=z;c(z)&&(fe=Si(z)),w.push(j+G+"="+encodeURIComponent(fe))})}catch(z){throw w.push(j+"type="+encodeURIComponent("_badmap")),z}}function Lc(d){this.l=d.Ub||null,this.j=d.eb||!1}v(Lc,Os),Lc.prototype.g=function(){return new Yd(this.l,this.j)},Lc.prototype.i=function(d){return function(){return d}}({});function Yd(d,w){pe.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Yd,pe),t=Yd.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,Vc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||s).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vc(this)),this.g&&(this.readyState=3,Vc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function oE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Fc(this):Vc(this),this.readyState==3&&oE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Fc(this))},t.Qa=function(d){this.g&&(this.response=d,Fc(this))},t.ga=function(){this.g&&Fc(this)};function Fc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Vc(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=w.next();return d.join(`\r
`)};function Vc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Yd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function sE(d){let w="";return I(d,function(A,j){w+=j,w+=":",w+=A,w+=`\r
`}),w}function tv(d,w,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=sE(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):yt(d,w,A))}function Dt(d){pe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Dt,pe);var o3=/^https?$/i,s3=["POST","PUT"];t=Dt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gy.g(),this.v=this.o?Cs(this.o):Cs(Gy),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(G){lE(this,G);return}if(d=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var z in j)A.set(z,j[z]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const G of j.keys())A.set(G,j.get(G));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(G=>G.toLowerCase()=="content-type"),z=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(s3,w,void 0))||j||z||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,fe]of A)this.g.setRequestHeader(G,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fE(this),this.u=!0,this.g.send(d),this.u=!1}catch(G){lE(this,G)}};function lE(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,cE(d),Qd(d)}function cE(d){d.A||(d.A=!0,_e(d,"complete"),_e(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,_e(this,"complete"),_e(this,"abort"),Qd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qd(this,!0)),Dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uE(this):this.bb())},t.bb=function(){uE(this)};function uE(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Pi(d)!=4||d.Z()!=2)){if(d.u&&Pi(d)==4)Hr(d.Ea,0,d);else if(_e(d,"readystatechange"),Pi(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var j;if(j=fe===0){var z=String(d.D).match(eE)[1]||null;!z&&s.self&&s.self.location&&(z=s.self.location.protocol.slice(0,-1)),j=!o3.test(z?z.toLowerCase():"")}A=j}if(A)_e(d,"complete"),_e(d,"success");else{d.m=6;try{var G=2<Pi(d)?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.Z()+"]",cE(d)}}finally{Qd(d)}}}}function Qd(d,w){if(d.g){fE(d);const A=d.g,j=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||_e(d,"ready");try{A.onreadystatechange=j}catch{}}}function fE(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Pi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Hy(w)}};function dE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function l3(d){const w={};d=(d.g&&2<=Pi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(y(d[j]))continue;var A=R(d[j]);const z=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const G=w[z]||[];w[z]=G,G.push(A)}E(w,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Uc(d,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||w}function hE(d){this.Aa=0,this.i=[],this.j=new ga,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uc("baseRetryDelayMs",5e3,d),this.cb=Uc("retryDelaySeedMs",1e4,d),this.Wa=Uc("forwardChannelMaxRetries",2,d),this.wa=Uc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Gk(d&&d.concurrentRequestLimit),this.Da=new i3,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hE.prototype,t.la=8,t.G=1,t.connect=function(d,w,A,j){Ge(0),this.W=d,this.H=w||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=_E(this,null,this.W),Zd(this)};function rv(d){if(pE(d),d.G==3){var w=d.U++,A=Ai(d.I);if(yt(A,"SID",d.K),yt(A,"RID",w),yt(A,"TYPE","terminate"),Bc(d,A),w=new ya(d,d.j,w),w.L=2,w.v=Xd(Ai(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=w.v,A=!0),A||(w.g=kE(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Hd(w)}wE(d)}function Jd(d){d.g&&(iv(d),d.g.cancel(),d.g=null)}function pE(d){Jd(d),d.u&&(s.clearTimeout(d.u),d.u=null),eh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function Zd(d){if(!Xk(d.h)&&!d.s){d.s=!0;var w=d.Ga;X||te(),U||(X(),U=!0),Y.add(w,d),d.B=0}}function c3(d,w){return Yk(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=jt(h(d.Ga,d,w),xE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const z=new ya(this,this.j,d);let G=this.o;if(this.S&&(G?(G=S(G),C(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,4096<w){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=gE(this,z,w),A=Ai(this.I),yt(A,"RID",d),yt(A,"CVER",22),this.D&&yt(A,"X-HTTP-Session-Id",this.D),Bc(this,A),G&&(this.O?w="headers="+encodeURIComponent(String(sE(G)))+"&"+w:this.m&&tv(A,this.m,G)),ev(this.h,z),this.Ua&&yt(A,"TYPE","init"),this.P?(yt(A,"$req",w),yt(A,"SID","null"),z.T=!0,Yy(z,A,null)):Yy(z,A,w),this.G=2}}else this.G==3&&(d?mE(this,d):this.i.length==0||Xk(this.h)||mE(this))};function mE(d,w){var A;w?A=w.l:A=d.U++;const j=Ai(d.I);yt(j,"SID",d.K),yt(j,"RID",A),yt(j,"AID",d.T),Bc(d,j),d.m&&d.o&&tv(j,d.m,d.o),A=new ya(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),w&&(d.i=w.D.concat(d.i)),w=gE(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ev(d.h,A),Yy(A,j,w)}function Bc(d,w){d.H&&I(d.H,function(A,j){yt(w,j,A)}),d.l&&Zk({},function(A,j){yt(w,j,A)})}function gE(d,w,A){A=Math.min(d.i.length,A);var j=d.l?h(d.l.Na,d.l,d):null;e:{var z=d.i;let G=-1;for(;;){const fe=["count="+A];G==-1?0<A?(G=z[0].g,fe.push("ofs="+G)):G=0:fe.push("ofs="+G);let ut=!0;for(let cr=0;cr<A;cr++){let Qe=z[cr].g;const vr=z[cr].map;if(Qe-=G,0>Qe)G=Math.max(0,z[cr].g-100),ut=!1;else try{a3(vr,fe,"req"+Qe+"_")}catch{j&&j(vr)}}if(ut){j=fe.join("&");break e}}}return d=d.i.splice(0,A),w.D=d,j}function yE(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;X||te(),U||(X(),U=!0),Y.add(w,d),d.v=0}}function nv(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=jt(h(d.Fa,d),xE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,vE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=jt(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),Jd(this),vE(this))};function iv(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function vE(d){d.g=new ya(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Ai(d.qa);yt(w,"RID","rpc"),yt(w,"SID",d.K),yt(w,"AID",d.T),yt(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&yt(w,"TO",d.ja),yt(w,"TYPE","xmlhttp"),Bc(d,w),d.m&&d.o&&tv(w,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=Xd(Ai(w)),A.m=null,A.P=!0,Wk(A,d)}t.Za=function(){this.C!=null&&(this.C=null,Jd(this),nv(this),Ge(19))};function eh(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function bE(d,w){var A=null;if(d.g==w){eh(d),iv(d),d.g=null;var j=2}else if(Zy(d.h,w))A=w.D,Qk(d.h,w),j=1;else return;if(d.G!=0){if(w.o)if(j==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var z=d.B;j=we(),_e(j,new er(j,A)),Zd(d)}else yE(d);else if(z=w.s,z==3||z==0&&0<w.X||!(j==1&&c3(d,w)||j==2&&nv(d)))switch(A&&0<A.length&&(w=d.h,w.i=w.i.concat(A)),z){case 1:Ao(d,5);break;case 4:Ao(d,10);break;case 3:Ao(d,6);break;default:Ao(d,2)}}}function xE(d,w){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*w}function Ao(d,w){if(d.j.info("Error code "+w),w==2){var A=h(d.fb,d),j=d.Xa;const z=!j;j=new To(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Kd(j,"https"),Xd(j),z?r3(j.toString(),A):n3(j.toString(),A)}else Ge(2);d.G=0,d.l&&d.l.sa(w),wE(d),pE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function wE(d){if(d.G=0,d.ka=[],d.l){const w=Jk(d.h);(w.length!=0||d.i.length!=0)&&(x(d.ka,w),x(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function _E(d,w,A){var j=A instanceof To?Ai(A):new To(A);if(j.g!="")w&&(j.g=w+"."+j.g),Gd(j,j.s);else{var z=s.location;j=z.protocol,w=w?w+"."+z.hostname:z.hostname,z=+z.port;var G=new To(null);j&&Kd(G,j),w&&(G.g=w),z&&Gd(G,z),A&&(G.l=A),j=G}return A=d.D,w=d.ya,A&&w&&yt(j,A,w),yt(j,"VER",d.la),Bc(d,j),j}function kE(d,w,A){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new Dt(new Lc({eb:A})):new Dt(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function EE(){}t=EE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function th(){}th.prototype.g=function(d,w){return new rn(d,w)};function rn(d,w){pe.call(this),this.g=new hE(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!y(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!y(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new js(this)}v(rn,pe),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){rv(this.g)},rn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=Si(d),d=A);w.i.push(new H4(w.Ya++,d)),w.G==3&&Zd(w)},rn.prototype.N=function(){this.g.l=null,delete this.j,rv(this.g),delete this.g,rn.aa.N.call(this)};function SE(d){Nc.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const A in w){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}v(SE,Nc);function TE(){Rc.call(this),this.status=1}v(TE,Rc);function js(d){this.g=d}v(js,EE),js.prototype.ua=function(){_e(this.g,"a")},js.prototype.ta=function(d){_e(this.g,new SE(d))},js.prototype.sa=function(d){_e(this.g,new TE)},js.prototype.ra=function(){_e(this.g,"b")},th.prototype.createWebChannel=th.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,rj=function(){return new th},tj=function(){return we()},ej=Ti,Pb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qd.NO_ERROR=0,qd.TIMEOUT=8,qd.HTTP_ERROR=6,cp=qd,Bk.COMPLETE="complete",ZR=Bk,zd.EventType=Eo,Eo.OPEN="a",Eo.CLOSE="b",Eo.ERROR="c",Eo.MESSAGE="d",pe.prototype.listen=pe.prototype.K,yu=zd,JR=Lc,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,QR=Dt}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const CT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new k_("@firebase/firestore");function Jc(){return os.logLevel}function be(t,...e){if(os.logLevel<=qe.DEBUG){const r=e.map(D_);os.debug(`Firestore (${pc}): ${t}`,...r)}}function ta(t,...e){if(os.logLevel<=qe.ERROR){const r=e.map(D_);os.error(`Firestore (${pc}): ${t}`,...r)}}function Ml(t,...e){if(os.logLevel<=qe.WARN){const r=e.map(D_);os.warn(`Firestore (${pc}): ${t}`,...r)}}function D_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t="Unexpected state"){const e=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: `+t;throw ta(e),new Error(e)}function dt(t,e){t||Ne()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends wi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Er.UNAUTHENTICATED))}shutdown(){}}class W9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class H9{constructor(e){this.t=e,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wi)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(dt(typeof n.accessToken=="string"),new nj(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new Er(e)}}class K9{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Er.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class G9{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new K9(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const n=a=>{a.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(dt(typeof r.token=="string"),this.R=r.token,new X9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=Q9(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Je(t,e){return t<e?-1:t>e?1:0}function $l(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new ct(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new je(e)}static min(){return new je(new ct(0,0))}static max(){return new je(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ne(),n===void 0?n=e.length-r:n>e.length-r&&Ne(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return yf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof yf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class _t extends yf{construct(e,r,n){return new _t(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new _t(r)}static emptyPath(){return new _t([])}}const J9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends yf{construct(e,r,n){return new hr(e,r,n)}static isValidIdentifier(e){return J9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(r)}static emptyPath(){return new hr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(_t.fromString(e))}static fromName(e){return new Ee(_t.fromString(e).popFirst(5))}static empty(){return new Ee(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return _t.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new _t(e.slice()))}}function Z9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=je.fromTimestamp(n===1e9?new ct(r+1,0):new ct(r,n));return new ao(i,Ee.empty(),e)}function e8(t){return new ao(t.readTime,t.key,-1)}class ao{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ao(je.min(),Ee.empty(),-1)}static max(){return new ao(je.max(),Ee.empty(),-1)}}function t8(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ee.comparator(t.documentKey,e.documentKey),r!==0?r:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==r8)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ne((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ne?r:ne.resolve(r)}catch(r){return ne.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ne.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ne.reject(r)}static resolve(e){return new ne((r,n)=>{r(e)})}static reject(e){return new ne((r,n)=>{n(e)})}static waitFor(e){return new ne((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=ne.resolve(!1);for(const n of e)r=r.next(i=>i?ne.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new ne((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(u=>{o[c]=u,++s,s===a&&n(o)},u=>i(u))}})}static doWhile(e,r){return new ne((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function i8(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ed(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}M_.oe=-1;function Ng(t){return t==null}function am(t){return t===0&&1/t==-1/0}function a8(t){return typeof t=="number"&&Number.isInteger(t)&&!am(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ws(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function aj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,r){this.comparator=e,this.root=r||dr.EMPTY}insert(e,r){return new Rt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??dr.RED,this.left=i??dr.EMPTY,this.right=a??dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new dr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return dr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,r,n,i,a){return this}insert(e,r,n){return new dr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new RT(this.data.getIterator())}getIteratorFrom(e){return new RT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof mr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new mr(this.comparator);return r.data=e,r}}class RT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new cn([])}unionWith(e){let r=new mr(hr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new cn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new oj("Invalid base64 string: "+a):a}}(e);return new yr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new yr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const o8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(t){if(dt(!!t),typeof t=="string"){let e=0;const r=o8.exec(t);if(dt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?yr.fromBase64String(t):yr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function L_(t){const e=t.mapValue.fields.__previous_value__;return $_(e)?L_(e):e}function vf(t){const e=oo(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,r,n,i,a,o,s,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c}}class bf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new bf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$_(t)?4:c8(t)?9007199254740991:l8(t)?10:11:Ne()}function bi(t,e){if(t===e)return!0;const r=ls(t);if(r!==ls(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vf(t).isEqual(vf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=oo(i.timestampValue),s=oo(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ss(i.bytesValue).isEqual(ss(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Vt(i.geoPointValue.latitude)===Vt(a.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Vt(i.integerValue)===Vt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Vt(i.doubleValue),s=Vt(a.doubleValue);return o===s?am(o)===am(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(NT(o)!==NT(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!bi(o[l],s[l])))return!1;return!0}(t,e);default:return Ne()}}function xf(t,e){return(t.values||[]).find(r=>bi(r,e))!==void 0}function Ll(t,e){if(t===e)return 0;const r=ls(t),n=ls(e);if(r!==n)return Je(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Vt(a.integerValue||a.doubleValue),l=Vt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return jT(t.timestampValue,e.timestampValue);case 4:return jT(vf(t),vf(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(a,o){const s=ss(a),l=ss(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=Je(s[c],l[c]);if(u!==0)return u}return Je(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Je(Vt(a.latitude),Vt(o.latitude));return s!==0?s:Je(Vt(a.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return DT(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,u;const f=a.fields||{},h=o.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,b=Je(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0);return b!==0?b:DT(p,v)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Sh.mapValue&&o===Sh.mapValue)return 0;if(a===Sh.mapValue)return 1;if(o===Sh.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Je(l[f],u[f]);if(h!==0)return h;const p=Ll(s[l[f]],c[u[f]]);if(p!==0)return p}return Je(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ne()}}function jT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const r=oo(t),n=oo(e),i=Je(r.seconds,n.seconds);return i!==0?i:Je(r.nanos,n.nanos)}function DT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Ll(r[i],n[i]);if(a)return a}return Je(r.length,n.length)}function Fl(t){return Ib(t)}function Ib(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=oo(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ss(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ee.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Ib(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Ib(r.fields[o])}`;return i+"}"}(t.mapValue):Ne()}function MT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ob(t){return!!t&&"integerValue"in t}function F_(t){return!!t&&"arrayValue"in t}function $T(t){return!!t&&"nullValue"in t}function LT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function up(t){return!!t&&"mapValue"in t}function l8(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Du(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Du(t.arrayValue.values[r]);return e}return Object.assign({},t)}function c8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!up(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(r)}setAll(e){let r=hr.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Du(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());up(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];up(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ws(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Xr(Du(this.value))}}function sj(t){const e=[];return ws(t.fields,(r,n)=>{const i=new hr([r]);if(up(n)){const a=sj(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ar(e,0,je.min(),je.min(),je.min(),Xr.empty(),0)}static newFoundDocument(e,r,n,i){return new Ar(e,1,r,je.min(),n,i,0)}static newNoDocument(e,r){return new Ar(e,2,r,je.min(),je.min(),Xr.empty(),0)}static newUnknownDocument(e,r){return new Ar(e,3,r,je.min(),je.min(),Xr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,r){this.position=e,this.inclusive=r}}function FT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Ee.comparator(Ee.fromName(o.referenceValue),r.key):n=Ll(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function VT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!bi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,r="asc"){this.field=e,this.dir=r}}function u8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{}class Wt extends lj{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new d8(e,r,n):r==="array-contains"?new m8(e,n):r==="in"?new g8(e,n):r==="not-in"?new y8(e,n):r==="array-contains-any"?new v8(e,n):new Wt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new h8(e,n):new p8(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ll(r,this.value)):r!==null&&ls(this.value)===ls(r)&&this.matchesComparison(Ll(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends lj{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Xn(e,r)}matches(e){return cj(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cj(t){return t.op==="and"}function uj(t){return f8(t)&&cj(t)}function f8(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function Cb(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(uj(t))return t.filters.map(e=>Cb(e)).join(",");{const e=t.filters.map(r=>Cb(r)).join(",");return`${t.op}(${e})`}}function fj(t,e){return t instanceof Wt?function(n,i){return i instanceof Wt&&n.op===i.op&&n.field.isEqual(i.field)&&bi(n.value,i.value)}(t,e):t instanceof Xn?function(n,i){return i instanceof Xn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&fj(o,i.filters[s]),!0):!1}(t,e):void Ne()}function dj(t){return t instanceof Wt?function(r){return`${r.field.canonicalString()} ${r.op} ${Fl(r.value)}`}(t):t instanceof Xn?function(r){return r.op.toString()+" {"+r.getFilters().map(dj).join(" ,")+"}"}(t):"Filter"}class d8 extends Wt{constructor(e,r,n){super(e,r,n),this.key=Ee.fromName(n.referenceValue)}matches(e){const r=Ee.comparator(e.key,this.key);return this.matchesComparison(r)}}class h8 extends Wt{constructor(e,r){super(e,"in",r),this.keys=hj("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class p8 extends Wt{constructor(e,r){super(e,"not-in",r),this.keys=hj("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function hj(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ee.fromName(n.referenceValue))}class m8 extends Wt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return F_(r)&&xf(r.arrayValue,this.value)}}class g8 extends Wt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&xf(this.value.arrayValue,r)}}class y8 extends Wt{constructor(e,r){super(e,"not-in",r)}matches(e){if(xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!xf(this.value.arrayValue,r)}}class v8 extends Wt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!F_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>xf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function UT(t,e=null,r=[],n=[],i=null,a=null,o=null){return new b8(t,e,r,n,i,a,o)}function V_(t){const e=Me(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Cb(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Ng(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Fl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Fl(n)).join(",")),e.ue=r}return e.ue}function U_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!u8(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!fj(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VT(t.startAt,e.startAt)&&VT(t.endAt,e.endAt)}function Nb(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function x8(t,e,r,n,i,a,o,s){return new mc(t,e,r,n,i,a,o,s)}function B_(t){return new mc(t)}function BT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pj(t){return t.collectionGroup!==null}function Mu(t){const e=Me(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new mr(hr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new wf(a,n))}),r.has(hr.keyField().canonicalString())||e.ce.push(new wf(hr.keyField(),n))}return e.ce}function mi(t){const e=Me(t);return e.le||(e.le=w8(e,Mu(t))),e.le}function w8(t,e){if(t.limitType==="F")return UT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new wf(i.field,a)});const r=t.endAt?new om(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new om(t.startAt.position,t.startAt.inclusive):null;return UT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Rb(t,e){const r=t.filters.concat([e]);return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function jb(t,e,r){return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Rg(t,e){return U_(mi(t),mi(e))&&t.limitType===e.limitType}function mj(t){return`${V_(mi(t))}|lt:${t.limitType}`}function qs(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>dj(i)).join(", ")}]`),Ng(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Fl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Fl(i)).join(",")),`Target(${n})`}(mi(t))}; limitType=${t.limitType})`}function jg(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ee.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Mu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const c=FT(o,s,l);return o.inclusive?c<=0:c<0}(n.startAt,Mu(n),i)||n.endAt&&!function(o,s,l){const c=FT(o,s,l);return o.inclusive?c>=0:c>0}(n.endAt,Mu(n),i))}(t,e)}function _8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gj(t){return(e,r)=>{let n=!1;for(const i of Mu(t)){const a=k8(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function k8(t,e,r){const n=t.field.isKeyField()?Ee.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?Ll(l,c):Ne()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return aj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=new Rt(Ee.comparator);function ra(){return E8}const yj=new Rt(Ee.comparator);function vu(...t){let e=yj;for(const r of t)e=e.insert(r.key,r);return e}function vj(t){let e=yj;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Uo(){return $u()}function bj(){return $u()}function $u(){return new gc(t=>t.toString(),(t,e)=>t.isEqual(e))}const S8=new Rt(Ee.comparator),T8=new mr(Ee.comparator);function ze(...t){let e=T8;for(const r of t)e=e.add(r);return e}const A8=new mr(Je);function P8(){return A8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function xj(t){return{integerValue:""+t}}function I8(t,e){return a8(e)?xj(e):z_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this._=void 0}}function O8(t,e,r){return t instanceof sm?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&$_(a)&&(a=L_(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof _f?_j(t,e):t instanceof kf?kj(t,e):function(i,a){const o=wj(i,a),s=zT(o)+zT(i.Pe);return Ob(o)&&Ob(i.Pe)?xj(s):z_(i.serializer,s)}(t,e)}function C8(t,e,r){return t instanceof _f?_j(t,e):t instanceof kf?kj(t,e):r}function wj(t,e){return t instanceof lm?function(n){return Ob(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class sm extends Dg{}class _f extends Dg{constructor(e){super(),this.elements=e}}function _j(t,e){const r=Ej(e);for(const n of t.elements)r.some(i=>bi(i,n))||r.push(n);return{arrayValue:{values:r}}}class kf extends Dg{constructor(e){super(),this.elements=e}}function kj(t,e){let r=Ej(e);for(const n of t.elements)r=r.filter(i=>!bi(i,n));return{arrayValue:{values:r}}}class lm extends Dg{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function zT(t){return Vt(t.integerValue||t.doubleValue)}function Ej(t){return F_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function N8(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof _f&&i instanceof _f||n instanceof kf&&i instanceof kf?$l(n.elements,i.elements,bi):n instanceof lm&&i instanceof lm?bi(n.Pe,i.Pe):n instanceof sm&&i instanceof sm}(t.transform,e.transform)}class R8{constructor(e,r){this.version=e,this.transformResults=r}}class Pn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mg{}function Sj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new q_(t.key,Pn.none()):new Sd(t.key,t.data,Pn.none());{const r=t.data,n=Xr.empty();let i=new mr(hr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new go(t.key,n,new cn(i.toArray()),Pn.none())}}function j8(t,e,r){t instanceof Sd?function(i,a,o){const s=i.value.clone(),l=WT(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof go?function(i,a,o){if(!fp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=WT(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(Tj(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Lu(t,e,r,n){return t instanceof Sd?function(a,o,s,l){if(!fp(a.precondition,o))return s;const c=a.value.clone(),u=HT(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof go?function(a,o,s,l){if(!fp(a.precondition,o))return s;const c=HT(a.fieldTransforms,l,o),u=o.data;return u.setAll(Tj(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return fp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function D8(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=wj(n.transform,i||null);a!=null&&(r===null&&(r=Xr.empty()),r.set(n.field,a))}return r||null}function qT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&$l(n,i,(a,o)=>N8(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sd extends Mg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class go extends Mg{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Tj(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function WT(t,e,r){const n=new Map;dt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,C8(o,s,r[i]))}return n}function HT(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,O8(a,o,e))}return n}class q_ extends Mg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M8 extends Mg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&j8(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Lu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Lu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=bj();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=Sj(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(je.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ze())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,(r,n)=>qT(r,n))&&$l(this.baseMutations,e.baseMutations,(r,n)=>qT(r,n))}}class W_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){dt(e.mutations.length===n.length);let i=function(){return S8}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new W_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Ke;function V8(t){switch(t){default:return Ne();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function Aj(t){if(t===void 0)return ta("GRPC error has no .code"),Z.UNKNOWN;switch(t){case zt.OK:return Z.OK;case zt.CANCELLED:return Z.CANCELLED;case zt.UNKNOWN:return Z.UNKNOWN;case zt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case zt.INTERNAL:return Z.INTERNAL;case zt.UNAVAILABLE:return Z.UNAVAILABLE;case zt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case zt.NOT_FOUND:return Z.NOT_FOUND;case zt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case zt.ABORTED:return Z.ABORTED;case zt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case zt.DATA_LOSS:return Z.DATA_LOSS;default:return Ne()}}(Ke=zt||(zt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=new Go([4294967295,4294967295],0);function KT(t){const e=U8().encode(t),r=new YR;return r.update(e),new Uint8Array(r.digest())}function GT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Go([r,n],0),new Go([i,a],0)]}class H_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new bu(`Invalid padding: ${r}`);if(n<0)throw new bu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new bu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Go.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Go.fromNumber(n)));return i.compare(B8)===1&&(i=new Go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=KT(e),[n,i]=GT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new H_(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const r=KT(e),[n,i]=GT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new $g(je.min(),i,new Rt(Je),ra(),ze())}}class Td{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Td(n,r,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class Pj{constructor(e,r){this.targetId=e,this.me=r}}class Ij{constructor(e,r,n=yr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class XT{constructor(){this.fe=0,this.ge=QT(),this.pe=yr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),r=ze(),n=ze();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ne()}}),new Td(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=QT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class z8{constructor(e){this.Le=e,this.Be=new Map,this.ke=ra(),this.qe=YT(),this.Qe=new Rt(Je)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(Nb(a))if(n===0){const o=new Ee(a.path);this.Ue(r,o,Ar.newNoDocument(o,je.min()))}else dt(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=ss(n).toUint8Array()}catch(l){if(l instanceof oj)return Ml("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new H_(o,i,a)}catch(l){return Ml(l instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&Nb(s.target)){const l=new Ee(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ar.newNoDocument(l,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=ze();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new $g(e,r,this.Qe,this.ke,n);return this.ke=ra(),this.qe=YT(),this.Qe=new Rt(Je),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new XT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new mr(Je),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||be("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new XT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function YT(){return new Rt(Ee.comparator)}function QT(){return new Rt(Ee.comparator)}const q8={asc:"ASCENDING",desc:"DESCENDING"},W8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H8={and:"AND",or:"OR"};class K8{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Db(t,e){return t.useProto3Json||Ng(e)?e:{value:e}}function cm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Oj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function G8(t,e){return cm(t,e.toTimestamp())}function gi(t){return dt(!!t),je.fromTimestamp(function(r){const n=oo(r);return new ct(n.seconds,n.nanos)}(t))}function K_(t,e){return Mb(t,e).canonicalString()}function Mb(t,e){const r=function(i){return new _t(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function Cj(t){const e=_t.fromString(t);return dt(Mj(e)),e}function $b(t,e){return K_(t.databaseId,e.path)}function zv(t,e){const r=Cj(e);if(r.get(1)!==t.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ee(Rj(r))}function Nj(t,e){return K_(t.databaseId,e)}function X8(t){const e=Cj(t);return e.length===4?_t.emptyPath():Rj(e)}function Lb(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Rj(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JT(t,e,r){return{name:$b(t,e),fields:r.value.mapValue.fields}}function Y8(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(dt(u===void 0||typeof u=="string"),yr.fromBase64String(u||"")):(dt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),yr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?Z.UNKNOWN:Aj(c.code);return new me(u,c.message||"")}(o);r=new Ij(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=zv(t,n.document.name),a=gi(n.document.updateTime),o=n.document.createTime?gi(n.document.createTime):je.min(),s=new Xr({mapValue:{fields:n.document.fields}}),l=Ar.newFoundDocument(i,a,o,s),c=n.targetIds||[],u=n.removedTargetIds||[];r=new dp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=zv(t,n.document),a=n.readTime?gi(n.readTime):je.min(),o=Ar.newNoDocument(i,a),s=n.removedTargetIds||[];r=new dp([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=zv(t,n.document),a=n.removedTargetIds||[];r=new dp([],a,i,null)}else{if(!("filter"in e))return Ne();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new F8(i,a),s=n.targetId;r=new Pj(s,o)}}return r}function Q8(t,e){let r;if(e instanceof Sd)r={update:JT(t,e.key,e.value)};else if(e instanceof q_)r={delete:$b(t,e.key)};else if(e instanceof go)r={update:JT(t,e.key,e.data),updateMask:oz(e.fieldMask)};else{if(!(e instanceof M8))return Ne();r={verify:$b(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof sm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof _f)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof kf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof lm)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw Ne()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:G8(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne()}(t,e.precondition)),r}function J8(t,e){return t&&t.length>0?(dt(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?gi(i.updateTime):gi(a);return o.isEqual(je.min())&&(o=gi(a)),new R8(o,i.transformResults||[])}(r,e))):[]}function Z8(t,e){return{documents:[Nj(t,e.path)]}}function ez(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Nj(t,i);const a=function(c){if(c.length!==0)return Dj(Xn.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Ws(h.field),direction:nz(h.dir)}}(u))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=Db(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:i}}function tz(t){let e=X8(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){dt(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];r.where&&(a=function(f){const h=jj(f);return h instanceof Xn&&uj(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(v){return new wf(Hs(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Ng(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new om(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new om(p,h)}(r.endAt)),x8(e,i,o,a,s,"F",l,c)}function rz(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function jj(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Hs(r.unaryFilter.field);return Wt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Hs(r.unaryFilter.field);return Wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Hs(r.unaryFilter.field);return Wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hs(r.unaryFilter.field);return Wt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(t):t.fieldFilter!==void 0?function(r){return Wt.create(Hs(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Xn.create(r.compositeFilter.filters.map(n=>jj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne()}}(r.compositeFilter.op))}(t):Ne()}function nz(t){return q8[t]}function iz(t){return W8[t]}function az(t){return H8[t]}function Ws(t){return{fieldPath:t.canonicalString()}}function Hs(t){return hr.fromServerFormat(t.fieldPath)}function Dj(t){return t instanceof Wt?function(r){if(r.op==="=="){if(LT(r.value))return{unaryFilter:{field:Ws(r.field),op:"IS_NAN"}};if($T(r.value))return{unaryFilter:{field:Ws(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(LT(r.value))return{unaryFilter:{field:Ws(r.field),op:"IS_NOT_NAN"}};if($T(r.value))return{unaryFilter:{field:Ws(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(r.field),op:iz(r.op),value:r.value}}}(t):t instanceof Xn?function(r){const n=r.getFilters().map(i=>Dj(i));return n.length===1?n[0]:{compositeFilter:{op:az(r.op),filters:n}}}(t):Ne()}function oz(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Mj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,r,n,i,a=je.min(),o=je.min(),s=yr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.ct=e}}function lz(t){const e=tz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.un=new uz}addToCollectionParentIndex(e,r){return this.un.add(r),ne.resolve()}getCollectionParents(e,r){return ne.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ne.resolve()}deleteFieldIndex(e,r){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,r){return ne.resolve()}getDocumentsMatchingTarget(e,r){return ne.resolve(null)}getIndexType(e,r){return ne.resolve(0)}getFieldIndexes(e,r){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,r){return ne.resolve(ao.min())}getMinOffsetFromCollectionGroup(e,r){return ne.resolve(ao.min())}updateCollectionGroup(e,r,n){return ne.resolve()}updateIndexEntries(e,r){return ne.resolve()}}class uz{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new mr(_t.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new mr(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Vl(0)}static kn(){return new Vl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(){this.changes=new gc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ne.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Lu(n.mutation,i,cn.empty(),ct.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,ze()).next(()=>n))}getLocalViewOfDocuments(e,r,n=ze()){const i=Uo();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=vu();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Uo();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,ze()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=ra();const o=$u(),s=function(){return $u()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof go)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Lu(u.mutation,c,u.mutation.getFieldMask(),ct.now())):o.set(c.key,cn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),r.forEach((c,u)=>{var f;return s.set(c,new dz(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=$u();let i=new Rt((o,s)=>o-s),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||cn.empty();u=s.applyToLocalView(c,u),n.set(l,u);const f=(i.get(s.batchId)||ze()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,f=bj();u.forEach(h=>{if(!a.has(h)){const p=Sj(r.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ne.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):pj(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ne.resolve(Uo());let s=-1,l=a;return o.next(c=>ne.forEach(c,(u,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(u)?ne.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,ze())).next(u=>({batchId:s,changes:vj(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ee(r)).next(n=>{let i=vu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=vu();return this.indexManager.getCollectionParents(e,a).next(s=>ne.forEach(s,l=>{const c=function(f,h){return new mc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ar.newInvalidDocument(u)))});let s=vu();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Lu(u.mutation,c,cn.empty(),ct.now()),jg(r,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ne.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}}(r)),ne.resolve()}getNamedQuery(e,r){return ne.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:lz(i.bundledQuery),readTime:gi(i.readTime)}}(r)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.overlays=new Rt(Ee.comparator),this.Ir=new Map}getOverlay(e,r){return ne.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Uo();return ne.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),ne.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),ne.resolve()}getOverlaysForCollection(e,r,n){const i=Uo(),a=r.length+1,o=new Ee(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Rt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=Uo(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=Uo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return ne.resolve(s)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new L8(r,n));let a=this.Ir.get(r);a===void 0&&(a=ze(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.Tr=new mr(rr.Er),this.dr=new mr(rr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new rr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new rr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ee(new _t([])),n=new rr(r,e),i=new rr(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ee(new _t([])),n=new rr(r,e),i=new rr(r,e+1);let a=ze();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new rr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class rr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ee.comparator(e.key,r.key)||Je(e.wr,r.wr)}static Ar(e,r){return Je(e.wr,r.wr)||Ee.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new mr(rr.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $8(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new rr(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ne.resolve(o)}lookupMutationBatch(e,r){return ne.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new rr(r,0),i=new rr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new mr(Je);return r.forEach(i=>{const a=new rr(i,0),o=new rr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),ne.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Ee.isDocumentKey(a)||(a=a.child(""));const o=new rr(new Ee(a),0);let s=new mr(Je);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.wr)),!0)},o),ne.resolve(this.Cr(s))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){dt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ne.forEach(r.mutations,i=>{const a=new rr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new rr(r,0),i=this.br.firstAfterOrEqual(n);return ne.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.Mr=e,this.docs=function(){return new Rt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ne.resolve(n?n.document.mutableCopy():Ar.newInvalidDocument(r))}getEntries(e,r){let n=ra();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ar.newInvalidDocument(i))}),ne.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ra();const o=r.path,s=new Ee(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||t8(e8(u),n)<=0||(i.has(u.key)||jg(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ne()}Or(e,r){return ne.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new bz(this)}getSize(e){return ne.resolve(this.size)}}class bz extends fz{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ne.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e){this.persistence=e,this.Nr=new gc(r=>V_(r),U_),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.Lr=0,this.Br=new G_,this.targetCount=0,this.kr=Vl.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Vl(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ne.resolve()}updateTargetData(e,r){return this.Kn(r),ne.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ne.waitFor(a).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ne.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ne.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ne.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ne.resolve(n)}containsKey(e,r){return ne.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,r){this.qr={},this.overlays={},this.Qr=new M_(0),this.Kr=!1,this.Kr=!0,this.$r=new gz,this.referenceDelegate=e(this),this.Ur=new xz(this),this.indexManager=new cz,this.remoteDocumentCache=function(i){return new vz(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new sz(r),this.Gr=new pz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new mz,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new yz(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){be("MemoryPersistence","Starting transaction:",e);const i=new _z(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return ne.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class _z extends n8{constructor(e){super(),this.currentSequenceNumber=e}}class X_{constructor(e){this.persistence=e,this.Jr=new G_,this.Yr=null}static Zr(e){return new X_(e)}get Xr(){if(this.Yr)return this.Yr;throw Ne()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ne.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ne.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ne.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,n=>{const i=Ee.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,je.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ne.or([()=>ne.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=ze(),i=ze();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Y_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return mV()?8:i8(Cr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new kz;return this.Xi(e,r,o).next(s=>{if(a.result=s,this.zi)return this.es(e,r,o,s.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Jc()<=qe.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",qs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(Jc()<=qe.DEBUG&&be("QueryEngine","Query:",qs(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Jc()<=qe.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",qs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(r))):ne.resolve())}Yi(e,r){if(BT(r))return ne.resolve(null);let n=mi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=jb(r,null,"F"),n=mi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=ze(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,s);return this.ns(r,c,o,l.readTime)?this.Yi(e,jb(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,i){return BT(r)||i.isEqual(je.min())?ne.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?ne.resolve(null):(Jc()<=qe.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qs(r)),this.rs(e,o,r,Z9(i,-1)).next(s=>s))})}ts(e,r){let n=new mr(gj(e));return r.forEach((i,a)=>{jg(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Jc()<=qe.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",qs(r)),this.Ji.getDocumentsMatchingQuery(e,r,ao.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Rt(Je),this._s=new gc(a=>V_(a),U_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hz(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Tz(t,e,r,n){return new Sz(t,e,r,n)}async function $j(t,e){const r=Me(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=ze();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:s}))})})}function Az(t,e){const r=Me(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const f=c.batch,h=f.keys();let p=ne.resolve();return h.forEach(v=>{p=p.next(()=>u.getEntry(l,v)).next(b=>{const x=c.docVersions.get(v);dt(x!==null),b.version.compareTo(x)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=ze();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function Lj(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Pz(t,e){const r=Me(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,u.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(a,u.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(yr.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),i=i.insert(f,p),function(b,x,k){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(h,p,u)&&s.push(r.Ur.updateTargetData(a,p))});let l=ra(),c=ze();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(Iz(a,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!n.isEqual(je.min())){const u=r.Ur.getLastRemoteSnapshotVersion(a).next(f=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(u)}return ne.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.os=i,a))}function Iz(t,e,r){let n=ze(),i=ze();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=ra();return r.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(je.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):be("LocalStore","Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Oz(t,e){const r=Me(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Cz(t,e){const r=Me(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,ne.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new Va(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Fb(t,e,r){const n=Me(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ed(o))throw o;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function ZT(t,e,r){const n=Me(t);let i=je.min(),a=ze();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=Me(l),h=f._s.get(u);return h!==void 0?ne.resolve(f.os.get(h)):f.Ur.getTargetData(c,u)}(n,o,mi(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:je.min(),r?a:ze())).next(s=>(Nz(n,_8(e),s),{documents:s,Ts:a})))}function Nz(t,e,r){let n=t.us.get(e)||je.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class eA{constructor(){this.activeTargetIds=P8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rz{constructor(){this.so=new eA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new eA,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function qv(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="WebChannelConnection";class $z extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=qv(),l=this.xo(r,n.toUriEncodedString());be("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,o),this.No(r,l,c,i).then(u=>(be("RestConnection",`Received RPC '${r}' ${s}: `,u),u),u=>{throw Ml("RestConnection",`RPC '${r}' ${s} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pc}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=Dz[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=qv();return new Promise((o,s)=>{const l=new QR;l.setWithCredentials(!0),l.listenOnce(ZR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cp.NO_ERROR:const u=l.getResponseJson();be(_r,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),o(u);break;case cp.TIMEOUT:be(_r,`RPC '${e}' ${a} timed out`),s(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case cp.HTTP_ERROR:const f=l.getStatus();if(be(_r,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const v=function(x){const k=x.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(k)>=0?k:Z.UNKNOWN}(p.status);s(new me(v,p.message))}else s(new me(Z.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{be(_r,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);be(_r,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const i=qv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rj(),s=tj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new JR({})),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");be(_r,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);let h=!1,p=!1;const v=new Mz({Io:x=>{p?be(_r,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(be(_r,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),be(_r,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),b=(x,k,y)=>{x.listen(k,g=>{try{y(g)}catch(_){setTimeout(()=>{throw _},0)}})};return b(f,yu.EventType.OPEN,()=>{p||(be(_r,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(f,yu.EventType.CLOSE,()=>{p||(p=!0,be(_r,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(f,yu.EventType.ERROR,x=>{p||(p=!0,Ml(_r,`RPC '${e}' stream ${i} transport errored:`,x),v.So(new me(Z.UNAVAILABLE,"The operation could not be completed")))}),b(f,yu.EventType.MESSAGE,x=>{var k;if(!p){const y=x.data[0];dt(!!y);const g=y,_=g.error||((k=g[0])===null||k===void 0?void 0:k.error);if(_){be(_r,`RPC '${e}' stream ${i} received error:`,_);const T=_.status;let I=function(O){const C=zt[O];if(C!==void 0)return Aj(C)}(T),E=_.message;I===void 0&&(I=Z.INTERNAL,E="Unknown error status: "+T+" with message "+_.message),p=!0,v.So(new me(I,E)),f.close()}else be(_r,`RPC '${e}' stream ${i} received:`,y),v.bo(y)}}),b(s,ej.STAT_EVENT,x=>{x.stat===Pb.PROXY?be(_r,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Pb.NOPROXY&&be(_r,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Wv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t){return new K8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,r,n,i,a,o,s,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Fj(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Z.RESOURCE_EXHAUSTED?(ta(r.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new me(Z.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lz extends Vj{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Y8(this.serializer,e),n=function(a){if(!("targetChange"in a))return je.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?je.min():o.readTime?gi(o.readTime):je.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Lb(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=Nb(l)?{documents:Z8(a,l)}:{query:ez(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Oj(a,o.resumeToken);const c=Db(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(je.min())>0){s.readTime=cm(a,o.snapshotVersion.toTimestamp());const c=Db(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const n=rz(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Lb(this.serializer),r.removeTarget=e,this.a_(r)}}class Fz extends Vj{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return dt(!!e.streamToken),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=J8(e.writeResults,e.commitTime),n=gi(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Lb(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Q8(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,Mb(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(Z.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,Mb(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(Z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Uz{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ta(r),this.D_=!1):be("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{_s(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Me(l);c.L_.add(4),await Ad(c),c.q_.set("Unknown"),c.L_.delete(4),await Fg(c)}(this))})}),this.q_=new Uz(n,i)}}async function Fg(t){if(_s(t))for(const e of t.B_)await e(!0)}async function Ad(t){for(const e of t.B_)await e(!1)}function Uj(t,e){const r=Me(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),e1(r)?Z_(r):yc(r).r_()&&J_(r,e))}function Q_(t,e){const r=Me(t),n=yc(r);r.N_.delete(e),n.r_()&&Bj(r,e),r.N_.size===0&&(n.r_()?n.o_():_s(r)&&r.q_.set("Unknown"))}function J_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}yc(t).A_(e)}function Bj(t,e){t.Q_.xe(e),yc(t).R_(e)}function Z_(t){t.Q_=new z8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yc(t).start(),t.q_.v_()}function e1(t){return _s(t)&&!yc(t).n_()&&t.N_.size>0}function _s(t){return Me(t).L_.size===0}function zj(t){t.Q_=void 0}async function zz(t){t.q_.set("Online")}async function qz(t){t.N_.forEach((e,r)=>{J_(t,e)})}async function Wz(t,e){zj(t),e1(t)?(t.q_.M_(e),Z_(t)):t.q_.set("Unknown")}async function Hz(t,e,r){if(t.q_.set("Online"),e instanceof Ij&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(n){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await um(t,n)}else if(e instanceof dp?t.Q_.Ke(e):e instanceof Pj?t.Q_.He(e):t.Q_.We(e),!r.isEqual(je.min()))try{const n=await Lj(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.N_.get(c);u&&a.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a.N_.get(l);if(!u)return;a.N_.set(l,u.withResumeToken(yr.EMPTY_BYTE_STRING,u.snapshotVersion)),Bj(a,l);const f=new Va(u.target,l,c,u.sequenceNumber);J_(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){be("RemoteStore","Failed to raise snapshot:",n),await um(t,n)}}async function um(t,e,r){if(!Ed(e))throw e;t.L_.add(1),await Ad(t),t.q_.set("Offline"),r||(r=()=>Lj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Fg(t)})}function qj(t,e){return e().catch(r=>um(t,r,e))}async function Vg(t){const e=Me(t),r=so(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Kz(e);)try{const i=await Oz(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,Gz(e,i)}catch(i){await um(e,i)}Wj(e)&&Hj(e)}function Kz(t){return _s(t)&&t.O_.length<10}function Gz(t,e){t.O_.push(e);const r=so(t);r.r_()&&r.V_&&r.m_(e.mutations)}function Wj(t){return _s(t)&&!so(t).n_()&&t.O_.length>0}function Hj(t){so(t).start()}async function Xz(t){so(t).p_()}async function Yz(t){const e=so(t);for(const r of t.O_)e.m_(r.mutations)}async function Qz(t,e,r){const n=t.O_.shift(),i=W_.from(n,e,r);await qj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vg(t)}async function Jz(t,e){e&&so(t).V_&&await async function(n,i){if(function(o){return V8(o)&&o!==Z.ABORTED}(i.code)){const a=n.O_.shift();so(n).s_(),await qj(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Vg(n)}}(t,e),Wj(t)&&Hj(t)}async function rA(t,e){const r=Me(t);r.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const n=_s(r);r.L_.add(3),await Ad(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Fg(r)}async function Zz(t,e){const r=Me(t);e?(r.L_.delete(2),await Fg(r)):e||(r.L_.add(2),await Ad(r),r.q_.set("Unknown"))}function yc(t){return t.K_||(t.K_=function(r,n,i){const a=Me(r);return a.w_(),new Lz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:zz.bind(null,t),Ro:qz.bind(null,t),mo:Wz.bind(null,t),d_:Hz.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),e1(t)?Z_(t):t.q_.set("Unknown")):(await t.K_.stop(),zj(t))})),t.K_}function so(t){return t.U_||(t.U_=function(r,n,i){const a=Me(r);return a.w_(),new Fz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Xz.bind(null,t),mo:Jz.bind(null,t),f_:Yz.bind(null,t),g_:Qz.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Vg(t)):(await t.U_.stop(),t.O_.length>0&&(be("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new t1(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r1(t,e){if(ta("AsyncQueue",`${e}: ${t}`),Ed(t))return new me(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ee.comparator(r.key,n.key):(r,n)=>Ee.comparator(r.key,n.key),this.keyedMap=vu(),this.sortedSet=new Rt(this.comparator)}static emptySet(e){return new _l(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new _l;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.W_=new Rt(Ee.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ne():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Ul{constructor(e,r,n,i,a,o,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new Ul(e,r,_l.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class t7{constructor(){this.queries=iA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Me(r),a=i.queries;i.queries=iA(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function iA(){return new gc(t=>mj(t),Rg)}async function Kj(t,e){const r=Me(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new e7,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=r1(o,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&n1(r)}async function Gj(t,e){const r=Me(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function r7(t,e){const r=Me(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&n1(r)}function n7(t,e,r){const n=Me(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function n1(t){t.Y_.forEach(e=>{e.next()})}var Vb,aA;(aA=Vb||(Vb={})).ea="default",aA.Cache="cache";class Xj{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Ul(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Vb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.key=e}}class Qj{constructor(e){this.key=e}}class i7{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ze(),this.mutatedKeys=ze(),this.Aa=gj(e),this.Ra=new _l(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new nA,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=jg(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?v!==b&&(n.track({type:3,doc:p}),x=!0):this.ga(h,p)||(n.track({type:2,doc:p}),x=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),x=!0):h&&!p&&(n.track({type:1,doc:h}),x=!0,(l||c)&&(s=!0)),x&&(p?(o=o.add(p),a=b?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,f)=>function(p,v){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return b(p)-b(v)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Ul(this.query,e.Ra,a,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ze(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new Qj(n))}),this.da.forEach(n=>{e.has(n)||r.push(new Yj(n))}),r}ba(e){this.Ta=e.Ts,this.da=ze();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Ul.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class a7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class o7{constructor(e){this.key=e,this.va=!1}}class s7{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new gc(s=>mj(s),Rg),this.Ma=new Map,this.xa=new Set,this.Oa=new Rt(Ee.comparator),this.Na=new Map,this.La=new G_,this.Ba={},this.ka=new Map,this.qa=Vl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function l7(t,e,r=!0){const n=nD(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await Jj(n,e,r,!0),i}async function c7(t,e){const r=nD(t);await Jj(r,e,!0,!1)}async function Jj(t,e,r,n){const i=await Cz(t.localStore,mi(e)),a=i.targetId,o=r?t.sharedClientState.addLocalQueryTarget(a):"not-current";let s;return n&&(s=await u7(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&Uj(t.remoteStore,i),s}async function u7(t,e,r,n,i){t.Ka=(f,h,p)=>async function(b,x,k,y){let g=x.view.ma(k);g.ns&&(g=await ZT(b.localStore,x.query,!1).then(({documents:E})=>x.view.ma(E,g)));const _=y&&y.targetChanges.get(x.targetId),T=y&&y.targetMismatches.get(x.targetId)!=null,I=x.view.applyChanges(g,b.isPrimaryClient,_,T);return sA(b,x.targetId,I.wa),I.snapshot}(t,f,h,p);const a=await ZT(t.localStore,e,!0),o=new i7(e,a.Ts),s=o.ma(a.documents),l=Td.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);sA(t,r,c.wa);const u=new a7(e,r,o);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function f7(t,e,r){const n=Me(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!Rg(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Fb(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Q_(n.remoteStore,i.targetId),Ub(n,i.targetId)}).catch(kd)):(Ub(n,i.targetId),await Fb(n.localStore,i.targetId,!0))}async function d7(t,e){const r=Me(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Q_(r.remoteStore,n.targetId))}async function h7(t,e,r){const n=x7(t);try{const i=await function(o,s){const l=Me(o),c=ct.now(),u=s.reduce((p,v)=>p.add(v.key),ze());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=ra(),b=ze();return l.cs.getEntries(p,u).next(x=>{v=x,v.forEach((k,y)=>{y.isValidDocument()||(b=b.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(x=>{f=x;const k=[];for(const y of s){const g=D8(y,f.get(y.key).overlayedDocument);g!=null&&k.push(new go(y.key,g,sj(g.value.mapValue),Pn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,k,s)}).next(x=>{h=x;const k=x.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(p,x.batchId,k)})}).then(()=>({batchId:h.batchId,changes:vj(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Rt(Je)),c=c.insert(s,l),o.Ba[o.currentUser.toKey()]=c}(n,i.batchId,r),await Pd(n,i.changes),await Vg(n.remoteStore)}catch(i){const a=r1(i,"Failed to persist write");r.reject(a)}}async function Zj(t,e){const r=Me(t);try{const n=await Pz(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?dt(o.va):i.removedDocuments.size>0&&(dt(o.va),o.va=!1))}),await Pd(r,n,e)}catch(n){await kd(n)}}function oA(t,e,r){const n=Me(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Me(o);l.onlineState=s;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.j_)h.Z_(s)&&(c=!0)}),c&&n1(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function p7(t,e,r){const n=Me(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new Rt(Ee.comparator);o=o.insert(a,Ar.newNoDocument(a,je.min()));const s=ze().add(a),l=new $g(je.min(),new Map,new Rt(Je),o,s);await Zj(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(e),i1(n)}else await Fb(n.localStore,e,!1).then(()=>Ub(n,e,r)).catch(kd)}async function m7(t,e){const r=Me(t),n=e.batch.batchId;try{const i=await Az(r.localStore,e);tD(r,n,null),eD(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Pd(r,i)}catch(i){await kd(i)}}async function g7(t,e,r){const n=Me(t);try{const i=await function(o,s){const l=Me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(f=>(dt(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);tD(n,e,r),eD(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Pd(n,i)}catch(i){await kd(i)}}function eD(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function tD(t,e,r){const n=Me(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Ub(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||rD(t,n)})}function rD(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Q_(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),i1(t))}function sA(t,e,r){for(const n of r)n instanceof Yj?(t.La.addReference(n.key,e),y7(t,n)):n instanceof Qj?(be("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||rD(t,n.key)):Ne()}function y7(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(be("SyncEngine","New document in limbo: "+r),t.xa.add(n),i1(t))}function i1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ee(_t.fromString(e)),n=t.qa.next();t.Na.set(n,new o7(r)),t.Oa=t.Oa.insert(r,n),Uj(t.remoteStore,new Va(mi(B_(r.path)),n,"TargetPurposeLimboResolution",M_.oe))}}async function Pd(t,e,r){const n=Me(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Y_.Wi(l.targetId,c);a.push(f)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,c){const u=Me(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ne.forEach(c,h=>ne.forEach(h.$i,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ne.forEach(h.Ui,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Ed(f))throw f;be("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.os.get(h),v=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(v);u.os=u.os.insert(h,b)}}}(n.localStore,a))}async function v7(t,e){const r=Me(t);if(!r.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const n=await $j(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new me(Z.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Pd(r,n.hs)}}function b7(t,e){const r=Me(t),n=r.Na.get(e);if(n&&n.va)return ze().add(n.key);{let i=ze();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function nD(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p7.bind(null,e),e.Ca.d_=r7.bind(null,e.eventManager),e.Ca.$a=n7.bind(null,e.eventManager),e}function x7(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g7.bind(null,e),e}class lA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Lg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Tz(this.persistence,new Ez,e.initialUser,this.serializer)}createPersistence(e){return new wz(X_.Zr,this.serializer)}createSharedClientState(e){return new Rz}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class w7{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>oA(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=v7.bind(null,this.syncEngine),await Zz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t7}()}createDatastore(e){const r=Lg(e.databaseInfo.databaseId),n=function(a){return new $z(a)}(e.databaseInfo);return function(a,o,s,l){return new Vz(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new Bz(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>oA(this.syncEngine,r,0),function(){return tA.D()?new tA:new jz}())}createSyncEngine(e,r){return function(i,a,o,s,l,c,u){const f=new s7(i,a,o,s,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Me(i);be("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ad(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,r,n,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Er.UNAUTHENTICATED,this.clientId=ij.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async a=>{be("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(be("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=r1(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Hv(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await $j(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cA(t,e){t.asyncQueue.verifyOperationInProgress();const r=await E7(t);be("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>rA(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>rA(e.remoteStore,i)),t._onlineComponents=e}function k7(t){return t.name==="FirebaseError"?t.code===Z.FAILED_PRECONDITION||t.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function E7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!k7(r))throw r;Ml("Error using user provided cache. Falling back to memory cache: "+r),await Hv(t,new lA)}}else be("FirestoreClient","Using default OfflineComponentProvider"),await Hv(t,new lA);return t._offlineComponents}async function aD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),await cA(t,t._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),await cA(t,new w7))),t._onlineComponents}function S7(t){return aD(t).then(e=>e.syncEngine)}async function oD(t){const e=await aD(t),r=e.eventManager;return r.onListen=l7.bind(null,e.syncEngine),r.onUnlisten=f7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=c7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=d7.bind(null,e.syncEngine),r}function T7(t,e,r={}){const n=new Wi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new iD({next:h=>{o.enqueueAndForget(()=>Gj(a,f));const p=h.docs.has(s);!p&&h.fromCache?c.reject(new me(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new me(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Xj(B_(s.path),u,{includeMetadataChanges:!0,_a:!0});return Kj(a,f)}(await oD(t),t.asyncQueue,e,r,n)),n.promise}function A7(t,e,r={}){const n=new Wi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new iD({next:h=>{o.enqueueAndForget(()=>Gj(a,f)),h.fromCache&&l.source==="server"?c.reject(new me(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Xj(s,u,{includeMetadataChanges:!0,_a:!0});return Kj(a,f)}(await oD(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t,e,r){if(!r)throw new me(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P7(t,e,r,n){if(e===!0&&n===!0)throw new me(Z.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function fA(t){if(!Ee.isDocumentKey(t))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dA(t){if(Ee.isDocumentKey(t))throw new me(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ug(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ug(t);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bg{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hA(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new q9;switch(n.type){case"firstParty":return new G9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=uA.get(r);n&&(be("ComponentProvider","Removing Datastore"),uA.delete(r),n.terminate())}(this),Promise.resolve()}}function I7(t,e,r,n={}){var i;const a=(t=Yn(t,Bg))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=Er.MOCK_USER;else{s=uR(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Er(c)}t._authCredentials=new W9(new nj(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ks(this.firestore,e,this._query)}}class zr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zr(this.firestore,e,this._key)}}class Za extends ks{constructor(e,r,n){super(e,r,B_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zr(this.firestore,null,new Ee(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function Nr(t,e,...r){if(t=Nt(t),lD("collection","path",e),t instanceof Bg){const n=_t.fromString(e,...r);return dA(n),new Za(t,null,n)}{if(!(t instanceof zr||t instanceof Za))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(_t.fromString(e,...r));return dA(n),new Za(t.firestore,null,n)}}function Pt(t,e,...r){if(t=Nt(t),arguments.length===1&&(e=ij.newId()),lD("doc","path",e),t instanceof Bg){const n=_t.fromString(e,...r);return fA(n),new zr(t,null,new Ee(n))}{if(!(t instanceof zr||t instanceof Za))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(_t.fromString(e,...r));return fA(n),new zr(t.firestore,t instanceof Za?t.converter:null,new Ee(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Fj(this,"async_queue_retry"),this.Eu=()=>{const r=Wv();r&&be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()};const e=Wv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const r=Wv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const r=new Wi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ed(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const r=this.au.then(()=>(this.Pu=!0,e().catch(n=>{this.hu=n,this.Pu=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw ta("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Pu=!1,n))));return this.au=r,r}enqueueAfterDelay(e,r,n){this.du(),this.Tu.indexOf(e)>-1&&(r=0);const i=t1.createAndSchedule(this,e,r,n,a=>this.Vu(a));return this.lu.push(i),i}du(){this.hu&&Ne()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const r of this.lu)if(r.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.lu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const r=this.lu.indexOf(e);this.lu.splice(r,1)}}class Es extends Bg{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=function(){return new O7}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||cD(this),this._firestoreClient.terminate()}}function C7(t,e){const r=typeof t=="object"?t:S_(),n=typeof t=="string"?t:"(default)",i=Pg(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=sR("firestore");a&&I7(i,...a)}return i}function a1(t){return t._firestoreClient||cD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cD(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,c,u){return new s8(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,sD(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new _7(t._authCredentials,t._appCheckCredentials,t._queue,a),!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(yr.fromBase64String(e))}catch(r){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Bl(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=/^__.*__$/;class R7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new go(e,this.data,this.fieldMask,r,this.fieldTransforms):new Sd(e,this.data,r,this.fieldTransforms)}}class uD{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new go(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function fD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class c1{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.yu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new c1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Su({path:n,Du:!1});return i.vu(e),i}Cu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Su({path:n,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return fm(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(fD(this.wu)&&N7.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class j7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Lg(e)}Nu(e,r,n,i=!1){return new c1({wu:e,methodName:r,Ou:n,path:hr.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qg(t){const e=t._freezeSettings(),r=Lg(t._databaseId);return new j7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function dD(t,e,r,n,i,a={}){const o=t.Nu(a.merge||a.mergeFields?2:0,e,r,i);u1("Data must be an object, but it was:",o,n);const s=hD(n,o);let l,c;if(a.merge)l=new cn(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const h=Bb(e,f,r);if(!o.contains(h))throw new me(Z.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);mD(u,h)||u.push(h)}l=new cn(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new R7(new Xr(s),l,c)}class Wg extends o1{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wg}}function D7(t,e,r,n){const i=t.Nu(1,e,r);u1("Data must be an object, but it was:",i,n);const a=[],o=Xr.empty();ws(n,(l,c)=>{const u=f1(e,l,r);c=Nt(c);const f=i.Cu(u);if(c instanceof Wg)a.push(u);else{const h=Id(c,f);h!=null&&(a.push(u),o.set(u,h))}});const s=new cn(a);return new uD(o,s,i.fieldTransforms)}function M7(t,e,r,n,i,a){const o=t.Nu(1,e,r),s=[Bb(e,n,r)],l=[i];if(a.length%2!=0)throw new me(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Bb(e,a[h])),l.push(a[h+1]);const c=[],u=Xr.empty();for(let h=s.length-1;h>=0;--h)if(!mD(c,s[h])){const p=s[h];let v=l[h];v=Nt(v);const b=o.Cu(p);if(v instanceof Wg)c.push(p);else{const x=Id(v,b);x!=null&&(c.push(p),u.set(p,x))}}const f=new cn(c);return new uD(u,f,o.fieldTransforms)}function $7(t,e,r,n=!1){return Id(r,t.Nu(n?4:3,e))}function Id(t,e){if(pD(t=Nt(t)))return u1("Unsupported field value:",e,t),hD(t,e);if(t instanceof o1)return function(n,i){if(!fD(i.wu))throw i.Mu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=Id(s,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Nt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return I8(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=ct.fromDate(n);return{timestampValue:cm(i.serializer,a)}}if(n instanceof ct){const a=new ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cm(i.serializer,a)}}if(n instanceof s1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Bl)return{bytesValue:Oj(i.serializer,n._byteString)};if(n instanceof zr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:K_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof l1)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Mu("VectorValues must only contain numeric values.");return z_(s.serializer,l)})}}}}}}(n,i);throw i.Mu(`Unsupported field value: ${Ug(n)}`)}(t,e)}function hD(t,e){const r={};return aj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,(n,i)=>{const a=Id(i,e.bu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function pD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof s1||t instanceof Bl||t instanceof zr||t instanceof o1||t instanceof l1)}function u1(t,e,r){if(!pD(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Ug(r);throw n==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+n)}}function Bb(t,e,r){if((e=Nt(e))instanceof zg)return e._internalPath;if(typeof e=="string")return f1(t,e);throw fm("Field path arguments must be of type string or ",t,!1,void 0,r)}const L7=new RegExp("[~\\*/\\[\\]]");function f1(t,e,r){if(e.search(L7)>=0)throw fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new zg(...e.split("."))._internalPath}catch{throw fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function fm(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new me(Z.INVALID_ARGUMENT,s+t+l)}function mD(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new zr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Hg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class F7 extends gD{data(){return super.data()}}function Hg(t,e){return typeof e=="string"?f1(t,e):e instanceof zg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d1{}class yD extends d1{}function h1(t,e,...r){let n=[];e instanceof d1&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof p1).length,s=a.filter(l=>l instanceof Kg).length;if(o>1||o>0&&s>0)throw new me(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Kg extends yD{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Kg(e,r,n)}_apply(e){const r=this._parse(e);return bD(e._query,r),new ks(e.firestore,e.converter,Rb(e._query,r))}_parse(e){const r=qg(e.firestore);return function(a,o,s,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new me(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){mA(f,u);const p=[];for(const v of f)p.push(pA(l,a,v));h={arrayValue:{values:p}}}else h=pA(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||mA(f,u),h=$7(s,o,f,u==="in"||u==="not-in");return Wt.create(c,u,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function U7(t,e,r){const n=e,i=Hg("where",t);return Kg._create(i,n,r)}class p1 extends d1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new p1(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Xn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)bD(o,l),o=Rb(o,l)}(e._query,r),new ks(e.firestore,e.converter,Rb(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class m1 extends yD{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new m1(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new me(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new me(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wf(a,o)}(e._query,this._field,this._direction);return new ks(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new mc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function vD(t,e="asc"){const r=e,n=Hg("orderBy",t);return m1._create(n,r)}function pA(t,e,r){if(typeof(r=Nt(r))=="string"){if(r==="")throw new me(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pj(e)&&r.indexOf("/")!==-1)throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(_t.fromString(r));if(!Ee.isDocumentKey(n))throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return MT(t,new Ee(n))}if(r instanceof zr)return MT(t,r._key);throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ug(r)}.`)}function mA(t,e){if(!Array.isArray(t)||t.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bD(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new me(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class B7{convertValue(e,r="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ws(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Vt(o.doubleValue));return new l1(a)}convertGeoPoint(e){return new s1(Vt(e.latitude),Vt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=L_(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(vf(e));default:return null}}convertTimestamp(e){const r=oo(e);return new ct(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=_t.fromString(e);dt(Mj(n));const i=new bf(n.get(1),n.get(3)),a=new Ee(n.popFirst(5));return i.isEqual(r)||ta(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wD extends gD{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Hg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class hp extends wD{data(e={}){return super.data(e)}}class z7{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new xu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new hp(this._firestore,this._userDataWriter,n.key,n,new xu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new hp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new xu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new hp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new xu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:q7(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function q7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){t=Yn(t,zr);const e=Yn(t.firestore,Es);return T7(a1(e),t._key).then(r=>W7(e,t,r))}class _D extends B7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,r)}}function Rn(t){t=Yn(t,ks);const e=Yn(t.firestore,Es),r=a1(e),n=new _D(e);return V7(t._query),A7(r,t._query).then(i=>new z7(e,n,t,i))}function kD(t,e,r){t=Yn(t,zr);const n=Yn(t.firestore,Es),i=xD(t.converter,e,r);return Gg(n,[dD(qg(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Pn.none())])}function yo(t,e,r,...n){t=Yn(t,zr);const i=Yn(t.firestore,Es),a=qg(i);let o;return o=typeof(e=Nt(e))=="string"||e instanceof zg?M7(a,"updateDoc",t._key,e,r,n):D7(a,"updateDoc",t._key,e),Gg(i,[o.toMutation(t._key,Pn.exists(!0))])}function Ef(t){return Gg(Yn(t.firestore,Es),[new q_(t._key,Pn.none())])}function g1(t,e){const r=Yn(t.firestore,Es),n=Pt(t),i=xD(t.converter,e);return Gg(r,[dD(qg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Pn.exists(!1))]).then(()=>n)}function Gg(t,e){return function(n,i){const a=new Wi;return n.asyncQueue.enqueueAndForget(async()=>h7(await S7(n),i,a)),a.promise}(a1(t),e)}function W7(t,e,r){const n=r.docs.get(e._key),i=new _D(t);return new wD(t,i,e._key,n,new xu(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){pc=i})(bs),ns(new io("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new Es(new H9(n.getProvider("auth-internal")),new Y9(n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bf(c.options.projectId,u)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),di(CT,"4.7.1",e),di(CT,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="firebasestorage.googleapis.com",SD="storageBucket",H7=2*60*1e3,K7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends wi{constructor(e,r,n=0){super(Kv(e),`Firebase Storage: ${r} (${Kv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($t||($t={}));function Kv(t){return"storage/"+t}function y1(){const t="An unknown error occurred, please check the error payload for server response.";return new Lt($t.UNKNOWN,t)}function G7(t){return new Lt($t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function X7(t){return new Lt($t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt($t.UNAUTHENTICATED,t)}function Q7(){return new Lt($t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function J7(t){return new Lt($t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Z7(){return new Lt($t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eq(){return new Lt($t.CANCELED,"User canceled the upload/download.")}function tq(t){return new Lt($t.INVALID_URL,"Invalid URL '"+t+"'.")}function rq(t){return new Lt($t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nq(){return new Lt($t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SD+"' property when initializing the app?")}function iq(){return new Lt($t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aq(){return new Lt($t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oq(t){return new Lt($t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zb(t){return new Lt($t.INVALID_ARGUMENT,t)}function TD(){return new Lt($t.APP_DELETED,"The Firebase app was deleted.")}function sq(t){return new Lt($t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fu(t,e){return new Lt($t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Zc(t){throw new Lt($t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=$r.makeFromUrl(e,r)}catch{return new $r(e,"")}if(n.path==="")return n;throw rq(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(_){_.path_=decodeURIComponent(_.path)}const u="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},b=r===ED?"(?:storage.googleapis.com|storage.cloud.google.com)":r,x="([^?#]*)",k=new RegExp(`^https?://${b}/${i}/${x}`,"i"),g=[{regex:s,indices:l,postModify:a},{regex:p,indices:v,postModify:c},{regex:k,indices:{bucket:1,path:2},postModify:c}];for(let _=0;_<g.length;_++){const T=g[_],I=T.regex.exec(e);if(I){const E=I[T.indices.bucket];let S=I[T.indices.path];S||(S=""),n=new $r(E,S),T.postModify(n);break}}if(n==null)throw tq(e);return n}}class lq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function h(){a&&clearTimeout(a)}function p(x,...k){if(c){h();return}if(x){h(),u.call(null,x,...k);return}if(l()||o){h(),u.call(null,x,...k);return}n<64&&(n*=2);let g;s===1?(s=2,g=0):g=(n+Math.random())*1e3,f(g)}let v=!1;function b(x){v||(v=!0,h(),!c&&(i!==null?(x||(s=2),clearTimeout(i),f(0)):x||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,b(!0)},r),b}function uq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t){return t!==void 0}function dq(t){return typeof t=="object"&&!Array.isArray(t)}function v1(t){return typeof t=="string"||t instanceof String}function gA(t){return b1()&&t instanceof Blob}function b1(){return typeof Blob<"u"}function qb(t,e,r,n){if(n<e)throw zb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw zb(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function AD(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xo||(Xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e,r,n,i,a,o,s,l,c,u,f,h=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Ah(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===Xo.NO_ERROR,l=a.getStatus();if(!s||hq(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===Xo.ABORT;n(!1,new Ah(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new Ah(c,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());fq(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=y1();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?TD():eq();o(l)}else{const l=Z7();o(l)}};this.canceled_?r(!1,new Ah(!1,null,!0)):this.backoffId_=cq(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ah{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function mq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bq(t,e,r,n,i,a,o=!0){const s=AD(t.urlParams),l=t.url+s,c=Object.assign({},t.headers);return yq(c,e),mq(c,r),gq(c,a),vq(c,n),new pq(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wq(...t){const e=xq();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(b1())return new Blob(t);throw new Lt($t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _q(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(t){if(typeof atob>"u")throw oq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gv{constructor(e,r){this.data=e,this.contentType=r||null}}function Eq(t,e){switch(t){case li.RAW:return new Gv(PD(e));case li.BASE64:case li.BASE64URL:return new Gv(ID(t,e));case li.DATA_URL:return new Gv(Tq(e),Aq(e))}throw y1()}function PD(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Sq(t){let e;try{e=decodeURIComponent(t)}catch{throw Fu(li.DATA_URL,"Malformed data URL.")}return PD(e)}function ID(t,e){switch(t){case li.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Fu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case li.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Fu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=kq(e)}catch(i){throw i.message.includes("polyfill")?i:Fu(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class OD{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Fu(li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Pq(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Tq(t){const e=new OD(t);return e.base64?ID(li.BASE64,e.rest):Sq(e.rest)}function Aq(t){return new OD(t).contentType}function Pq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,r){let n=0,i="";gA(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(gA(this.data_)){const n=this.data_,i=_q(n,e,r);return i===null?null:new ja(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new ja(n,!0)}}static getBlob(...e){if(b1()){const r=e.map(n=>n instanceof ja?n.data_:n);return new ja(wq.apply(null,r))}else{const r=e.map(o=>v1(o)?Eq(li.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new ja(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){let e;try{e=JSON.parse(t)}catch{return null}return dq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Oq(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function CD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(t,e){return e}class Rr{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Cq}}let Ph=null;function Nq(t){return!v1(t)||t.length<2?t:CD(t)}function ND(){if(Ph)return Ph;const t=[];t.push(new Rr("bucket")),t.push(new Rr("generation")),t.push(new Rr("metageneration")),t.push(new Rr("name","fullPath",!0));function e(a,o){return Nq(o)}const r=new Rr("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new Rr("size");return i.xform=n,t.push(i),t.push(new Rr("timeCreated")),t.push(new Rr("updated")),t.push(new Rr("md5Hash",null,!0)),t.push(new Rr("cacheControl",null,!0)),t.push(new Rr("contentDisposition",null,!0)),t.push(new Rr("contentEncoding",null,!0)),t.push(new Rr("contentLanguage",null,!0)),t.push(new Rr("contentType",null,!0)),t.push(new Rr("metadata","customMetadata",!0)),Ph=t,Ph}function Rq(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new $r(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function jq(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return Rq(n,t),n}function RD(t,e,r){const n=x1(e);return n===null?null:jq(t,n,r)}function Dq(t,e,r,n){const i=x1(e);if(i===null||!v1(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+o(u)+"/o/"+o(f),p=Xg(h,r,n),v=AD({alt:"media",token:c});return p+v})[0]}function Mq(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="prefixes",vA="items";function $q(t,e,r){const n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[yA])for(const i of r[yA]){const a=i.replace(/\/$/,""),o=t._makeStorageReference(new $r(e,a));n.prefixes.push(o)}if(r[vA])for(const i of r[vA]){const a=t._makeStorageReference(new $r(e,i.name));n.items.push(a)}return n}function Lq(t,e,r){const n=x1(r);return n===null?null:$q(t,e,n)}class w1{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t){if(!t)throw y1()}function Fq(t,e){function r(n,i){const a=RD(t,i,e);return _1(a!==null),a}return r}function Vq(t,e){function r(n,i){const a=Lq(t,e,i);return _1(a!==null),a}return r}function Uq(t,e){function r(n,i){const a=RD(t,i,e);return _1(a!==null),Dq(a,i,t.host,t._protocol)}return r}function k1(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Q7():i=Y7():r.getStatus()===402?i=X7(t.bucket):r.getStatus()===403?i=J7(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Bq(t){const e=k1(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=G7(t.path)),a.serverResponse=i.serverResponse,a}return r}function zq(t,e,r,n,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",r.length>0&&(a.delimiter=r),n&&(a.pageToken=n),i&&(a.maxResults=i);const o=e.bucketOnlyServerUrl(),s=Xg(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,u=new w1(s,l,Vq(t,e.bucket),c);return u.urlParams=a,u.errorHandler=k1(e),u}function qq(t,e,r){const n=e.fullServerUrl(),i=Xg(n,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new w1(i,a,Uq(t,r),o);return s.errorHandler=Bq(e),s}function Wq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Hq(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Wq(null,e)),n}function Kq(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let g="";for(let _=0;_<2;_++)g=g+Math.random().toString().slice(2);return g}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const c=Hq(e,n,i),u=Mq(c,r),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=ja.getBlob(f,n,h);if(p===null)throw iq();const v={name:c.fullPath},b=Xg(a,t.host,t._protocol),x="POST",k=t.maxUploadRetryTime,y=new w1(b,x,Fq(t,r),k);return y.urlParams=v,y.headers=o,y.body=p.uploadData(),y.errorHandler=k1(e),y}class Gq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Zc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Xq extends Gq{initXhr(){this.xhr_.responseType="text"}}function E1(){return new Xq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,r){this._service=e,r instanceof $r?this._location=r:this._location=$r.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new cs(e,r)}get root(){const e=new $r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CD(this._location.path)}get storage(){return this._service}get parent(){const e=Iq(this._location.path);if(e===null)return null;const r=new $r(this._location.bucket,e);return new cs(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw sq(e)}}function Yq(t,e,r){t._throwIfRoot("uploadBytes");const n=Kq(t.storage,t._location,ND(),new ja(e,!0),r);return t.storage.makeRequestWithTokens(n,E1).then(i=>({metadata:i,ref:t}))}function Qq(t){const e={prefixes:[],items:[]};return jD(t,e).then(()=>e)}async function jD(t,e,r){const i=await Jq(t,{pageToken:r});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await jD(t,e,i.nextPageToken)}function Jq(t,e){e!=null&&typeof e.maxResults=="number"&&qb("options.maxResults",1,1e3,e.maxResults);const r=e||{},n=zq(t.storage,t._location,"/",r.pageToken,r.maxResults);return t.storage.makeRequestWithTokens(n,E1)}function Zq(t){t._throwIfRoot("getDownloadURL");const e=qq(t.storage,t._location,ND());return t.storage.makeRequestWithTokens(e,E1).then(r=>{if(r===null)throw aq();return r})}function eW(t,e){const r=Oq(t._location.path,e),n=new $r(t._location.bucket,r);return new cs(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(t){return/^[A-Za-z]+:\/\//.test(t)}function rW(t,e){return new cs(t,e)}function DD(t,e){if(t instanceof S1){const r=t;if(r._bucket==null)throw nq();const n=new cs(r,r._bucket);return e!=null?DD(n,e):n}else return e!==void 0?eW(t,e):t}function nW(t,e){if(e&&tW(e)){if(t instanceof S1)return rW(t,e);throw zb("To use ref(service, url), the first argument must be a Storage instance.")}else return DD(t,e)}function bA(t,e){const r=e==null?void 0:e[SD];return r==null?null:$r.makeFromBucketSpec(r,t)}function iW(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:uR(i,t.app.options.projectId))}class S1{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=ED,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=H7,this._maxUploadRetryTime=K7,this._requests=new Set,i!=null?this._bucket=$r.makeFromBucketSpec(i,this._host):this._bucket=bA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$r.makeFromBucketSpec(this._url,e):this._bucket=bA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cs(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new lq(TD());{const o=bq(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const xA="@firebase/storage",wA="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="storage";function $D(t,e,r){return t=Nt(t),Yq(t,e,r)}function aW(t){return t=Nt(t),Qq(t)}function Yg(t){return t=Nt(t),Zq(t)}function Qg(t,e){return t=Nt(t),nW(t,e)}function oW(t=S_(),e){t=Nt(t);const n=Pg(t,MD).getImmediate({identifier:e}),i=sR("storage");return i&&sW(n,...i),n}function sW(t,e,r,n={}){iW(t,e,r,n)}function lW(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new S1(r,n,i,e,bs)}function cW(){ns(new io(MD,lW,"PUBLIC").setMultipleInstances(!0)),di(xA,wA,""),di(xA,wA,"esm2017")}cW();const uW={apiKey:"AIzaSyAoA9vGq5gsjRVqngQcfX9wDHv03MFX8Mo",authDomain:"habit-piggy-project.firebaseapp.com",projectId:"habit-piggy-project",storageBucket:"habit-piggy-project.appspot.com",messagingSenderId:"230345565651",appId:"1:230345565651:web:4f5fae0a011a8a355cbb26",measurementId:"G-D5V6H13VEM"},LD=hR(uW),rt=C7(LD),Jg=oW(LD),FD=im();async function fW(t,e,r,n){try{const a=(await TB(FD,t,e)).user;console.log("User created: ",a);const o=await Hb("Piggy.png"),s=Pt(rt,"users",a.uid);await kD(s,{uid:a.uid,email:a.email,account:r,name:n,introduction:"我要養成好習慣！",avatar:o,createdTime:ct.now(),levelPoints:0,isAcceptReminder:!1,isDarkMode:!1,achievements:[],badges:[]}),console.log("User data created with ID: ",a.uid),Nr(s,"habits"),console.log("Empty habits sub-collection created for user ID: ",a.uid)}catch(i){console.error("Error creating user: ",i.code,i.message)}}async function dW(t){try{const e=Nr(rt,"users"),r=h1(e,U7("account","==",t)),n=await Rn(r);if(n.empty)throw new Error("No user found with this account");return n.docs[0].data().email}catch(e){throw console.error("Error getting email by account: ",e.code,e.message),e}}async function VD(){try{await OB(FD),console.log("User signed out")}catch(t){console.error("Error signing out: ",t.code,t.message)}}async function T1(t,e){try{const r=Pt(rt,"users",t);if(e.avatarFile){const n=e.avatarFile,i=Qg(Jg,`avatars/${t}`),a=await $D(i,n),o=await Yg(a.ref);e.avatar=o,delete e.avatarFile}await kD(r,e,{merge:!0}),console.log("User profile updated with ID: ",t)}catch(r){console.error("Error updating user profile: ",r.code,r.message)}}async function ii(t){try{const e=Pt(rt,"users",t),r=await ca(e);return r.exists()?r.data():(console.log("No such document!"),{name:"Unknown",levelPoints:0,avatar:await Hb("Piggy.png")})}catch(e){return console.error("Error getting user profile: ",e.code,e.message),{name:"Unknown",levelPoints:0,avatar:await Hb("Piggy.png")}}}async function _A(){try{const t=Nr(rt,"users");return(await Rn(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting users: ",t.code,t.message),[]}}async function hW(t,e){try{const r=Pt(rt,"users",t),n=Nr(r,"habits");await g1(n,{...e,createdTime:ct.now(),updatedTime:ct.now()}),console.log("Habit added for user ID: ",t)}catch(r){console.error("Error adding habit: ",r.code,r.message)}}async function us(t){try{const e=Pt(rt,"users",t),r=Nr(e,"habits"),n=h1(r,vD("updatedTime","desc"));return(await Rn(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error getting habits: ",e.code,e.message),[]}}async function Wb(t,e,r){try{const n=Pt(rt,"users",t,"habits",e);await yo(n,{...r,updatedTime:ct.now()})}catch(n){console.error("Error updating habit: ",n.code,n.message)}}async function UD(t,e){try{const r=Pt(rt,"users",t,"habits",e);await Ef(r),console.log("Habit deleted with ID: ",e)}catch(r){console.error("Error deleting habit: ",r.code,r.message)}}async function pW(t,e){try{const r=Nr(rt,"posts"),n=await g1(r,{...e,userID:t,createdTime:ct.now(),updatedTime:ct.now()});return console.log("Post added with ID: ",n.id),n.id}catch(r){console.error("Error adding post: ",r.code,r.message)}}async function mW(t,e){try{const r=Pt(rt,"posts",t);await yo(r,{...e,updatedTime:ct.now()}),console.log("Post updated with ID: ",t)}catch(r){console.error("Error updating post: ",r.code,r.message)}}async function gW(t){try{const e=Pt(rt,"posts",t),r=Nr(e,"comments"),i=(await Rn(r)).docs.map(a=>Ef(a.ref));await Promise.all(i),await Ef(e),console.log("Post and its comments deleted with ID: ",t)}catch(e){console.error("Error deleting post and its comments: ",e.code,e.message)}}async function Ih(){try{const t=Nr(rt,"posts"),e=h1(t,vD("createdTime","desc"));return(await Rn(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Error getting posts: ",t.code,t.message),[]}}async function BD(t,e){try{const r=Qg(Jg,`avatars/${t}`),n=await $D(r,e),i=await Yg(n.ref);return console.log("Avatar uploaded: ",i),i}catch(r){return console.error("Error uploading avatar: ",r.code,r.message),null}}async function Hb(t){try{const e=Qg(Jg,`default_avatars/${t}`),r=await Yg(e);return console.log("Default avatar URL: ",r),r}catch(e){return console.error("Error getting default avatar: ",e.code,e.message),"https://firebasestorage.googleapis.com/v0/b/habit-piggy-project.appspot.com/o/avatars%2FPiggy.png?alt=media&token=be62eb4e-44a3-46c5-ba6d-bba575da75a8"}}async function yW(t,e){try{const r=Pt(rt,"posts",t),n=Nr(r,"comments");await g1(n,{...e,createdTime:ct.now()}),console.log("Comment added to post ID: ",t)}catch(r){console.error("Error adding comment: ",r.code,r.message)}}async function Fs(t){try{const e=Pt(rt,"posts",t),r=Nr(e,"comments");return(await Rn(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){return console.error("Error getting comments: ",e.code,e.message),[]}}async function vW(t,e,r){try{const n=Pt(rt,"posts",t,"comments",e);await yo(n,{...r,updatedTime:ct.now()}),console.log("Comment updated with ID: ",e)}catch(n){console.error("Error updating comment: ",n.code,n.message)}}async function bW(t,e){try{const r=Pt(rt,"posts",t,"comments",e);await Ef(r),console.log("Comment deleted with ID: ",e)}catch(r){console.error("Error deleting comment: ",r.code,r.message)}}async function zD(){try{const t=Qg(Jg,"post_backgrounds"),r=(await aW(t)).items.map(i=>Yg(i));return await Promise.all(r)}catch(t){return console.error("Error getting post backgrounds: ",t.code,t.message),[]}}async function xW(t,e){try{const r=Pt(rt,"posts",t),n=await ca(r);if(n.exists()){const a=n.data().likes||[];a.includes(e)||(a.push(e),await yo(r,{likes:a}),console.log("Like added to post ID: ",t))}}catch(r){console.error("Error adding like: ",r.code,r.message)}}async function wW(t,e){try{const r=Pt(rt,"posts",t),n=await ca(r);if(n.exists()){const a=n.data().likes||[],o=a.indexOf(e);if(o>-1){a.splice(o,1),await yo(r,{likes:a}),console.log("Like removed from post ID: ",t);const s=Pt(rt,"posts",t,"likes",e);await Ef(s),console.log("Like document removed for user ID: ",e)}}}catch(r){console.error("Error removing like: ",r.code,r.message)}}async function _W(){try{return(await Rn(Nr(rt,"achievements"))).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting achievements: ",t.code,t.message),[]}}async function kW(t){try{const e=Pt(rt,"users",t),r=await ca(e);return r.exists()?r.data().achievements||[]:(console.log("No such document!"),[])}catch(e){return console.error("Error getting user achievements: ",e.code,e.message),[]}}async function pp(t,e){try{const r=Pt(rt,"users",t),i=(await ca(r)).data(),a=Nr(r,"habits"),s=(await Rn(a)).docs.map(f=>({id:f.id,...f.data()}));let l=0;const c=new Date,u=new Date(c.getFullYear(),c.getMonth(),c.getDate());switch(e){case"habit":l=s.reduce((f,h)=>{const p=h.status.filter(v=>v.completed&&new Date(v.date)<u).length;return f+p},0);break;case"savings":l=s.reduce((f,h)=>{const p=h.status.filter(v=>!v.completed&&new Date(v.date)<u).length;return f+h.amount*p},0);break;case"level":l=Math.floor(i.levelPoints/100);break;default:throw new Error("Invalid task type")}return l}catch(r){return console.error("Error calculating task value: ",r.code,r.message),0}}async function mp(t,e,r){try{const n=await Rn(Nr(rt,"achievements")),i=Pt(rt,"users",t),a=await ca(i),o=a.exists()?a.data().achievements||[]:[];n.forEach(async s=>{const l=s.data(),c=l.condition;c.type===e&&r>=c.amount&&(o.includes(s.id)||(o.push(s.id),await yo(i,{achievements:o}),console.log(`Achievement ${l.name} awarded to user ${t}`)))})}catch(n){console.error("Error checking and awarding achievements: ",n.code,n.message)}}async function EW(){try{const t=Nr(rt,"badges");return(await Rn(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting badges: ",t.code,t.message),[]}}async function SW(t){try{const e=Pt(rt,"users",t),r=await ca(e);return r.exists()?r.data().badges||[]:(console.log("No such document!"),[])}catch(e){return console.error("Error getting user badges: ",e.code,e.message),[]}}async function kl(t){try{const e=Pt(rt,"users",t),r=Nr(e,"habits");return(await Rn(r)).docs.map(o=>({id:o.id,...o.data()})).reduce((o,s)=>{const l=s.category;return o[l]||(o[l]=0),o[l]++,o},{})}catch(e){return console.error("Error calculating badges: ",e.code,e.message),{}}}async function Vu(t){try{const e=await Rn(Nr(rt,"badges")),r=Pt(rt,"users",t),n=await ca(r),i=n.exists()?n.data().badges||[]:[],a=await kl(t);e.forEach(async o=>{const s=o.data(),l=s.condition;let c=!1;a[l.category]&&a[l.category]>=l.times&&(c=!0),c&&!i.includes(o.id)&&(i.push(o.id),await yo(r,{badges:i}),console.log(`Badge ${s.description} awarded to user ID: ${t}`))})}catch(e){console.error("Error checking and awarding badges: ",e.code,e.message)}}async function qD(t,e){try{const r=Pt(rt,"users",t),n=await ca(r);if(n.exists()){const a=n.data().badges.filter(o=>o.category!==e);await yo(r,{badges:a}),console.log(`Badge for category ${e} removed for user ID: ${t}`)}}catch(r){console.error("Error removing badge: ",r.code,r.message)}}var WD={exports:{}},TW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AW=TW,PW=AW;function HD(){}function KD(){}KD.resetWarningCache=HD;var IW=function(){function t(n,i,a,o,s,l){if(l!==PW){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:KD,resetWarningCache:HD};return r.PropTypes=r,r};WD.exports=IW();var OW=WD.exports;const H=at(OW),Qn=D.createContext(),GD=({children:t})=>{const[e,r]=D.useState(null),[n,i]=D.useState(!1),[a,o]=D.useState(!0),s=im();return D.useEffect(()=>{const l=IB(s,async c=>{if(c){const u=await ii(c.uid);r({...c,...u}),i(u.isDarkMode||!1)}else r(null),i(!1);o(!1)});return()=>l()},[s]),D.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]),m.jsx(Qn.Provider,{value:{user:e,setUser:r,isDarkMode:n,setIsDarkMode:i,loading:a},children:t})};GD.propTypes={children:H.node};var XD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kA=$.createContext&&$.createContext(XD),CW=["attr","size","title"];function NW(t,e){if(t==null)return{};var r=RW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(this,arguments)}function EA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(r),!0).forEach(function(n){jW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jW(t,e,r){return e=DW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DW(t){var e=MW(t,"string");return typeof e=="symbol"?e:e+""}function MW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YD(t){return t&&t.map((e,r)=>$.createElement(e.tag,hm({key:r},e.attr),YD(e.child)))}function We(t){return e=>$.createElement($W,dm({attr:hm({},t.attr)},e),YD(t.child))}function $W(t){var e=r=>{var{attr:n,size:i,title:a}=t,o=NW(t,CW),s=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),$.createElement("svg",dm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:hm(hm({color:t.color||r.color},r.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&$.createElement("title",null,a),t.children)};return kA!==void 0?$.createElement(kA.Consumer,null,r=>e(r)):e(XD)}function LW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(t)}function FW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -15 8.66l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 2.66a1 1 0 0 0 -1 1a3 3 0 1 0 0 6v2a1.024 1.024 0 0 1 -.866 -.398l-.068 -.101a1 1 0 0 0 -1.732 .998a3 3 0 0 0 2.505 1.5h.161a1 1 0 0 0 .883 .994l.117 .007a1 1 0 0 0 1 -1l.176 -.005a3 3 0 0 0 -.176 -5.995v-2c.358 -.012 .671 .14 .866 .398l.068 .101a1 1 0 0 0 1.732 -.998a3 3 0 0 0 -2.505 -1.501h-.161a1 1 0 0 0 -1 -1zm1 7a1 1 0 0 1 0 2v-2zm-2 -4v2a1 1 0 0 1 0 -2z"},child:[]}]})(t)}function VW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z"},child:[]}]})(t)}function UW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 8v4"},child:[]},{tag:"path",attr:{d:"M12 16h.01"},child:[]}]})(t)}function BW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6l0 13"},child:[]},{tag:"path",attr:{d:"M12 6l0 13"},child:[]},{tag:"path",attr:{d:"M21 6l0 13"},child:[]}]})(t)}function zW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11h16a1 1 0 0 1 1 1v.5c0 1.5 -2.517 5.573 -4 6.5v1a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-1c-1.687 -1.054 -4 -5 -4 -6.5v-.5a1 1 0 0 1 1 -1z"},child:[]},{tag:"path",attr:{d:"M19 7l-14 1"},child:[]},{tag:"path",attr:{d:"M19 2l-14 3"},child:[]}]})(t)}function qW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12zm12 -4v4m-8 -4v4m-4 4h16m-9.995 3h.01m3.99 0h.01"},child:[]},{tag:"path",attr:{d:"M10.005 17a3.5 3.5 0 0 0 4 0"},child:[]}]})(t)}function WW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"},child:[]}]})(t)}function HW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l5 5l10 -10"},child:[]}]})(t)}function KW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 9l6 6l6 -6"},child:[]}]})(t)}function GW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 6l-6 6l6 6"},child:[]}]})(t)}function XW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 6l6 6l-6 6"},child:[]}]})(t)}function YW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 12l2 2l4 -4"},child:[]}]})(t)}function QD(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1"},child:[]},{tag:"path",attr:{d:"M12 7v10"},child:[]}]})(t)}function QW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function JW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 11v-3.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M11 9.5v-3a1.5 1.5 0 0 1 3 0v3.5"},child:[]},{tag:"path",attr:{d:"M14 7.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M17 9.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"},child:[]}]})(t)}function ZW(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"},child:[]}]})(t)}function eH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l-2 0l9 -9l9 9l-2 0"},child:[]},{tag:"path",attr:{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"},child:[]},{tag:"path",attr:{d:"M10 12h4v4h-4z"},child:[]}]})(t)}function tH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 9h.01"},child:[]},{tag:"path",attr:{d:"M11 12h1v4h1"},child:[]}]})(t)}function rH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 4l0 16"},child:[]}]})(t)}function nH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M9 12h12l-3 -3"},child:[]},{tag:"path",attr:{d:"M18 15l3 -3"},child:[]}]})(t)}function iH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 3h6l3 7l-6 2l-6 -2z"},child:[]},{tag:"path",attr:{d:"M12 12l-3 -9"},child:[]},{tag:"path",attr:{d:"M15 11l-3 -8"},child:[]},{tag:"path",attr:{d:"M12 19.5l-3 1.5l.5 -3.5l-2 -2l3 -.5l1.5 -3l1.5 3l3 .5l-2 2l.5 3.5z"},child:[]}]})(t)}function aH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]},{tag:"path",attr:{d:"M9.5 9h.01"},child:[]},{tag:"path",attr:{d:"M14.5 9h.01"},child:[]},{tag:"path",attr:{d:"M9.5 13a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function oH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9h8"},child:[]},{tag:"path",attr:{d:"M8 13h6"},child:[]},{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]}]})(t)}function sH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(t)}function lH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12a9 9 0 1 0 -8.012 8.946"},child:[]},{tag:"path",attr:{d:"M9 10h.01"},child:[]},{tag:"path",attr:{d:"M15 10h.01"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.59 3.59 0 0 0 2.774 .99"},child:[]},{tag:"path",attr:{d:"M18.994 21.5l2.518 -2.58a1.74 1.74 0 0 0 .004 -2.413a1.627 1.627 0 0 0 -2.346 -.005l-.168 .172l-.168 -.172a1.627 1.627 0 0 0 -2.346 -.004a1.74 1.74 0 0 0 -.004 2.412l2.51 2.59z"},child:[]}]})(t)}function cH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 10l.01 0"},child:[]},{tag:"path",attr:{d:"M15 10l.01 0"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function uH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 8h.01"},child:[]},{tag:"path",attr:{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"},child:[]},{tag:"path",attr:{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"},child:[]},{tag:"path",attr:{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"},child:[]}]})(t)}function fH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 15h10v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2v-4z"},child:[]},{tag:"path",attr:{d:"M12 9a6 6 0 0 0 -6 -6h-3v2a6 6 0 0 0 6 6h3"},child:[]},{tag:"path",attr:{d:"M12 11a6 6 0 0 1 6 -6h3v1a6 6 0 0 1 -6 6h-3"},child:[]},{tag:"path",attr:{d:"M12 15l0 -6"},child:[]}]})(t)}function dH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(t)}function hH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"},child:[]},{tag:"path",attr:{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"},child:[]},{tag:"path",attr:{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function pH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4.698 4.034l16.302 7.966l-16.302 7.966a.503 .503 0 0 1 -.546 -.124a.555 .555 0 0 1 -.12 -.568l2.468 -7.274l-2.468 -7.274a.555 .555 0 0 1 .12 -.568a.503 .503 0 0 1 .546 -.124z"},child:[]},{tag:"path",attr:{d:"M6.5 12h14.5"},child:[]}]})(t)}function mH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(t)}function gH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M7 21l3 -4"},child:[]},{tag:"path",attr:{d:"M16 21l-2 -4l-3 -3l1 -6"},child:[]},{tag:"path",attr:{d:"M6 12l2 -3l4 -1l3 3l3 1"},child:[]}]})(t)}function yH(t){return We({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6l-12 12"},child:[]},{tag:"path",attr:{d:"M6 6l12 12"},child:[]}]})(t)}const eu={TbHome2:eH,TbCoin:QD,TbMedal2:iH,TbMessage:oH,TbMoodSmile:cH},Sr={TbRocket:hH,TbBook:BW,TbWalk:gH,TbBowlChopsticks:zW,TbMoodHeart:lH,TbHandGrab:JW,TbCash:WW,TbPlant:fH},Sf={TbCheck:HW},pm={TbChevronLeft:GW,TbChevronRight:XW},vH={TbCalendarSmile:qW},Kb={TbPlus:dH,TbMinus:sH},kt={TbX:yH,TbInfoCircle:tH,TbAlertCircle:UW},bH={TbChevronDown:KW},wu={TbHeart:ZW,TbHeartFilled:VW,TbMessageChatbot:aH,TbDots:QW,TbSend2:pH},Vs={TbCircleCheck:YW,TbCircleCheckFilled:LW,TbCoin:QD,TbCoinFilled:FW},JD={TbSettings:mH,TbPhoto:uH},SA={TbLogout:nH,TbLayoutSidebarRight:rH},El="/assets/habit-piggy-loading-1-B5_9kssG.svg",ZD="data:image/svg+xml,%3csvg%20width='400'%20height='400'%20viewBox='0%200%20400%20400'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_621_231)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M71.3763%20235.358C60.4405%20237.822%2050.0101%20240.148%2039.1823%20243.038C34.0177%20244.417%2028.3404%20246.414%2023.2452%20248.048C28.0237%20252.579%2031.2249%20254.302%2035.9444%20258.874C35.9464%20258.875%2025.2946%20268.037%2017.9071%20274.836C31.5676%20273.098%2048.0961%20264.815%2056.949%20259.742C53.5028%20256.663%2049.934%20253.573%2046.2392%20250.794C54.5474%20245.55%2063.0089%20240.496%2071.3763%20235.358Z'%20fill='%23FFDE6A'%20stroke='%23FFDE6A'%20stroke-width='3.94849'%20stroke-miterlimit='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M323.975%2087.699C329.923%2086.1051%20335.366%2091.5484%20333.772%2097.497L321.22%20144.342C319.627%20150.29%20312.191%20152.283%20307.836%20147.928L273.543%20113.635C269.189%20109.281%20271.181%20101.845%20277.13%20100.251L323.975%2087.699Z'%20fill='%23FFC700'/%3e%3cpath%20d='M240.41%20320.176C238.827%20315.772%20241.347%20310.955%20245.868%20309.744L267.709%20303.892C272.23%20302.68%20276.82%20305.592%20277.652%20310.197L283.358%20341.797C284.098%20345.892%20281.575%20349.869%20277.556%20350.946L260.867%20355.418C256.848%20356.495%20252.675%20354.311%20251.268%20350.396L240.41%20320.176Z'%20fill='%23FFC700'/%3e%3cpath%20d='M201.348%20310.197C202.18%20305.592%20206.77%20302.68%20211.291%20303.892L233.132%20309.744C237.653%20310.955%20240.173%20315.772%20238.59%20320.176L227.732%20350.396C226.325%20354.311%20222.152%20356.495%20218.133%20355.418L201.444%20350.946C197.425%20349.869%20194.902%20345.892%20195.642%20341.797L201.348%20310.197Z'%20fill='%23FFC700'/%3e%3ccircle%20cx='191'%20cy='206'%20r='140'%20fill='%23FFDE6A'/%3e%3cpath%20d='M246.5%20182.125C246.5%20193.554%20237.956%20202.75%20227.5%20202.75C217.044%20202.75%20208.5%20193.554%20208.5%20182.125C208.5%20170.696%20217.044%20161.5%20227.5%20161.5C237.956%20161.5%20246.5%20170.696%20246.5%20182.125Z'%20fill='%23F6F6F6'%20stroke='%23454545'/%3e%3cellipse%20cx='232.375'%20cy='182.125'%20rx='14.625'%20ry='16.25'%20fill='%23454545'/%3e%3cpath%20d='M325.5%20182.125C325.5%20193.554%20316.956%20202.75%20306.5%20202.75C296.043%20202.75%20287.5%20193.554%20287.5%20182.125C287.5%20170.696%20296.043%20161.5%20306.5%20161.5C316.956%20161.5%20325.5%20170.696%20325.5%20182.125Z'%20fill='%23F6F6F6'%20stroke='%23454545'/%3e%3cellipse%20cx='311.375'%20cy='182.125'%20rx='14.625'%20ry='16.25'%20fill='%23454545'/%3e%3cpath%20d='M106.348%20310.197C107.18%20305.592%20111.77%20302.68%20116.291%20303.892L138.132%20309.744C142.653%20310.955%20145.173%20315.772%20143.59%20320.176L132.732%20350.396C131.325%20354.311%20127.152%20356.495%20123.133%20355.418L106.444%20350.946C102.425%20349.869%2099.9021%20345.892%20100.641%20341.797L106.348%20310.197Z'%20fill='%23FFC700'/%3e%3cpath%20d='M145.41%20320.176C143.827%20315.772%20146.347%20310.955%20150.868%20309.744L172.709%20303.892C177.23%20302.68%20181.82%20305.592%20182.652%20310.197L188.358%20341.797C189.098%20345.892%20186.575%20349.869%20182.556%20350.946L165.867%20355.418C161.848%20356.495%20157.675%20354.311%20156.268%20350.396L145.41%20320.176Z'%20fill='%23FFC700'/%3e%3cpath%20d='M135.527%20100.443C133.934%2094.4946%20139.377%2089.0513%20145.325%2090.6452L198.862%20104.99C204.811%20106.584%20206.803%20114.02%20202.449%20118.375L163.257%20157.566C158.902%20161.921%20151.467%20159.929%20149.873%20153.98L135.527%20100.443Z'%20fill='%23FFC700'/%3e%3cellipse%20cx='234.471'%20cy='267.604'%20rx='12'%20ry='16'%20transform='rotate(45%20234.471%20267.604)'%20fill='%23E17F63'/%3e%3cpath%20d='M254%20259.132C254%20266.588%20251.127%20271.132%20244.5%20271.132C237.873%20271.132%20231.5%20264.088%20231.5%20256.632C231.5%20249.177%20235.373%20245.632%20242%20245.632C248.627%20245.632%20254%20251.677%20254%20259.132Z'%20fill='%23FFDE6A'/%3e%3cpath%20d='M230%20256C238.182%20270.711%20245.81%20275.071%20264.641%20276'%20stroke='%23454545'%20stroke-width='4'%20stroke-linecap='round'/%3e%3cpath%20d='M315%20226.599C315%20252.984%20297.091%20268.8%20275%20268.8C252.909%20268.8%20235%20252.984%20235%20226.599C235%20200.214%20252.909%20184%20275%20184C297.091%20184%20315%20200.214%20315%20226.599Z'%20fill='%23FFC700'/%3e%3cpath%20d='M279.4%20226C279.4%20230.418%20276.618%20234%20272.2%20234C267.782%20234%20265%20230.418%20265%20226C265%20221.582%20267.782%20218%20272.2%20218C276.618%20218%20279.4%20221.582%20279.4%20226Z'%20fill='%23454545'/%3e%3cpath%20d='M301.8%20226C301.8%20230.418%20299.018%20234%20294.6%20234C290.182%20234%20287.4%20230.418%20287.4%20226C287.4%20221.582%20290.182%20218%20294.6%20218C299.018%20218%20301.8%20221.582%20301.8%20226Z'%20fill='%23454545'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_621_231'%3e%3crect%20width='400'%20height='400'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function xH(){const{register:t,handleSubmit:e,watch:r,formState:{errors:n}}=rR(),[i,a]=D.useState(!0),[o,s]=D.useState(!1),[l,c]=D.useState(!1),[u,f]=D.useState(El),{setUser:h}=D.useContext(Qn),[p,v]=D.useState("");D.useEffect(()=>{let k;return l&&(k=setInterval(()=>{f(y=>y===El?ZD:El)},250)),()=>clearInterval(k)},[l]);const b=async k=>{const{email:y,registerPassword:g,account:_,name:T}=k;try{await fW(y,g,_,T);const I=im(),E=await xT(I,y,g);h(E.user),c(!0),setTimeout(()=>{s(!0)},2e3)}catch(I){console.error("Error registering user: ",I.code,I.message)}},x=async k=>{const{loginAccount:y,loginPassword:g}=k,_=im();try{const T=await dW(y);if(!T){v("帳號或密碼錯誤");return}const I=await xT(_,T,g);h(I.user),c(!0),setTimeout(()=>{s(!0)},2e3)}catch(T){v("帳號或密碼錯誤"),console.error("Error logging in: ",T.code,T.message)}};return o?m.jsx(KN,{to:"/home"}):l?m.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4",children:[m.jsx("img",{src:u,alt:"loading",className:"w-40 h-40 object-cover"}),m.jsx("p",{className:"font-normal text-base text-black dark:text-black-0",children:"準備好培養習慣了嗎？"})]}):m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${i?"bg-primary":"bg-black-50"}`,onClick:()=>a(!0),children:"登入帳號"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${i?"bg-black-50":"bg-primary"}`,onClick:()=>a(!1),children:"註冊帳號"})]}),i?m.jsx("div",{className:"relative min-h-screen",children:m.jsxs("form",{onSubmit:e(x),className:"flex flex-col",children:[m.jsx("label",{htmlFor:"loginAccount",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"帳號"}),m.jsx("input",{type:"text",name:"loginAccount",id:"loginAccount",placeholder:"請輸入帳號",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.loginAccount?"":"mb-4"}`,...t("loginAccount",{required:"Email 是必填項目"})}),n.loginAccount&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.loginAccount.message}),m.jsx("label",{htmlFor:"loginPassword",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"密碼"}),m.jsx("input",{type:"password",name:"loginPassword",id:"loginPassword",placeholder:"請輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.loginPassword?"":"mb-8"}`,...t("loginPassword",{required:"密碼是必填項目"})}),n.loginPassword&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.loginPassword.message}),p&&m.jsx("p",{className:"text-alert",children:p}),m.jsx("button",{type:"submit",className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",children:"登入帳號"})]})}):m.jsxs("form",{onSubmit:e(b),className:"flex flex-col",children:[m.jsx("label",{htmlFor:"email",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Email"}),m.jsx("input",{type:"email",name:"email",id:"email",placeholder:"請輸入 Email",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.email?"":"mb-4"}`,...t("email",{required:"Email 是必填項目"})}),n.email&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.email.message}),m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"account",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"帳號"}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block cursor-help"}),m.jsx("span",{className:"absolute -bottom-1 left-[72px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"帳號可以是英文、數字或符號的組合"})]}),m.jsx("input",{type:"text",name:"account",id:"account",placeholder:"請輸入帳號",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.account?"":"mb-4"}`,...t("account",{required:"帳號是必填項目"})}),n.account&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.account.message}),m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"registerPassword",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"密碼"}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block cursor-help"}),m.jsx("span",{className:"absolute -bottom-1 left-[72px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"密碼可以是英文、數字或符號的組合，至少需要 6 個字符"})]}),m.jsx("input",{type:"password",name:"registerPassword",id:"registerPassword",placeholder:"請輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.registerPassword?"":"mb-4"}`,...t("registerPassword",{required:"密碼是必填項目",minLength:{value:6,message:"密碼至少需要 6 個字符"}})}),n.registerPassword&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.registerPassword.message}),m.jsx("label",{htmlFor:"registerCheckPassword",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"確認密碼"}),m.jsx("input",{type:"password",name:"registerCheckPassword",id:"registerCheckPassword",placeholder:"請再次輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.registerCheckPassword?"":"mb-4"}`,...t("registerCheckPassword",{required:"確認密碼是必填項目",validate:k=>k===r("registerPassword")||"密碼不一致",minLength:{value:6,message:"密碼至少需要 6 個字符"}})}),n.registerCheckPassword&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.registerCheckPassword.message}),m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"name",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"會員名稱"}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block cursor-help"}),m.jsx("span",{className:"absolute -bottom-1 left-[104px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"會員名稱可以是中文、英文、數字或符號，但不得超過 9 個字符"})]}),m.jsx("input",{type:"text",name:"name",id:"name",placeholder:"請輸入會員名稱",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.name?"":"mb-8"}`,...t("name",{required:"會員名稱是必填項目",maxLength:{value:9,message:"會員名稱不得超過 9 個字符"}})}),n.name&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.name.message}),m.jsx("button",{type:"submit",className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",children:"註冊帳號"})]})]})}const eM=({date:t,onSelect:e,onWeekChange:r})=>{const[n]=D.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[i]=D.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[a,o]=D.useState(null),[s,l]=D.useState(null),[c,u]=D.useState(null);D.useEffect(()=>{const g=new Date;l({year:g.getFullYear(),month:g.getMonth(),day:g.getDate()}),o(t?{...t}:{year:g.getFullYear(),month:g.getMonth(),day:g.getDate()})},[t]),D.useEffect(()=>{if(a){const g=new Date(a.year,a.month,a.day-new Date(a.year,a.month,a.day).getDay()),_=[];for(let T=0;T<7;T++){const I=new Date(g);I.setDate(g.getDate()+T),_.push({year:I.getFullYear(),month:I.getMonth(),day:I.getDate()})}r(_)}},[a]);const f=()=>{if(!a)return[];const g=[],_=a.year,T=a.month,I=a.day,E=new Date(_,T,I-new Date(_,T,I).getDay());for(let S=0;S<7;S++){const O=new Date(E);O.setDate(E.getDate()+S),g.push({value:O.getDate(),year:O.getFullYear(),month:O.getMonth()})}return g},h=g=>{p(g)},p=g=>{o(_=>{const T=new Date(_.year,_.month,_.day+(g?7:-7)),I=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),E={year:I.getFullYear(),month:I.getMonth(),day:I.getDate()};return u(E),e(E),{year:T.getFullYear(),month:T.getMonth(),day:T.getDate()}})},v=g=>{const _={...a,day:g.value,month:g.month,year:g.year};u(_),e(_)},b=g=>g.value===s.day&&s.year===g.year&&s.month===g.month,x=g=>c&&g.value===c.day&&c.year===g.year&&c.month===g.month;if(!a)return null;const k=new Date(a.year,a.month,a.day-new Date(a.year,a.month,a.day).getDay()),y=`${i[k.getMonth()]} ${k.getFullYear()}`;return m.jsxs("div",{className:"p-4 md:pt-6 bg-black-50 dark:bg-black-800 rounded-b-3xl",children:[m.jsxs("div",{className:"flex justify-between mb-3",children:[m.jsx("button",{onClick:()=>h(!1),children:m.jsx(pm.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),m.jsx("h1",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:y}),m.jsx("button",{onClick:()=>h(!0),children:m.jsx(pm.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),m.jsx("div",{className:"grid grid-cols-7 gap-y-1 gap-x-2 md:gap-x-4 text-center",children:f().map((g,_)=>m.jsxs("div",{className:`py-1 px-1 flex flex-col items-center gap-1 rounded-lg cursor-pointer ${b(g)?"bg-primary":x(g)?"outline outline-primary-dark bg-primary-light":"bg-transparent hover:bg-primary-light"}`,onClick:()=>v(g),children:[m.jsx("div",{className:`font-bold text-lg leading-6 ${b(g)?"text-black dark:text-black-0-0":x(g)?"text-black":"text-black dark:text-black-0"}`,children:g.value}),m.jsx("div",{className:`font-medium text-sm leading-5 ${b(g)?"text-black dark:text-black-0-0":x(g)?"text-black":"text-black dark:text-black-0"}`,children:n[new Date(g.year,g.month,g.value).getDay()]})]},_))})]})};eM.propTypes={date:H.object,onSelect:H.func,onWeekChange:H.func.isRequired};const tM=({isOn:t,handleToggle:e})=>m.jsx("div",{className:`relative inline-block w-12 h-6 transition duration-200 ease-linear rounded-full ${t?"bg-primary":"bg-black-300"}`,onClick:e,children:m.jsx("label",{htmlFor:"toggle",className:`absolute left-0 inline-block w-6 h-6 transition duration-100 ease-linear transform bg-white rounded-full cursor-pointer ${t?"translate-x-full":"translate-x-0"}`})});tM.propTypes={isOn:H.bool.isRequired,handleToggle:H.func.isRequired};const A1=({profileData:t,handleSettingModal:e,handleSaveAndClose:r})=>{const{setIsDarkMode:n,user:i}=D.useContext(Qn),[a,o]=D.useState(t),s=Sg();D.useEffect(()=>{o(t)},[t]);const{register:l,handleSubmit:c,formState:{errors:u},watch:f}=rR({defaultValues:{name:a.name||"",introduction:a.introduction||""}}),h=async()=>{await VD(),i(null),s("/")},p=f("name"),v=a.isDarkMode,b=()=>{o(y=>({...y,isDarkMode:!y.isDarkMode})),n(!a.isDarkMode)},x=y=>{const{name:g,value:_,files:T}=y.target;if(g==="avatar"&&T&&T[0]){const I=y.target.files[0],E=["image/jpeg","image/jpg","image/png","image/gif"];if(!I||!E.includes(I.type))return;o(S=>({...S,avatar:URL.createObjectURL(I),avatarFile:I}))}else o(I=>({...I,[g]:_}))},k=async y=>{try{if(a.avatarFile){const g=await BD(i.uid,a.avatarFile);a.avatar=g}await T1(i.uid,{...a,...y}),r({...a,...y})}catch(g){console.error("更新資料失敗",g)}};return m.jsxs("form",{onSubmit:c(k),className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"設定"}),m.jsx(kt.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:e})]}),m.jsxs("div",{children:[m.jsx("p",{className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"會員頭像"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:a.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full object-cover outline outline-primary-dark dark:outline-primary"}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"relative inline-block",children:[m.jsx("input",{type:"file",name:"avatar",id:"profile",onChange:x,accept:"image/jpg,image/jpeg,image/png,image/gif",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer hidden"}),m.jsxs("label",{htmlFor:"profile",className:"cursor-pointer bg-primary text-black font-medium text-sm leading-5 py-1 px-2 rounded-lg flex items-center gap-2 hover:bg-primary-dark",children:[m.jsx(JD.TbPhoto,{className:"w-5 h-5"}),"更換頭像"]})]}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"您的頭像將會被公開。"})]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"name",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"會員名稱"}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[104px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"會員名稱可以是中文、英文、數字或符號，但不得超過 9 個字符"})]}),m.jsx("input",{type:"text",name:"name",id:"name",placeholder:"請輸入會員名稱",className:`px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 ${u.name||p.length>9?"mb-1":"mb-4"}`,...l("name",{required:"會員名稱是必填項目",maxLength:{value:9,message:"會員名稱不得超過 9 個字符"}})}),(u.name||p.length>9)&&m.jsx("p",{className:"text-alert dark:text-red-500 mt-1 mb-3",children:u.name?u.name.message:"會員名稱不得超過 9 個字符"})]}),m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("label",{htmlFor:"introduction",className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"自我介紹"}),m.jsx("input",{type:"text",name:"introduction",id:"introduction",placeholder:"自我介紹",className:"px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6",...l("introduction")})]}),m.jsx("div",{className:"border"}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"深色模式"}),m.jsx("div",{className:"relative w-fit text-nowrap",children:m.jsx(tM,{isOn:v,handleToggle:b})})]}),m.jsx("button",{type:"submit",className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",children:"儲存"}),m.jsx("button",{type:"button",onClick:h,className:"md:hidden text-center w-full bg-black-700 dark:bg-black-200 rounded-xl font-medium text-sm leading-5 py-1 text-black-0 dark:text-black hover:bg-alert hover:dark:bg-alert",children:"登出"})]})};A1.propTypes={profileData:H.object.isRequired,handleSaveAndClose:H.func.isRequired,handleSettingModal:H.func.isRequired};const kn=({isOpen:t,children:e})=>{if(!t)return null;const r=$.isValidElement(e)&&e.type===A1;return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:m.jsx("div",{className:"rounded-2xl py-6 px-4 w-11/12 md:w-1/3 h-fit bg-black-50 dark:bg-black-600 max-h-[80vh] overflow-auto space-y-4 ",children:e})})};kn.propTypes={isOpen:H.bool.isRequired,children:H.node.isRequired};const P1=({date:t,onSelect:e})=>{const[r]=D.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[n]=D.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[i,a]=D.useState(null),[o,s]=D.useState({start:null,end:null}),[l,c]=D.useState(null);D.useEffect(()=>{const g=new Date;a(t?{...t}:{year:g.getFullYear(),month:g.getMonth(),day:g.getDate()})},[t]);const u=()=>{if(!i)return[];const g=[],_=i.year,T=i.month,I=new Date(_,T,1),E=new Date(_,T+1,0),S=I.getDay(),O=E.getDate();for(let C=0;C<S;C++)g.push(null);for(let C=1;C<=O;C++)g.push({value:C,year:_,month:T});return g},f=g=>{h(g)},h=g=>{a(_=>{const T=new Date(_.year,_.month+(g?1:-1),1);return{year:T.getFullYear(),month:T.getMonth(),day:T.getDate()}})};if(!i)return null;const p=`${n[i.month]} ${i.year}`,v=g=>{const _=new Date;_.setHours(0,0,0,0);const T=new Date(g.year,g.month,g.value);if(T.setHours(0,0,0,0),!(T<_))if(!o.start||o.start&&o.end)s({start:g,end:null});else{const I=new Date(o.start.year,o.start.month,o.start.value);if(I.setHours(0,0,0,0),I.getTime()===T.getTime())return;s(E=>({start:E.start,end:g})),e({start:o.start,end:g})}},b=g=>{if(!g||!o.start||!o.end)return!1;const _=new Date(g.year,g.month,g.value),T=new Date(o.start.year,o.start.month,o.start.value),I=new Date(o.end.year,o.end.month,o.end.value);return _>=T&&_<=I},x=g=>{if(!g)return!1;const _=new Date;_.setHours(0,0,0,0);const T=new Date(g.year,g.month,g.value);return T.setHours(0,0,0,0),T<_},k=g=>{if(!g)return!1;const _=new Date(g.year,g.month,g.value),T=o.start?new Date(o.start.year,o.start.month,o.start.value):null,I=o.end?new Date(o.end.year,o.end.month,o.end.value):null;return T&&_.getTime()===T.getTime()||I&&_.getTime()===I.getTime()},y=g=>{if(!g||!o.start||!l)return!1;const _=new Date(g.year,g.month,g.value),T=new Date(o.start.year,o.start.month,o.start.value),I=new Date(l.year,l.month,l.value);return _>T&&_<I};return m.jsxs("div",{className:"p-4 bg-light dark:bg-black-800 rounded-2xl",children:[m.jsxs("div",{className:"flex justify-between mb-3",children:[m.jsx("button",{onClick:()=>f(!1),children:m.jsx(pm.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),m.jsx("h1",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:p}),m.jsx("button",{onClick:()=>f(!0),children:m.jsx(pm.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),m.jsxs("div",{className:"grid grid-cols-7 text-center gap-1",children:[r.map((g,_)=>m.jsx("div",{className:"font-medium text-sm leading-5 text-black dark:text-black-0",children:g},_)),u().map((g,_)=>m.jsx("div",{className:`rounded-full aspect-square flex items-center justify-center cursor-pointer ${g?x(g)?"bg-black-200 cursor-not-allowed":k(g)?"bg-primary":y(g)?"bg-primary-light":b(g)?"bg-primary-dark text-black-0":"bg-white hover:bg-primary-light hover:outline hover:outline-2 hover:outline-primary-dark":"invisible"}`,onClick:()=>g&&!x(g)&&v(g),onMouseEnter:()=>g&&c(g),onMouseLeave:()=>c(null),children:g?g.value:""},_))]})]})};P1.propTypes={date:H.object,onSelect:H.func};const Zg=({options:t,value:e,onChange:r})=>{const n=a=>{r(a)},i=t.find(a=>a.id===e);return m.jsx("div",{className:"w-full",children:m.jsx("ul",{className:"grid grid-cols-4 gap-2",children:t.map(a=>m.jsxs("li",{className:"w-16 h-fit cursor-pointer flex flex-col items-center gap-1 text-nowrap font-normal text-xs leading-4",onClick:()=>n(a.id),children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex justify-center items-center ${i&&i.id===a.id?"bg-primary":"bg-black-200 hover:bg-primary"}`,children:m.jsx(a.icon,{className:"w-8 h-8"})}),m.jsx("p",{className:"text-black dark:text-black-0",children:a.name})]},a.id))})})};Zg.propTypes={options:H.array.isRequired,value:H.any,onChange:H.func.isRequired};Zg.defaultProps={value:null};let wH={data:""},_H=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||wH,kH=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,EH=/\/\*[^]*?\*\/|  +/g,TA=/\n+/g,Da=(t,e)=>{let r="",n="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?Da(o,a):a+"{"+Da(o,a[1]=="k"?"":e)+"}":typeof o=="object"?n+=Da(o,e?e.replace(/([^,])+/g,s=>a.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Da.p?Da.p(a,o):a+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Oi={},rM=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+rM(t[r]);return e}return t},SH=(t,e,r,n,i)=>{let a=rM(t),o=Oi[a]||(Oi[a]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(a));if(!Oi[o]){let l=a!==t?t:(c=>{let u,f,h=[{}];for(;u=kH.exec(c.replace(EH,""));)u[4]?h.shift():u[3]?(f=u[3].replace(TA," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(TA," ").trim();return h[0]})(t);Oi[o]=Da(i?{["@keyframes "+o]:l}:l,r?"":"."+o)}let s=r&&Oi.g?Oi.g:null;return r&&(Oi.g=Oi[o]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Oi[o],e,n,s),o},TH=(t,e,r)=>t.reduce((n,i,a)=>{let o=e[a];if(o&&o.call){let s=o(r),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=l?"."+l:s&&typeof s=="object"?s.props?"":Da(s,""):s===!1?"":s}return n+i+(o??"")},"");function ey(t){let e=this||{},r=t.call?t(e.p):t;return SH(r.unshift?r.raw?TH(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,_H(e.target),e.g,e.o,e.k)}let nM,Gb,Xb;ey.bind({g:1});let na=ey.bind({k:1});function AH(t,e,r,n){Da.p=e,nM=t,Gb=r,Xb=n}function vo(t,e){let r=this||{};return function(){let n=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;r.p=Object.assign({theme:Gb&&Gb()},s),r.o=/ *go\d+/.test(l),s.className=ey.apply(r,n)+(l?" "+l:"");let c=t;return t[0]&&(c=s.as||t,delete s.as),Xb&&c[0]&&Xb(s),nM(c,s)}return i}}var PH=t=>typeof t=="function",mm=(t,e)=>PH(t)?t(e):t,IH=(()=>{let t=0;return()=>(++t).toString()})(),iM=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),OH=20,gp=new Map,CH=1e3,AA=t=>{if(gp.has(t))return;let e=setTimeout(()=>{gp.delete(t),Ss({type:4,toastId:t})},CH);gp.set(t,e)},NH=t=>{let e=gp.get(t);e&&clearTimeout(e)},Yb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,OH)};case 1:return e.toast.id&&NH(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return t.toasts.find(a=>a.id===r.id)?Yb(t,{type:1,toast:r}):Yb(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?AA(n):t.toasts.forEach(a=>{AA(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},yp=[],vp={toasts:[],pausedAt:void 0},Ss=t=>{vp=Yb(vp,t),yp.forEach(e=>{e(vp)})},RH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jH=(t={})=>{let[e,r]=D.useState(vp);D.useEffect(()=>(yp.push(r),()=>{let i=yp.indexOf(r);i>-1&&yp.splice(i,1)}),[e]);let n=e.toasts.map(i=>{var a,o;return{...t,...t[i.type],...i,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||RH[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:n}},DH=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||IH()}),Od=t=>(e,r)=>{let n=DH(e,t,r);return Ss({type:2,toast:n}),n.id},Lr=(t,e)=>Od("blank")(t,e);Lr.error=Od("error");Lr.success=Od("success");Lr.loading=Od("loading");Lr.custom=Od("custom");Lr.dismiss=t=>{Ss({type:3,toastId:t})};Lr.remove=t=>Ss({type:4,toastId:t});Lr.promise=(t,e,r)=>{let n=Lr.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(i=>(Lr.success(mm(e.success,i),{id:n,...r,...r==null?void 0:r.success}),i)).catch(i=>{Lr.error(mm(e.error,i),{id:n,...r,...r==null?void 0:r.error})}),t};var MH=(t,e)=>{Ss({type:1,toast:{id:t,height:e}})},$H=()=>{Ss({type:5,time:Date.now()})},LH=t=>{let{toasts:e,pausedAt:r}=jH(t);D.useEffect(()=>{if(r)return;let a=Date.now(),o=e.map(s=>{if(s.duration===1/0)return;let l=(s.duration||0)+s.pauseDuration-(a-s.createdAt);if(l<0){s.visible&&Lr.dismiss(s.id);return}return setTimeout(()=>Lr.dismiss(s.id),l)});return()=>{o.forEach(s=>s&&clearTimeout(s))}},[e,r]);let n=D.useCallback(()=>{r&&Ss({type:6,time:Date.now()})},[r]),i=D.useCallback((a,o)=>{let{reverseOrder:s=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(a.position||c)&&p.height),f=u.findIndex(p=>p.id===a.id),h=u.filter((p,v)=>v<f&&p.visible).length;return u.filter(p=>p.visible).slice(...s?[h+1]:[0,h]).reduce((p,v)=>p+(v.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:MH,startPause:$H,endPause:n,calculateOffset:i}}},FH=na`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,VH=na`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UH=na`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,BH=vo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${FH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${VH} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${UH} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,zH=na`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qH=vo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${zH} 1s linear infinite;
`,WH=na`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,HH=na`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,KH=vo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${HH} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,GH=vo("div")`
  position: absolute;
`,XH=vo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,YH=na`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QH=vo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${YH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,JH=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?D.createElement(QH,null,e):e:r==="blank"?null:D.createElement(XH,null,D.createElement(qH,{...n}),r!=="loading"&&D.createElement(GH,null,r==="error"?D.createElement(BH,{...n}):D.createElement(KH,{...n})))},ZH=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,eK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,tK="0%{opacity:0;} 100%{opacity:1;}",rK="0%{opacity:1;} 100%{opacity:0;}",nK=vo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,iK=vo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,aK=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=iM()?[tK,rK]:[ZH(r),eK(r)];return{animation:e?`${na(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${na(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},oK=D.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?aK(t.position||e||"top-center",t.visible):{opacity:0},a=D.createElement(JH,{toast:t}),o=D.createElement(iK,{...t.ariaProps},mm(t.message,t));return D.createElement(nK,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:o}):D.createElement(D.Fragment,null,a,o))});AH(D.createElement);var sK=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=D.useCallback(o=>{if(o){let s=()=>{let l=o.getBoundingClientRect().height;n(t,l)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return D.createElement("div",{ref:a,className:e,style:r},i)},lK=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:iM()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},cK=ey`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Oh=16,uK=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:s,handlers:l}=LH(r);return D.createElement("div",{style:{position:"fixed",zIndex:9999,top:Oh,left:Oh,right:Oh,bottom:Oh,pointerEvents:"none",...a},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},s.map(c=>{let u=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),h=lK(u,f);return D.createElement(sK,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?cK:"",style:h},c.type==="custom"?mm(c.message,c):i?i(c):D.createElement(oK,{toast:c,position:u}))}))},zl=Lr;const I1=({value:t,onChange:e,min:r=10,max:n=100,step:i=10})=>{const[a,o]=D.useState(t||0),s=()=>{if(a+i<=n){const c=a+i;o(c),e({target:{name:"amount",value:c}})}},l=()=>{if(a-i>=r){const c=a-i;o(c),e({target:{name:"amount",value:c}})}};return m.jsxs("div",{className:"flex items-center w-full border border-black-300 rounded overflow-hidden",children:[m.jsx("button",{type:"button",className:"py-1 px-4 bg-black-200 hover:bg-primary cursor-pointer",onClick:l,disabled:a<=r,children:m.jsx(Kb.TbMinus,{className:"w-4 h-4"})}),m.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-center w-full h-6 font-normal text-sm leading-5 no-spinner dark:bg-black-100 dark:placeholder-black-400 focus:outline-none focus:border-none",value:a,readOnly:!0}),m.jsx("button",{type:"button",className:"py-1 px-4 bg-black-200 hover:bg-primary cursor-pointer",onClick:s,disabled:a>=n,children:m.jsx(Kb.TbPlus,{className:"w-4 h-4"})})]})};I1.propTypes={value:H.number,onChange:H.func.isRequired,min:H.number,max:H.number,step:H.number};const aM=({habitData:t,handleHabitChange:e,handleAddHabit:r,showMonthCalendar:n,calendarRef:i,handleHabitModal:a,habitCategories:o,setHabitData:s,monthCalendarDate:l,handleMonthCalendarSelectDate:c,setShowMonthCalendar:u})=>{const[f,h]=D.useState(t.frequency.days||[]),[p,v]=D.useState({});D.useEffect(()=>{h(t.frequency.days||[])},[t.frequency.days]);const b=E=>{const S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(E),O=f.includes(S)?f.filter(C=>C!==S):[...f,S];h(O),s(C=>({...C,frequency:{...C.frequency,days:O}}))},x=E=>{const S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(E);h([S]),s(O=>({...O,frequency:{...O.frequency,day:S}}))},k=()=>{const E={};return t.title||(E.title="請輸入習慣名稱"),!t.category&&t.category!==0&&(E.category="請選擇習慣類別"),t.frequency.type||(E.frequency="請選擇習慣頻率"),t.frequency.type==="specificDays"&&f.length===0&&(E.days="請選擇至少一天"),t.type||(E.type="請選擇習慣類型"),t.amount||(E.amount="請輸入罰款金額"),t.startDate||(E.startDate="請選擇開始日期"),t.endDate||(E.endDate="請選擇結束日期"),v(E),Object.keys(E).length===0},y=E=>{if(E.preventDefault(),!t.title.trim()){T();return}if(!k()){I();return}r()},g=E=>{const{name:S,value:O}=E.target;e(E),v(C=>{const R={...C};return O&&delete R[S],R}),S==="frequency"&&(O==="weekly"?(h([]),s(C=>({...C,frequency:{type:O,day:null}}))):O==="specificDays"?(h([]),s(C=>({...C,frequency:{type:O,days:[]}}))):s(C=>({...C,frequency:{type:O}})))},_=E=>{Lr.error(E,{style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},T=()=>_("習慣名稱不能為空或僅包含空格！"),I=()=>_("沒有完整填寫資料的話，沒辦法送出喔！");return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center gap-4",children:[m.jsx("div",{className:"flex items-center gap-4 w-full",children:m.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 placeholder-black",value:t.title,onChange:g})}),m.jsx(kt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:a})]}),m.jsxs("div",{className:"flex justify-between items-start gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"category",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類別",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要培養什麼類別的習慣呢？"})]}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsx(Zg,{options:o,value:t.category,onChange:E=>g({target:{name:"category",value:E}})})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣頻率",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要怎麼安排習慣頻率呢？"})]}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:t.frequency.type==="daily",onChange:g}),m.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${t.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:t.frequency.type==="weekly",onChange:g}),m.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${t.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:t.frequency.type==="specificDays",onChange:g}),m.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${t.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),t.frequency.type==="weekly"&&m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-sm text-black-500 mb-1",children:"選擇一天作為「是否完成習慣」的確認時間吧！"}),m.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((E,S)=>m.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[E,m.jsx(Sf.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 cursor-pointer ${f.includes(S)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>x(E)})]},S))})]}),t.frequency.type==="specificDays"&&m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-sm text-black-500 mb-1",children:"選擇想要培養習慣的時間吧！"}),m.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((E,S)=>m.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[E,m.jsx(Sf.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 cursor-pointer ${f.includes(S)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>b(E)})]},S))})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類型",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要養成還是戒除呢？"})]}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:t.type==="to-do",onChange:g}),m.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${t.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:t.type==="not-to-do",onChange:g}),m.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${t.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣罰款",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"如果沒完成習慣，你想支付多少罰款呢？"})]}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsx(I1,{value:t.amount,onChange:g})]}),m.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"time",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["養成期間",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要在什麼時候培養這個習慣呢？"})]}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsx("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:m.jsx("button",{className:"text-center w-full font-normal text-sm leading-5 text-black",onClick:()=>u(!n),children:t.startDate&&t.endDate?`${t.startDate} - ${t.endDate}`:"選擇日期範圍"})}),n&&m.jsx("div",{ref:i,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:m.jsx(P1,{date:l,onSelect:c})})]}),m.jsxs("div",{className:"space-y-2",children:[p.title&&m.jsx("p",{className:"text-alert text-sm leading-5",children:p.title}),p.category&&m.jsx("p",{className:"text-alert text-sm leading-5",children:p.category}),p.frequency&&m.jsx("p",{className:"text-alert text-sm leading-5",children:p.frequency}),p.days&&m.jsx("p",{className:"text-alert text-sm leading-5",children:p.days}),p.type&&m.jsx("p",{className:"text-alert text-sm leading-5",children:p.type}),p.amount&&m.jsx("p",{className:"text-alert text-sm leading-5",children:p.amount}),p.startDate&&m.jsx("p",{className:"text-alert text-sm leading-5",children:p.startDate}),p.endDate&&m.jsx("p",{className:"text-alert text-sm leading-5",children:p.endDate}),m.jsx("button",{className:"w-full rounded-lg bg-primary font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:y,children:"養成習慣"})]})]})};aM.propTypes={habitData:H.object.isRequired,handleHabitChange:H.func.isRequired,handleAddHabit:H.func.isRequired,handleFocus:H.func.isRequired,showMonthCalendar:H.bool.isRequired,calendarTarget:H.string.isRequired,selectedDate:H.object.isRequired,handleSelectDate:H.func.isRequired,calendarRef:H.object.isRequired,handleHabitModal:H.func.isRequired,habitCategories:H.array.isRequired,setHabitData:H.func.isRequired,monthCalendarDate:H.object.isRequired,handleMonthCalendarSelectDate:H.func.isRequired,setCalendarTarget:H.func.isRequired,setShowMonthCalendar:H.func.isRequired};const O1=({selectedHabit:t,handleDetailModal:e,uncompletedFine:r,handleEditModal:n,habitCategories:i})=>{const a=i.find(u=>u.id===t.category),o=a?a.icon:null,s=u=>{switch(u.type){case"daily":return"每日";case"weekly":return"每週";case"specificDays":return"特定日期";default:return""}},l=[{bottom:0,left:0},{bottom:2,left:-1},{bottom:-1,left:-2},{bottom:2,left:0},{bottom:1,left:-1},{bottom:2,left:-2},{bottom:-2,left:1},{bottom:2,left:1}],c=u=>{const f=u.bottom>=0?`bottom-${u.bottom}`:`-bottom-${Math.abs(u.bottom)}`,h=u.left>=0?`left-${u.left}`:`-left-${Math.abs(u.left)}`;return`${f} ${h}`};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:o&&m.jsx(o,{className:"w-8 h-8"})}),m.jsx("div",{className:"flex flex-col",children:m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0 line-clamp-1",children:t.title})})})]}),m.jsx(kt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:e})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("h3",{className:"text-black dark:text-black-0",children:"養成頻率："}),m.jsx("p",{className:"text-black dark:text-black-0",children:s(t.frequency)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("h3",{className:"text-black dark:text-black-0",children:"養成期間："}),m.jsxs("p",{className:"text-black dark:text-black-0",children:[t.startDate,"～",t.endDate]})]}),m.jsx("div",{className:"grid grid-cols-5 md:grid-cols-7 2xl:grid-cols-10 gap-2 md:gap-3 max-h-40 overflow-y-auto overflow-x-hidden",children:t.status.map((u,f)=>m.jsx("div",{className:"border border-black-500 dark:border-black-300 rounded aspect-square bg-black-50 relative",children:u.completed&&m.jsx("div",{className:`border-2 border-alert rounded-full aspect-square flex justify-center items-center absolute ${c(l[f%l.length])}`,children:m.jsx("p",{className:"font-lobster font-normal text-sm leading-5 text-alert -rotate-[30deg] p-1 w-12 h-10 flex items-center justify-center",children:new Date(u.date).toLocaleDateString("zh-TW",{month:"2-digit",day:"2-digit"})})})},f))}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("p",{className:"text-black dark:text-black-0",children:"累積存款："}),m.jsxs("p",{className:"text-black dark:text-black-0",children:["NT$ ",r]})]}),m.jsx("button",{className:"py-1 w-full bg-primary hover:bg-primary-dark rounded-lg font-medium text-sm leading-5",onClick:()=>n(t),children:"編輯習慣"})]})};O1.propTypes={selectedHabit:H.object.isRequired,handleDetailModal:H.func.isRequired,handlePostModal:H.func.isRequired,uncompletedFine:H.number.isRequired,handleEditModal:H.func.isRequired,habitCategories:H.array.isRequired};const C1=({habitData:t,handleHabitChange:e,handleUpdateHabit:r,handleDeleteHabit:n,showMonthCalendar:i,calendarRef:a,handleEditModal:o,habitCategories:s,setHabitData:l,monthCalendarDate:c,handleMonthCalendarSelectDate:u,setShowMonthCalendar:f,generateStatusArray:h})=>{const[p,v]=D.useState(t.frequency.days||[]),[b,x]=D.useState({}),[k,y]=D.useState(!1),[g,_]=D.useState(null);D.useEffect(()=>{t.frequency.type==="weekly"?v([t.frequency.day]):v(t.frequency.days||[])},[t.frequency]);const T=P=>{const F=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(P),B=p.includes(F)?p.filter(W=>W!==F):[...p,F];v(B),l(W=>({...W,frequency:{...W.frequency,days:B}}))},I=P=>{const F=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(P);v([F]),l(B=>({...B,frequency:{...B.frequency,day:F}}))},E=()=>{const P={};return t.title||(P.title="請輸入習慣名稱"),!t.category&&t.category!==0&&(P.category="請選擇習慣類別"),t.frequency.type||(P.frequency="請選擇習慣頻率"),t.frequency.type==="specificDays"&&p.length===0&&(P.days="請選擇至少一天"),t.type||(P.type="請選擇習慣類型"),t.amount||(P.amount="請輸入罰款金額"),t.startDate||(P.startDate="請選擇開始日期"),t.endDate||(P.endDate="請選擇結束日期"),x(P),Object.keys(P).length===0},S=P=>{if(P.preventDefault(),!t.title.trim()){R();return}if(!E()){N();return}const F=h(t.startDate,t.endDate,t.frequency);l(B=>({...B,status:F})),r()},O=P=>{const{name:F,value:B}=P.target;e(P),x(W=>{const X={...W};return B&&delete X[F],X}),F==="frequency"&&(B==="weekly"?(v([]),l(W=>({...W,frequency:{type:B,day:null}}))):B==="specificDays"?(v([]),l(W=>({...W,frequency:{type:B,days:[]}}))):l(W=>({...W,frequency:{type:B}})))},C=P=>{Lr.error(P,{style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},R=()=>C("習慣名稱不能為空或僅包含空格！"),N=()=>C("沒有完整填寫資料的話，沒辦法送出喔！");return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center gap-4",children:[m.jsx("div",{className:"flex items-center gap-4 w-full",children:m.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 placeholder-black",value:t.title,onChange:O})}),m.jsx(kt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:o})]}),m.jsxs("div",{className:"flex justify-between items-start gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"category",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類別",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要培養什麼類別的習慣呢？"})]}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsx(Zg,{options:s,value:t.category,onChange:P=>O({target:{name:"category",value:P}})})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣頻率",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要怎麼安排習慣頻率呢？"})]}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:t.frequency.type==="daily",onChange:O}),m.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${t.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:t.frequency.type==="weekly",onChange:O}),m.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${t.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:t.frequency.type==="specificDays",onChange:O}),m.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${t.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),t.frequency.type==="weekly"&&m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-sm text-black-500 mb-1",children:"選擇一天作為「是否完成習慣」的確認時間吧！"}),m.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((P,F)=>m.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[P,m.jsx(Sf.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 cursor-pointer ${p.includes(F)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>I(P)})]},F))})]}),t.frequency.type==="specificDays"&&m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-sm text-black-500 mb-1",children:"選擇想要培養習慣的時間吧！"}),m.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((P,F)=>m.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[P,m.jsx(Sf.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 cursor-pointer ${p.includes(F)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>T(P)})]},F))})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類型",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要養成還是戒除呢？"})]}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:t.type==="to-do",onChange:O}),m.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${t.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:t.type==="not-to-do",onChange:O}),m.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${t.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣罰款",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"如果沒完成習慣，你想支付多少罰款呢？"})]}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsx(I1,{value:t.amount,onChange:O})]}),m.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"time",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["養成期間",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要在什麼時候培養這個習慣呢？"})]}),m.jsx(kt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsx("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:m.jsx("button",{className:"text-center w-full font-normal text-sm leading-5 text-black",onClick:()=>f(!i),children:t.startDate&&t.endDate?`${t.startDate} - ${t.endDate}`:"選擇日期範圍"})}),i&&m.jsx("div",{ref:a,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:m.jsx(P1,{date:c,onSelect:u})})]}),m.jsxs("div",{className:"space-y-2",children:[b.title&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.title}),b.category&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.category}),b.frequency&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.frequency}),b.days&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.days}),b.type&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.type}),b.amount&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.amount}),b.startDate&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.startDate}),b.endDate&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.endDate}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-alert text-white rounded-lg",onClick:()=>{_(()=>n),y(!0)},children:"刪除習慣"}),m.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-primary rounded-lg hover:bg-primary-dark",onClick:()=>{_(()=>S),y(!0)},children:"更新習慣"}),k&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-black-800 p-4 rounded-xl shadow-lg",children:[m.jsx("p",{className:"text-black dark:text-white mb-4",children:"你確定要執行這個操作嗎？"}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{className:"py-1 px-3 bg-gray-300 rounded-lg",onClick:()=>y(!1),children:"取消"}),m.jsx("button",{className:"py-1 px-3 bg-primary rounded-lg text-black",onClick:()=>{g(),y(!1)},children:"確認"})]})]})})]})]})]})};C1.propTypes={habitData:H.object.isRequired,handleHabitChange:H.func.isRequired,handleUpdateHabit:H.func.isRequired,handleDeleteHabit:H.func.isRequired,handleFocus:H.func.isRequired,showMonthCalendar:H.bool.isRequired,calendarTarget:H.string.isRequired,selectedDate:H.object.isRequired,handleSelectDate:H.func.isRequired,calendarRef:H.object.isRequired,handleEditModal:H.func.isRequired,habitCategories:H.array.isRequired,setHabitData:H.func.isRequired,monthCalendarDate:H.object.isRequired,handleMonthCalendarSelectDate:H.func.isRequired,setCalendarTarget:H.func.isRequired,setShowMonthCalendar:H.func.isRequired,generateStatusArray:H.func.isRequired};const N1=({habits:t,habitCategories:e,handleDetailClick:r,weekDates:n,handleCheck:i})=>{const a=vs(),o=s=>{switch(s){case"to-do":return"養成";case"not-to-do":return"戒除";default:return""}};return m.jsx(m.Fragment,{children:Array.isArray(t)&&t.length===0?m.jsxs("div",{className:"space-y-2 py-6",children:[m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):m.jsx("ul",{className:`space-y-4 mt-2 ${a.pathname==="/home"?"p-4":""}`,children:Array.isArray(t)&&t.map(s=>{const l=new Date;l.setHours(0,0,0,0);const c=new Date(s.endDate);c.setHours(0,0,0,0);const u=c<l,f=e.find(p=>p.id===s.category),h=f?f.icon:null;return m.jsxs("li",{className:`p-4 rounded-2xl ${u?"bg-black-300 hover:bg-black-200 dark:bg-black-800 dark:hover:bg-black-900":"bg-black-50 dark:bg-black-500 hover:bg-black-0 dark:hover:bg-black-600"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:h&&m.jsx(h,{className:"w-8 h-8"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0 line-clamp-1",children:s.title}),m.jsxs("div",{className:"flex",children:[m.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:[o(s.type),"｜罰款 $",s.amount,"｜已達成 ",s.status.filter(p=>p.completed).length]}),m.jsxs("p",{className:"text-black-500 dark:text-black-300 font-normal text-sm leading-5",children:["/",s.status.length]})]})]})]}),m.jsx("button",{className:"text-black dark:text-black-0 hover:text-alert",onClick:()=>r(s),children:m.jsx(vH.TbCalendarSmile,{className:"w-6 h-6 md:w-8 md:h-8"})})]}),n&&m.jsxs("div",{className:"grid grid-cols-7 gap-y-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((p,v)=>m.jsx("div",{className:"text-center text-sm leading-5 md:font-normal md:text-base md:leading-6 text-black dark:text-black-0",children:p},v)),n.map((p,v)=>{const b=s.status.find(x=>new Date(x.date).toDateString()===new Date(p.year,p.month,p.day).toDateString());return m.jsx("div",{className:"flex flex-col items-center",children:b?u&&!b.completed?m.jsx(kt.TbX,{className:"w-10 h-10 md:w-12 md:h-12 border-2 rounded-full bg-alert text-black-0 border-alert cursor-not-allowed"}):m.jsx(Sf.TbCheck,{className:`w-10 h-10 md:w-12 md:h-12 border-2 rounded-full ${b.completed?"bg-primary text-black-0 border-primary":"text-black-500 dark:text-black-0 border-black-500 dark:border-black-300"} ${u?"cursor-not-allowed":"cursor-pointer hover:bg-primary-light"}`,onClick:()=>!u&&b&&i(s.id,b.date),disabled:!b}):m.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full cursor-not-allowed border-2 border-dashed ${u?"bg-black-transparent border-black-500":"bg-transparent border-black-300"}`})},v)})]})]},s.id)})})})};N1.propTypes={habits:H.array.isRequired,habitCategories:H.array.isRequired,handleDetailClick:H.func.isRequired,weekDates:H.array,handleCheck:H.func};const R1="/assets/habit-piggy-logo-Bg83H3Q_.svg";function fK(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[i,a]=D.useState(!1),[o,s]=D.useState({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""}),[l,c]=D.useState([]),[u,f]=D.useState(null),[h,p]=D.useState(!1),[v,b]=D.useState(null),[x,k]=D.useState([]),[y,g]=D.useState(0),[_,T]=D.useState(null),I=D.useRef(null),{user:E}=D.useContext(Qn),S=[{id:0,name:"生產力",icon:Sr.TbRocket},{id:1,name:"個人成長",icon:Sr.TbBook},{id:2,name:"運動健身",icon:Sr.TbWalk},{id:3,name:"飲食健康",icon:Sr.TbBowlChopsticks},{id:4,name:"心靈成長",icon:Sr.TbMoodHeart},{id:5,name:"手作興趣",icon:Sr.TbHandGrab},{id:6,name:"財務管理",icon:Sr.TbCash},{id:7,name:"環境生活",icon:Sr.TbPlant}];D.useEffect(()=>{E&&C()},[E]),D.useEffect(()=>{const ie=ke=>{I.current&&!I.current.contains(ke.target)&&p(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]),D.useEffect(()=>{const ie=new Date;f({year:ie.getFullYear(),month:ie.getMonth(),day:ie.getDate()}),T({year:ie.getFullYear(),month:ie.getMonth(),day:ie.getDate()})},[]);const O=(ie,ke,M)=>{const V=new Date(ie),q=new Date(ke),re=new Date(M);return V.setHours(0,0,0,0),q.setHours(0,0,0,0),re.setHours(23,59,59,999),V>=q&&V<=re},C=async(ie=null)=>{const ke=await us(E.uid),M=ie?new Date(ie.year,ie.month,ie.day):new Date,V=ke.filter(q=>O(M,q.startDate,q.endDate));c(V||[])},R=()=>{e(!t),s({category:null,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[],type:""})},N=()=>{n(!r)},P=ie=>{s({category:ie.category,title:ie.title,frequency:ie.frequency,amount:ie.amount,startDate:ie.startDate,endDate:ie.endDate,status:ie.status,type:ie.type}),n(!1),a(!i)},F=ie=>{const{name:ke,value:M}=ie.target;if(ke==="frequency"){let V;M==="specificDays"?V={type:M,days:o.frequency.days||[]}:M==="weekly"?V={type:M,day:o.frequency.day||0}:V={type:M};const q=B(o.startDate,o.endDate,V);s(re=>({...re,frequency:V,status:q}))}else if(ke==="startDate"||ke==="endDate"){const V={...o,[ke]:M},q=B(V.startDate,V.endDate,V.frequency);s(re=>({...re,[ke]:M,status:q}))}else s(V=>({...V,[ke]:M,status:B(o.startDate,o.endDate,o.frequency)}))},B=(ie,ke,M)=>{const V=new Date(ie),q=new Date(ke),re=[];if(M.type==="daily")for(let ee=V;ee<=q;ee.setDate(ee.getDate()+1))re.push({date:new Date(ee).toDateString(),completed:!1});else if(M.type==="weekly"){const ee=M.day;for(let L=new Date(V);L<=q;L.setDate(L.getDate()+1))L.getDay()===ee&&re.push({date:new Date(L).toDateString(),completed:!1})}else if(M.type==="specificDays"){const ee=Object.values(M.days);for(let L=V;L<=q;L.setDate(L.getDate()+1))ee.includes(L.getDay())&&re.push({date:new Date(L).toDateString(),completed:!1})}return re},W=async()=>{if(E){const ie=new Date(o.startDate);if(new Date(o.endDate)<=ie){Ae();return}const M=B(o.startDate,o.endDate,o.frequency),V={...o,status:M};await hW(E.uid,V),await kl(E.uid),await Vu(E.uid),C(),R(),s({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""}),de()}else console.error("User not authenticated")},X=async()=>{if(E&&v){const ie=new Date(o.startDate);if(new Date(o.endDate)<=ie){Ae();return}const V={...v,...o,id:v.id,status:B(o.startDate,o.endDate,o.frequency)};await Wb(E.uid,v.id,V),await kl(E.uid),await Vu(E.uid);const q=await pp(E.uid,"habit");await mp(E.uid,"habit",q),C(),a(!1),n(!1),xe()}else console.error("User not authenticated or habit not selected")},U=async()=>{if(E&&v){await UD(E.uid,v.id),await kl(E.uid),await Vu(E.uid);const ie=await pp(E.uid,"habit");await mp(E.uid,"habit",ie);const ke=await us(E.uid);c(ke),ke.filter(V=>V.category===v.category).length===0&&await qD(E.uid,v.category),C(),a(!1),n(!1),Te()}else console.error("User not authenticated or habit not selected")},Y=async ie=>{f(ie),await C(ie)},te=D.useCallback(ie=>{k(ie)},[k]),ce=ie=>{s(ke=>({...ke,startDate:`${ie.start.year}-${ie.start.month+1}-${ie.start.value}`,endDate:`${ie.end.year}-${ie.end.month+1}-${ie.end.value}`})),p(!1)},ae=async(ie,ke)=>{try{const M=await ii(ie),V=Number(M.levelPoints),q=Number(ke),re=V+q;await T1(ie,{levelPoints:re})}catch(M){console.error("Error getting user profile: ",M)}},se=async(ie,ke)=>{const M=new Date;M.setHours(0,0,0,0);const V=new Date(ke);if(V.setHours(0,0,0,0),V>M){et();return}const q=l.map(ee=>{if(ee.id===ie){const L=ee.status.map(K=>{if(new Date(K.date).toDateString()===V.toDateString()){const he=!K.completed;return he?(ae(E.uid,ee.amount),Q()):(ae(E.uid,-ee.amount),Fe()),{...K,completed:he}}return K});return{...ee,status:L}}return ee});c(q);const re=q.find(ee=>ee.id===ie);try{await Wb(E.uid,ie,re),await He("habit")}catch(ee){console.error("Error updating habit in Firestore: ",ee)}},Se=ie=>{const ke=new Date;return ke.setHours(0,0,0,0),ie.status.filter(V=>{const q=new Date(V.date);return q.setHours(0,0,0,0),q<ke&&!V.completed}).length*ie.amount},Re=ie=>{b(ie),g(Se(ie)),n(!0)},He=async ie=>{if(!(!E||!E.uid))try{const ke=await pp(E.uid,ie);await mp(E.uid,ie,ke)}catch(ke){console.error("Error handling achievements: ",ke)}},$e=ie=>{zl(ie,{icon:m.jsx("img",{src:R1,alt:"Habit Piggy Logo",style:{width:"40px",height:"40px"}}),style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},gt=ie=>{zl.error(ie,{style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},de=()=>$e("從今天開始培養習慣吧！"),xe=()=>$e("人要時時刻刻做好準備！"),Te=()=>$e("這段感情只有我在付出🥲"),Q=()=>$e("給你一個乖寶寶印章"),Fe=()=>$e("要記得回來完成喔！"),Ae=()=>gt("結束日期必須晚於開始日期喔！"),et=()=>gt("只能在今天之前打卡喔！");return m.jsxs("div",{className:"md:pb-6",children:[m.jsx(eM,{date:u,onSelect:Y,onWeekChange:te}),m.jsx(N1,{habits:l,habitCategories:S,handleDetailClick:Re,weekDates:x,handleCheck:se}),m.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center fixed right-4 bottom-20 md:bottom-10 bg-primary hover:bg-primary-dark cursor-pointer",onClick:R,children:m.jsx(Kb.TbPlus,{className:"w-8 h-8 md:w-10 md:h-10 text-black-0"})}),m.jsx(kn,{isOpen:t,children:m.jsx(kn,{isOpen:t,children:m.jsx(aM,{habitData:o,handleHabitChange:F,handleAddHabit:W,showMonthCalendar:h,calendarRef:I,handleHabitModal:R,habitCategories:S,setHabitData:s,monthCalendarDate:_,handleMonthCalendarSelectDate:ce,setShowMonthCalendar:p,generateStatusArray:B})})}),m.jsx(kn,{isOpen:r,onClose:N,children:m.jsx(O1,{selectedHabit:v,handleDetailModal:N,uncompletedFine:y,handleEditModal:P,habitCategories:S})}),m.jsx(kn,{isOpen:i,onClose:P,children:m.jsx(C1,{habitData:o,handleHabitChange:F,handleUpdateHabit:X,showMonthCalendar:h,calendarRef:I,handleEditModal:P,handleDeleteHabit:U,habitCategories:S,setHabitData:s,monthCalendarDate:_,handleMonthCalendarSelectDate:ce,setShowMonthCalendar:p,generateStatusArray:B})})]})}function oM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=oM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ve(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=oM(t))&&(n&&(n+=" "),n+=e);return n}var dK=Array.isArray,tn=dK,hK=typeof nh=="object"&&nh&&nh.Object===Object&&nh,sM=hK,pK=sM,mK=typeof self=="object"&&self&&self.Object===Object&&self,gK=pK||mK||Function("return this")(),_i=gK,yK=_i,vK=yK.Symbol,Cd=vK,PA=Cd,lM=Object.prototype,bK=lM.hasOwnProperty,xK=lM.toString,tu=PA?PA.toStringTag:void 0;function wK(t){var e=bK.call(t,tu),r=t[tu];try{t[tu]=void 0;var n=!0}catch{}var i=xK.call(t);return n&&(e?t[tu]=r:delete t[tu]),i}var _K=wK,kK=Object.prototype,EK=kK.toString;function SK(t){return EK.call(t)}var TK=SK,IA=Cd,AK=_K,PK=TK,IK="[object Null]",OK="[object Undefined]",OA=IA?IA.toStringTag:void 0;function CK(t){return t==null?t===void 0?OK:IK:OA&&OA in Object(t)?AK(t):PK(t)}var ua=CK;function NK(t){return t!=null&&typeof t=="object"}var fa=NK,RK=ua,jK=fa,DK="[object Symbol]";function MK(t){return typeof t=="symbol"||jK(t)&&RK(t)==DK}var vc=MK,$K=tn,LK=vc,FK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VK=/^\w*$/;function UK(t,e){if($K(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||LK(t)?!0:VK.test(t)||!FK.test(t)||e!=null&&t in Object(e)}var j1=UK;function BK(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bo=BK;const bc=at(bo);var zK=ua,qK=bo,WK="[object AsyncFunction]",HK="[object Function]",KK="[object GeneratorFunction]",GK="[object Proxy]";function XK(t){if(!qK(t))return!1;var e=zK(t);return e==HK||e==KK||e==WK||e==GK}var D1=XK;const De=at(D1);var YK=_i,QK=YK["__core-js_shared__"],JK=QK,Xv=JK,CA=function(){var t=/[^.]+$/.exec(Xv&&Xv.keys&&Xv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ZK(t){return!!CA&&CA in t}var eG=ZK,tG=Function.prototype,rG=tG.toString;function nG(t){if(t!=null){try{return rG.call(t)}catch{}try{return t+""}catch{}}return""}var cM=nG,iG=D1,aG=eG,oG=bo,sG=cM,lG=/[\\^$.*+?()[\]{}|]/g,cG=/^\[object .+?Constructor\]$/,uG=Function.prototype,fG=Object.prototype,dG=uG.toString,hG=fG.hasOwnProperty,pG=RegExp("^"+dG.call(hG).replace(lG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mG(t){if(!oG(t)||aG(t))return!1;var e=iG(t)?pG:cG;return e.test(sG(t))}var gG=mG;function yG(t,e){return t==null?void 0:t[e]}var vG=yG,bG=gG,xG=vG;function wG(t,e){var r=xG(t,e);return bG(r)?r:void 0}var Ts=wG,_G=Ts,kG=_G(Object,"create"),ty=kG,NA=ty;function EG(){this.__data__=NA?NA(null):{},this.size=0}var SG=EG;function TG(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var AG=TG,PG=ty,IG="__lodash_hash_undefined__",OG=Object.prototype,CG=OG.hasOwnProperty;function NG(t){var e=this.__data__;if(PG){var r=e[t];return r===IG?void 0:r}return CG.call(e,t)?e[t]:void 0}var RG=NG,jG=ty,DG=Object.prototype,MG=DG.hasOwnProperty;function $G(t){var e=this.__data__;return jG?e[t]!==void 0:MG.call(e,t)}var LG=$G,FG=ty,VG="__lodash_hash_undefined__";function UG(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=FG&&e===void 0?VG:e,this}var BG=UG,zG=SG,qG=AG,WG=RG,HG=LG,KG=BG;function xc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xc.prototype.clear=zG;xc.prototype.delete=qG;xc.prototype.get=WG;xc.prototype.has=HG;xc.prototype.set=KG;var GG=xc;function XG(){this.__data__=[],this.size=0}var YG=XG;function QG(t,e){return t===e||t!==t&&e!==e}var M1=QG,JG=M1;function ZG(t,e){for(var r=t.length;r--;)if(JG(t[r][0],e))return r;return-1}var ry=ZG,eX=ry,tX=Array.prototype,rX=tX.splice;function nX(t){var e=this.__data__,r=eX(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():rX.call(e,r,1),--this.size,!0}var iX=nX,aX=ry;function oX(t){var e=this.__data__,r=aX(e,t);return r<0?void 0:e[r][1]}var sX=oX,lX=ry;function cX(t){return lX(this.__data__,t)>-1}var uX=cX,fX=ry;function dX(t,e){var r=this.__data__,n=fX(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var hX=dX,pX=YG,mX=iX,gX=sX,yX=uX,vX=hX;function wc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}wc.prototype.clear=pX;wc.prototype.delete=mX;wc.prototype.get=gX;wc.prototype.has=yX;wc.prototype.set=vX;var ny=wc,bX=Ts,xX=_i,wX=bX(xX,"Map"),$1=wX,RA=GG,_X=ny,kX=$1;function EX(){this.size=0,this.__data__={hash:new RA,map:new(kX||_X),string:new RA}}var SX=EX;function TX(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var AX=TX,PX=AX;function IX(t,e){var r=t.__data__;return PX(e)?r[typeof e=="string"?"string":"hash"]:r.map}var iy=IX,OX=iy;function CX(t){var e=OX(this,t).delete(t);return this.size-=e?1:0,e}var NX=CX,RX=iy;function jX(t){return RX(this,t).get(t)}var DX=jX,MX=iy;function $X(t){return MX(this,t).has(t)}var LX=$X,FX=iy;function VX(t,e){var r=FX(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var UX=VX,BX=SX,zX=NX,qX=DX,WX=LX,HX=UX;function _c(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_c.prototype.clear=BX;_c.prototype.delete=zX;_c.prototype.get=qX;_c.prototype.has=WX;_c.prototype.set=HX;var L1=_c,uM=L1,KX="Expected a function";function F1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(KX);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(F1.Cache||uM),r}F1.Cache=uM;var fM=F1;const GX=at(fM);var XX=fM,YX=500;function QX(t){var e=XX(t,function(n){return r.size===YX&&r.clear(),n}),r=e.cache;return e}var JX=QX,ZX=JX,eY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tY=/\\(\\)?/g,rY=ZX(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(eY,function(r,n,i,a){e.push(i?a.replace(tY,"$1"):n||r)}),e}),nY=rY;function iY(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var V1=iY,jA=Cd,aY=V1,oY=tn,sY=vc,lY=1/0,DA=jA?jA.prototype:void 0,MA=DA?DA.toString:void 0;function dM(t){if(typeof t=="string")return t;if(oY(t))return aY(t,dM)+"";if(sY(t))return MA?MA.call(t):"";var e=t+"";return e=="0"&&1/t==-lY?"-0":e}var cY=dM,uY=cY;function fY(t){return t==null?"":uY(t)}var hM=fY,dY=tn,hY=j1,pY=nY,mY=hM;function gY(t,e){return dY(t)?t:hY(t,e)?[t]:pY(mY(t))}var pM=gY,yY=vc,vY=1/0;function bY(t){if(typeof t=="string"||yY(t))return t;var e=t+"";return e=="0"&&1/t==-vY?"-0":e}var ay=bY,xY=pM,wY=ay;function _Y(t,e){e=xY(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[wY(e[r++])];return r&&r==n?t:void 0}var U1=_Y,kY=U1;function EY(t,e,r){var n=t==null?void 0:kY(t,e);return n===void 0?r:n}var mM=EY;const fn=at(mM);function SY(t){return t==null}var TY=SY;const Ue=at(TY);var AY=ua,PY=tn,IY=fa,OY="[object String]";function CY(t){return typeof t=="string"||!PY(t)&&IY(t)&&AY(t)==OY}var NY=CY;const Nd=at(NY);var gM={exports:{}},ot={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sr=typeof Symbol=="function"&&Symbol.for,B1=sr?Symbol.for("react.element"):60103,z1=sr?Symbol.for("react.portal"):60106,oy=sr?Symbol.for("react.fragment"):60107,sy=sr?Symbol.for("react.strict_mode"):60108,ly=sr?Symbol.for("react.profiler"):60114,cy=sr?Symbol.for("react.provider"):60109,uy=sr?Symbol.for("react.context"):60110,q1=sr?Symbol.for("react.async_mode"):60111,fy=sr?Symbol.for("react.concurrent_mode"):60111,dy=sr?Symbol.for("react.forward_ref"):60112,hy=sr?Symbol.for("react.suspense"):60113,RY=sr?Symbol.for("react.suspense_list"):60120,py=sr?Symbol.for("react.memo"):60115,my=sr?Symbol.for("react.lazy"):60116,jY=sr?Symbol.for("react.block"):60121,DY=sr?Symbol.for("react.fundamental"):60117,MY=sr?Symbol.for("react.responder"):60118,$Y=sr?Symbol.for("react.scope"):60119;function mn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case B1:switch(t=t.type,t){case q1:case fy:case oy:case ly:case sy:case hy:return t;default:switch(t=t&&t.$$typeof,t){case uy:case dy:case my:case py:case cy:return t;default:return e}}case z1:return e}}}function yM(t){return mn(t)===fy}ot.AsyncMode=q1;ot.ConcurrentMode=fy;ot.ContextConsumer=uy;ot.ContextProvider=cy;ot.Element=B1;ot.ForwardRef=dy;ot.Fragment=oy;ot.Lazy=my;ot.Memo=py;ot.Portal=z1;ot.Profiler=ly;ot.StrictMode=sy;ot.Suspense=hy;ot.isAsyncMode=function(t){return yM(t)||mn(t)===q1};ot.isConcurrentMode=yM;ot.isContextConsumer=function(t){return mn(t)===uy};ot.isContextProvider=function(t){return mn(t)===cy};ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===B1};ot.isForwardRef=function(t){return mn(t)===dy};ot.isFragment=function(t){return mn(t)===oy};ot.isLazy=function(t){return mn(t)===my};ot.isMemo=function(t){return mn(t)===py};ot.isPortal=function(t){return mn(t)===z1};ot.isProfiler=function(t){return mn(t)===ly};ot.isStrictMode=function(t){return mn(t)===sy};ot.isSuspense=function(t){return mn(t)===hy};ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===oy||t===fy||t===ly||t===sy||t===hy||t===RY||typeof t=="object"&&t!==null&&(t.$$typeof===my||t.$$typeof===py||t.$$typeof===cy||t.$$typeof===uy||t.$$typeof===dy||t.$$typeof===DY||t.$$typeof===MY||t.$$typeof===$Y||t.$$typeof===jY)};ot.typeOf=mn;gM.exports=ot;var Qb=gM.exports,LY=ua,FY=fa,VY="[object Number]";function UY(t){return typeof t=="number"||FY(t)&&LY(t)==VY}var vM=UY;const BY=at(vM);var zY=vM;function qY(t){return zY(t)&&t!=+t}var WY=qY;const Rd=at(WY);var Fr=function(e){return e===0?0:e>0?1:-1},Bo=function(e){return Nd(e)&&e.indexOf("%")===e.length-1},le=function(e){return BY(e)&&!Rd(e)},Jt=function(e){return le(e)||Nd(e)},HY=0,jd=function(e){var r=++HY;return"".concat(e||"").concat(r)},Vr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(e)&&!Nd(e))return n;var a;if(Bo(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Rd(a)&&(a=n),i&&a>r&&(a=r),a},Ma=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},KY=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Sa=function(e,r){return le(e)&&le(r)?function(n){return e+n*(r-e)}:function(){return r}};function Jb(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):fn(n,e))===r})}function Sl(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Zb(t){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}var GY=["viewBox","children"],XY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$A=["points","pathLength"],Yv={svg:GY,polygon:$A,polyline:$A},W1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(D.isValidElement(e)&&(n=e.props),!bc(n))return null;var i={};return Object.keys(n).forEach(function(a){W1.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},YY=function(e,r,n){return function(i){return e(r,n,i),null}},fs=function(e,r,n){if(!bc(e)||Zb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];W1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=YY(o,r,n))}),i},QY=["children"],JY=["children"];function LA(t,e){if(t==null)return{};var r=ZY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZY(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var FA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Hi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},VA=null,Qv=null,H1=function t(e){if(e===VA&&Array.isArray(Qv))return Qv;var r=[];return D.Children.forEach(e,function(n){Ue(n)||(Qb.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Qv=r,VA=e,r};function In(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Hi(i)}):n=[Hi(e)],H1(t).forEach(function(i){var a=fn(i,"type.displayName")||fn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function on(t,e){var r=In(t,e);return r&&r[0]}var UA=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!le(n)||n<=0||!le(i)||i<=0)},eQ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tQ=function(e){return e&&e.type&&Nd(e.type)&&eQ.indexOf(e.type)>=0},rQ=function(e,r,n,i){var a,o=(a=Yv==null?void 0:Yv[i])!==null&&a!==void 0?a:[];return!De(e)&&(i&&o.includes(r)||XY.includes(r))||n&&W1.includes(r)},Oe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!bc(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;rQ((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},ex=function t(e,r){if(e===r)return!0;var n=D.Children.count(e);if(n!==D.Children.count(r))return!1;if(n===0)return!0;if(n===1)return BA(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!BA(a,o))return!1}return!0},BA=function(e,r){if(Ue(e)&&Ue(r))return!0;if(!Ue(e)&&!Ue(r)){var n=e.props||{},i=n.children,a=LA(n,QY),o=r.props||{},s=o.children,l=LA(o,JY);return i&&s?Sl(a,l)&&ex(i,s):!i&&!s?Sl(a,l):!1}return!1},zA=function(e,r){var n=[],i={};return H1(e).forEach(function(a,o){if(tQ(a))n.push(a);else if(a){var s=Hi(a.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(a,s,o);n.push(f),i[s]=!0}}}),n},nQ=function(e){var r=e&&e.type;return r&&FA[r]?FA[r]:null},iQ=function(e,r){return H1(r).indexOf(e)},aQ=["children","width","height","viewBox","className","style","title","desc"];function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tx.apply(this,arguments)}function oQ(t,e){if(t==null)return{};var r=sQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sQ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rx(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=oQ(t,aQ),u=i||{width:r,height:n,x:0,y:0},f=Ve("recharts-surface",a);return $.createElement("svg",tx({},Oe(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),$.createElement("title",null,s),$.createElement("desc",null,l),e)}var lQ=["children","className"];function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nx.apply(this,arguments)}function cQ(t,e){if(t==null)return{};var r=uQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uQ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var nt=$.forwardRef(function(t,e){var r=t.children,n=t.className,i=cQ(t,lQ),a=Ve("recharts-layer",n);return $.createElement("g",nx({className:a},Oe(i,!0),{ref:e}),r)}),Hn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function fQ(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var dQ=fQ,hQ=dQ;function pQ(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:hQ(t,e,r)}var mQ=pQ,gQ="\\ud800-\\udfff",yQ="\\u0300-\\u036f",vQ="\\ufe20-\\ufe2f",bQ="\\u20d0-\\u20ff",xQ=yQ+vQ+bQ,wQ="\\ufe0e\\ufe0f",_Q="\\u200d",kQ=RegExp("["+_Q+gQ+xQ+wQ+"]");function EQ(t){return kQ.test(t)}var bM=EQ;function SQ(t){return t.split("")}var TQ=SQ,xM="\\ud800-\\udfff",AQ="\\u0300-\\u036f",PQ="\\ufe20-\\ufe2f",IQ="\\u20d0-\\u20ff",OQ=AQ+PQ+IQ,CQ="\\ufe0e\\ufe0f",NQ="["+xM+"]",ix="["+OQ+"]",ax="\\ud83c[\\udffb-\\udfff]",RQ="(?:"+ix+"|"+ax+")",wM="[^"+xM+"]",_M="(?:\\ud83c[\\udde6-\\uddff]){2}",kM="[\\ud800-\\udbff][\\udc00-\\udfff]",jQ="\\u200d",EM=RQ+"?",SM="["+CQ+"]?",DQ="(?:"+jQ+"(?:"+[wM,_M,kM].join("|")+")"+SM+EM+")*",MQ=SM+EM+DQ,$Q="(?:"+[wM+ix+"?",ix,_M,kM,NQ].join("|")+")",LQ=RegExp(ax+"(?="+ax+")|"+$Q+MQ,"g");function FQ(t){return t.match(LQ)||[]}var VQ=FQ,UQ=TQ,BQ=bM,zQ=VQ;function qQ(t){return BQ(t)?zQ(t):UQ(t)}var WQ=qQ,HQ=mQ,KQ=bM,GQ=WQ,XQ=hM;function YQ(t){return function(e){e=XQ(e);var r=KQ(e)?GQ(e):void 0,n=r?r[0]:e.charAt(0),i=r?HQ(r,1).join(""):e.slice(1);return n[t]()+i}}var QQ=YQ,JQ=QQ,ZQ=JQ("toUpperCase"),eJ=ZQ;const gy=at(eJ);function ht(t){return function(){return t}}const TM=Math.cos,ym=Math.sin,Jn=Math.sqrt,vm=Math.PI,yy=2*vm,ox=Math.PI,sx=2*ox,jo=1e-6,tJ=sx-jo;function AM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function rJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return AM;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class nJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?AM:rJ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,c=i-r,u=o-e,f=s-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>jo)if(!(Math.abs(f*l-c*u)>jo)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,v=i-s,b=l*l+c*c,x=p*p+v*v,k=Math.sqrt(b),y=Math.sqrt(h),g=a*Math.tan((ox-Math.acos((b+h-x)/(2*k*y)))/2),_=g/y,T=g/k;Math.abs(_-1)>jo&&this._append`L${e+_*u},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*p>u*v)},${this._x1=e+T*l},${this._y1=r+T*c}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,u=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>jo||Math.abs(this._y1-u)>jo)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%sx+sx),h>tJ?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>jo&&this._append`A${n},${n},0,${+(h>=ox)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function K1(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new nJ(e)}function G1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function PM(t){this._context=t}PM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vy(t){return new PM(t)}function IM(t){return t[0]}function OM(t){return t[1]}function CM(t,e){var r=ht(!0),n=null,i=vy,a=null,o=K1(s);t=typeof t=="function"?t:t===void 0?IM:ht(t),e=typeof e=="function"?e:e===void 0?OM:ht(e);function s(l){var c,u=(l=G1(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ht(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ht(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ht(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Ch(t,e,r){var n=null,i=ht(!0),a=null,o=vy,s=null,l=K1(c);t=typeof t=="function"?t:t===void 0?IM:ht(+t),e=typeof e=="function"?e:ht(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?OM:ht(+r);function c(f){var h,p,v,b=(f=G1(f)).length,x,k=!1,y,g=new Array(b),_=new Array(b);for(a==null&&(s=o(y=l())),h=0;h<=b;++h){if(!(h<b&&i(x=f[h],h,f))===k)if(k=!k)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=p;--v)s.point(g[v],_[v]);s.lineEnd(),s.areaEnd()}k&&(g[h]=+t(x,h,f),_[h]=+e(x,h,f),s.point(n?+n(x,h,f):g[h],r?+r(x,h,f):_[h]))}if(y)return s=null,y+""||null}function u(){return CM().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:ht(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ht(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ht(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:ht(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ht(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ht(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ht(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class NM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function iJ(t){return new NM(t,!0)}function aJ(t){return new NM(t,!1)}const X1={draw(t,e){const r=Jn(e/vm);t.moveTo(r,0),t.arc(0,0,r,0,yy)}},oJ={draw(t,e){const r=Jn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},RM=Jn(1/3),sJ=RM*2,lJ={draw(t,e){const r=Jn(e/sJ),n=r*RM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},cJ={draw(t,e){const r=Jn(e),n=-r/2;t.rect(n,n,r,r)}},uJ=.8908130915292852,jM=ym(vm/10)/ym(7*vm/10),fJ=ym(yy/10)*jM,dJ=-TM(yy/10)*jM,hJ={draw(t,e){const r=Jn(e*uJ),n=fJ*r,i=dJ*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=yy*a/5,s=TM(o),l=ym(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},Jv=Jn(3),pJ={draw(t,e){const r=-Jn(e/(Jv*3));t.moveTo(0,r*2),t.lineTo(-Jv*r,-r),t.lineTo(Jv*r,-r),t.closePath()}},gn=-.5,yn=Jn(3)/2,lx=1/Jn(12),mJ=(lx/2+1)*3,gJ={draw(t,e){const r=Jn(e/mJ),n=r/2,i=r*lx,a=n,o=r*lx+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(gn*n-yn*i,yn*n+gn*i),t.lineTo(gn*a-yn*o,yn*a+gn*o),t.lineTo(gn*s-yn*l,yn*s+gn*l),t.lineTo(gn*n+yn*i,gn*i-yn*n),t.lineTo(gn*a+yn*o,gn*o-yn*a),t.lineTo(gn*s+yn*l,gn*l-yn*s),t.closePath()}};function yJ(t,e){let r=null,n=K1(i);t=typeof t=="function"?t:ht(t||X1),e=typeof e=="function"?e:ht(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ht(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ht(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function bm(){}function xm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function DM(t){this._context=t}DM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vJ(t){return new DM(t)}function MM(t){this._context=t}MM.prototype={areaStart:bm,areaEnd:bm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bJ(t){return new MM(t)}function $M(t){this._context=t}$M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xJ(t){return new $M(t)}function LM(t){this._context=t}LM.prototype={areaStart:bm,areaEnd:bm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function wJ(t){return new LM(t)}function qA(t){return t<0?-1:1}function WA(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(qA(a)+qA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function HA(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Zv(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function wm(t){this._context=t}wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zv(this,this._t0,HA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zv(this,HA(this,r=WA(this,t,e)),r);break;default:Zv(this,this._t0,r=WA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function FM(t){this._context=new VM(t)}(FM.prototype=Object.create(wm.prototype)).point=function(t,e){wm.prototype.point.call(this,e,t)};function VM(t){this._context=t}VM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function _J(t){return new wm(t)}function kJ(t){return new FM(t)}function UM(t){this._context=t}UM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=KA(t),i=KA(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function KA(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function EJ(t){return new UM(t)}function by(t,e){this._context=t,this._t=e}by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function SJ(t){return new by(t,.5)}function TJ(t){return new by(t,0)}function AJ(t){return new by(t,1)}function ql(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function cx(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function PJ(t,e){return t[e]}function IJ(t){const e=[];return e.key=t,e}function OJ(){var t=ht([]),e=cx,r=ql,n=PJ;function i(a){var o=Array.from(t.apply(this,arguments),IJ),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,a)]).data=f;for(s=0,u=G1(e(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ht(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ht(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?cx:typeof a=="function"?a:ht(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??ql,i):r},i}function CJ(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}ql(t,e)}}function NJ(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}ql(t,e)}}function RJ(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,v=0;v<s;++v){var b=t[e[v]],x=b[n][1]||0,k=b[n-1][1]||0;p+=x-k}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,ql(t,e)}}function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}var jJ=["type","size","sizeType"];function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ux.apply(this,arguments)}function GA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(r),!0).forEach(function(n){DJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DJ(t,e,r){return e=MJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MJ(t){var e=$J(t,"string");return Tf(e)=="symbol"?e:String(e)}function $J(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LJ(t,e){if(t==null)return{};var r=FJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FJ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var BM={symbolCircle:X1,symbolCross:oJ,symbolDiamond:lJ,symbolSquare:cJ,symbolStar:hJ,symbolTriangle:pJ,symbolWye:gJ},VJ=Math.PI/180,UJ=function(e){var r="symbol".concat(gy(e));return BM[r]||X1},BJ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*VJ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zJ=function(e,r){BM["symbol".concat(gy(e))]=r},Y1=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=LJ(e,jJ),c=XA(XA({},l),{},{type:n,size:a,sizeType:s}),u=function(){var x=UJ(n),k=yJ().type(x).size(BJ(a,s,n));return k()},f=c.className,h=c.cx,p=c.cy,v=Oe(c,!0);return h===+h&&p===+p&&a===+a?$.createElement("path",ux({},v,{className:Ve("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};Y1.registerSymbol=zJ;function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fx.apply(this,arguments)}function YA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(r),!0).forEach(function(n){Af(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qM(n.key),n)}}function KJ(t,e,r){return e&&HJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GJ(t,e,r){return e=_m(e),XJ(t,zM()?Reflect.construct(e,r||[],_m(t).constructor):e.apply(t,r))}function XJ(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YJ(t)}function YJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zM=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(t)}function QJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dx(t,e)}function Af(t,e,r){return e=qM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qM(t){var e=JJ(t,"string");return Wl(e)=="symbol"?e:String(e)}function JJ(t,e){if(Wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vn=32,Q1=function(t){QJ(e,t);function e(){return WJ(this,e),GJ(this,e,arguments)}return KJ(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=vn/2,o=vn/6,s=vn/3,l=n.inactive?i:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:vn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(vn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(vn/8,"h").concat(vn,"v").concat(vn*3/4,"h").concat(-vn,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var c=qJ({},n);return delete c.legendIcon,$.cloneElement(n.legendIcon,c)}return $.createElement(Y1,{fill:l,cx:a,cy:a,size:vn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:vn,height:vn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var b=p.formatter||l,x=Ve(Af(Af({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var k=De(p.value)?null:p.value;Hn(!De(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?c:p.color;return $.createElement("li",fx({className:x,style:f,key:"legend-item-".concat(v)},fs(n.props,p,v)),$.createElement(rx,{width:o,height:o,viewBox:u,style:h},n.renderIcon(p)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b?b(k,p,v):k))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}]),e}(D.PureComponent);Af(Q1,"displayName","Legend");Af(Q1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ZJ=ny;function eZ(){this.__data__=new ZJ,this.size=0}var tZ=eZ;function rZ(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var nZ=rZ;function iZ(t){return this.__data__.get(t)}var aZ=iZ;function oZ(t){return this.__data__.has(t)}var sZ=oZ,lZ=ny,cZ=$1,uZ=L1,fZ=200;function dZ(t,e){var r=this.__data__;if(r instanceof lZ){var n=r.__data__;if(!cZ||n.length<fZ-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new uZ(n)}return r.set(t,e),this.size=r.size,this}var hZ=dZ,pZ=ny,mZ=tZ,gZ=nZ,yZ=aZ,vZ=sZ,bZ=hZ;function kc(t){var e=this.__data__=new pZ(t);this.size=e.size}kc.prototype.clear=mZ;kc.prototype.delete=gZ;kc.prototype.get=yZ;kc.prototype.has=vZ;kc.prototype.set=bZ;var WM=kc,xZ="__lodash_hash_undefined__";function wZ(t){return this.__data__.set(t,xZ),this}var _Z=wZ;function kZ(t){return this.__data__.has(t)}var EZ=kZ,SZ=L1,TZ=_Z,AZ=EZ;function km(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new SZ;++e<r;)this.add(t[e])}km.prototype.add=km.prototype.push=TZ;km.prototype.has=AZ;var HM=km;function PZ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var KM=PZ;function IZ(t,e){return t.has(e)}var GM=IZ,OZ=HM,CZ=KM,NZ=GM,RZ=1,jZ=2;function DZ(t,e,r,n,i,a){var o=r&RZ,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=r&jZ?new OZ:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],b=e[f];if(n)var x=o?n(b,v,f,e,t,a):n(v,b,f,t,e,a);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!CZ(e,function(k,y){if(!NZ(p,y)&&(v===k||i(v,k,r,n,a)))return p.push(y)})){h=!1;break}}else if(!(v===b||i(v,b,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var XM=DZ,MZ=_i,$Z=MZ.Uint8Array,LZ=$Z;function FZ(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var VZ=FZ;function UZ(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var J1=UZ,QA=Cd,JA=LZ,BZ=M1,zZ=XM,qZ=VZ,WZ=J1,HZ=1,KZ=2,GZ="[object Boolean]",XZ="[object Date]",YZ="[object Error]",QZ="[object Map]",JZ="[object Number]",ZZ="[object RegExp]",eee="[object Set]",tee="[object String]",ree="[object Symbol]",nee="[object ArrayBuffer]",iee="[object DataView]",ZA=QA?QA.prototype:void 0,e0=ZA?ZA.valueOf:void 0;function aee(t,e,r,n,i,a,o){switch(r){case iee:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nee:return!(t.byteLength!=e.byteLength||!a(new JA(t),new JA(e)));case GZ:case XZ:case JZ:return BZ(+t,+e);case YZ:return t.name==e.name&&t.message==e.message;case ZZ:case tee:return t==e+"";case QZ:var s=qZ;case eee:var l=n&HZ;if(s||(s=WZ),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;n|=KZ,o.set(t,e);var u=zZ(s(t),s(e),n,i,a,o);return o.delete(t),u;case ree:if(e0)return e0.call(t)==e0.call(e)}return!1}var oee=aee;function see(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var YM=see,lee=YM,cee=tn;function uee(t,e,r){var n=e(t);return cee(t)?n:lee(n,r(t))}var fee=uee;function dee(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var hee=dee;function pee(){return[]}var mee=pee,gee=hee,yee=mee,vee=Object.prototype,bee=vee.propertyIsEnumerable,e2=Object.getOwnPropertySymbols,xee=e2?function(t){return t==null?[]:(t=Object(t),gee(e2(t),function(e){return bee.call(t,e)}))}:yee,wee=xee;function _ee(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var kee=_ee,Eee=ua,See=fa,Tee="[object Arguments]";function Aee(t){return See(t)&&Eee(t)==Tee}var Pee=Aee,t2=Pee,Iee=fa,QM=Object.prototype,Oee=QM.hasOwnProperty,Cee=QM.propertyIsEnumerable,Nee=t2(function(){return arguments}())?t2:function(t){return Iee(t)&&Oee.call(t,"callee")&&!Cee.call(t,"callee")},Z1=Nee,Em={exports:{}};function Ree(){return!1}var jee=Ree;Em.exports;(function(t,e){var r=_i,n=jee,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(Em,Em.exports);var JM=Em.exports,Dee=9007199254740991,Mee=/^(?:0|[1-9]\d*)$/;function $ee(t,e){var r=typeof t;return e=e??Dee,!!e&&(r=="number"||r!="symbol"&&Mee.test(t))&&t>-1&&t%1==0&&t<e}var ek=$ee,Lee=9007199254740991;function Fee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Lee}var tk=Fee,Vee=ua,Uee=tk,Bee=fa,zee="[object Arguments]",qee="[object Array]",Wee="[object Boolean]",Hee="[object Date]",Kee="[object Error]",Gee="[object Function]",Xee="[object Map]",Yee="[object Number]",Qee="[object Object]",Jee="[object RegExp]",Zee="[object Set]",ete="[object String]",tte="[object WeakMap]",rte="[object ArrayBuffer]",nte="[object DataView]",ite="[object Float32Array]",ate="[object Float64Array]",ote="[object Int8Array]",ste="[object Int16Array]",lte="[object Int32Array]",cte="[object Uint8Array]",ute="[object Uint8ClampedArray]",fte="[object Uint16Array]",dte="[object Uint32Array]",xt={};xt[ite]=xt[ate]=xt[ote]=xt[ste]=xt[lte]=xt[cte]=xt[ute]=xt[fte]=xt[dte]=!0;xt[zee]=xt[qee]=xt[rte]=xt[Wee]=xt[nte]=xt[Hee]=xt[Kee]=xt[Gee]=xt[Xee]=xt[Yee]=xt[Qee]=xt[Jee]=xt[Zee]=xt[ete]=xt[tte]=!1;function hte(t){return Bee(t)&&Uee(t.length)&&!!xt[Vee(t)]}var pte=hte;function mte(t){return function(e){return t(e)}}var ZM=mte,Sm={exports:{}};Sm.exports;(function(t,e){var r=sM,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Sm,Sm.exports);var gte=Sm.exports,yte=pte,vte=ZM,r2=gte,n2=r2&&r2.isTypedArray,bte=n2?vte(n2):yte,e$=bte,xte=kee,wte=Z1,_te=tn,kte=JM,Ete=ek,Ste=e$,Tte=Object.prototype,Ate=Tte.hasOwnProperty;function Pte(t,e){var r=_te(t),n=!r&&wte(t),i=!r&&!n&&kte(t),a=!r&&!n&&!i&&Ste(t),o=r||n||i||a,s=o?xte(t.length,String):[],l=s.length;for(var c in t)(e||Ate.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ete(c,l)))&&s.push(c);return s}var Ite=Pte,Ote=Object.prototype;function Cte(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Ote;return t===r}var Nte=Cte;function Rte(t,e){return function(r){return t(e(r))}}var t$=Rte,jte=t$,Dte=jte(Object.keys,Object),Mte=Dte,$te=Nte,Lte=Mte,Fte=Object.prototype,Vte=Fte.hasOwnProperty;function Ute(t){if(!$te(t))return Lte(t);var e=[];for(var r in Object(t))Vte.call(t,r)&&r!="constructor"&&e.push(r);return e}var Bte=Ute,zte=D1,qte=tk;function Wte(t){return t!=null&&qte(t.length)&&!zte(t)}var Dd=Wte,Hte=Ite,Kte=Bte,Gte=Dd;function Xte(t){return Gte(t)?Hte(t):Kte(t)}var xy=Xte,Yte=fee,Qte=wee,Jte=xy;function Zte(t){return Yte(t,Jte,Qte)}var ere=Zte,i2=ere,tre=1,rre=Object.prototype,nre=rre.hasOwnProperty;function ire(t,e,r,n,i,a){var o=r&tre,s=i2(t),l=s.length,c=i2(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:nre.call(e,h)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var b=!0;a.set(t,e),a.set(e,t);for(var x=o;++f<l;){h=s[f];var k=t[h],y=e[h];if(n)var g=o?n(y,k,h,e,t,a):n(k,y,h,t,e,a);if(!(g===void 0?k===y||i(k,y,r,n,a):g)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var _=t.constructor,T=e.constructor;_!=T&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof T=="function"&&T instanceof T)&&(b=!1)}return a.delete(t),a.delete(e),b}var are=ire,ore=Ts,sre=_i,lre=ore(sre,"DataView"),cre=lre,ure=Ts,fre=_i,dre=ure(fre,"Promise"),hre=dre,pre=Ts,mre=_i,gre=pre(mre,"Set"),r$=gre,yre=Ts,vre=_i,bre=yre(vre,"WeakMap"),xre=bre,hx=cre,px=$1,mx=hre,gx=r$,yx=xre,n$=ua,Ec=cM,a2="[object Map]",wre="[object Object]",o2="[object Promise]",s2="[object Set]",l2="[object WeakMap]",c2="[object DataView]",_re=Ec(hx),kre=Ec(px),Ere=Ec(mx),Sre=Ec(gx),Tre=Ec(yx),Do=n$;(hx&&Do(new hx(new ArrayBuffer(1)))!=c2||px&&Do(new px)!=a2||mx&&Do(mx.resolve())!=o2||gx&&Do(new gx)!=s2||yx&&Do(new yx)!=l2)&&(Do=function(t){var e=n$(t),r=e==wre?t.constructor:void 0,n=r?Ec(r):"";if(n)switch(n){case _re:return c2;case kre:return a2;case Ere:return o2;case Sre:return s2;case Tre:return l2}return e});var Are=Do,t0=WM,Pre=XM,Ire=oee,Ore=are,u2=Are,f2=tn,d2=JM,Cre=e$,Nre=1,h2="[object Arguments]",p2="[object Array]",Nh="[object Object]",Rre=Object.prototype,m2=Rre.hasOwnProperty;function jre(t,e,r,n,i,a){var o=f2(t),s=f2(e),l=o?p2:u2(t),c=s?p2:u2(e);l=l==h2?Nh:l,c=c==h2?Nh:c;var u=l==Nh,f=c==Nh,h=l==c;if(h&&d2(t)){if(!d2(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new t0),o||Cre(t)?Pre(t,e,r,n,i,a):Ire(t,e,l,r,n,i,a);if(!(r&Nre)){var p=u&&m2.call(t,"__wrapped__"),v=f&&m2.call(e,"__wrapped__");if(p||v){var b=p?t.value():t,x=v?e.value():e;return a||(a=new t0),i(b,x,r,n,a)}}return h?(a||(a=new t0),Ore(t,e,r,n,i,a)):!1}var Dre=jre,Mre=Dre,g2=fa;function i$(t,e,r,n,i){return t===e?!0:t==null||e==null||!g2(t)&&!g2(e)?t!==t&&e!==e:Mre(t,e,r,n,i$,i)}var rk=i$,$re=WM,Lre=rk,Fre=1,Vre=2;function Ure(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],c=t[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new $re;if(n)var h=n(c,u,l,t,e,f);if(!(h===void 0?Lre(u,c,Fre|Vre,n,f):h))return!1}}return!0}var Bre=Ure,zre=bo;function qre(t){return t===t&&!zre(t)}var a$=qre,Wre=a$,Hre=xy;function Kre(t){for(var e=Hre(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Wre(i)]}return e}var Gre=Kre;function Xre(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var o$=Xre,Yre=Bre,Qre=Gre,Jre=o$;function Zre(t){var e=Qre(t);return e.length==1&&e[0][2]?Jre(e[0][0],e[0][1]):function(r){return r===t||Yre(r,t,e)}}var ene=Zre;function tne(t,e){return t!=null&&e in Object(t)}var rne=tne,nne=pM,ine=Z1,ane=tn,one=ek,sne=tk,lne=ay;function cne(t,e,r){e=nne(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=lne(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&sne(i)&&one(o,i)&&(ane(t)||ine(t)))}var une=cne,fne=rne,dne=une;function hne(t,e){return t!=null&&dne(t,e,fne)}var pne=hne,mne=rk,gne=mM,yne=pne,vne=j1,bne=a$,xne=o$,wne=ay,_ne=1,kne=2;function Ene(t,e){return vne(t)&&bne(e)?xne(wne(t),e):function(r){var n=gne(r,t);return n===void 0&&n===e?yne(r,t):mne(e,n,_ne|kne)}}var Sne=Ene;function Tne(t){return t}var Sc=Tne;function Ane(t){return function(e){return e==null?void 0:e[t]}}var Pne=Ane,Ine=U1;function One(t){return function(e){return Ine(e,t)}}var Cne=One,Nne=Pne,Rne=Cne,jne=j1,Dne=ay;function Mne(t){return jne(t)?Nne(Dne(t)):Rne(t)}var $ne=Mne,Lne=ene,Fne=Sne,Vne=Sc,Une=tn,Bne=$ne;function zne(t){return typeof t=="function"?t:t==null?Vne:typeof t=="object"?Une(t)?Fne(t[0],t[1]):Lne(t):Bne(t)}var ki=zne;function qne(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var s$=qne;function Wne(t){return t!==t}var Hne=Wne;function Kne(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Gne=Kne,Xne=s$,Yne=Hne,Qne=Gne;function Jne(t,e,r){return e===e?Qne(t,e,r):Xne(t,Yne,r)}var Zne=Jne,eie=Zne;function tie(t,e){var r=t==null?0:t.length;return!!r&&eie(t,e,0)>-1}var rie=tie;function nie(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var iie=nie;function aie(){}var oie=aie,r0=r$,sie=oie,lie=J1,cie=1/0,uie=r0&&1/lie(new r0([,-0]))[1]==cie?function(t){return new r0(t)}:sie,fie=uie,die=HM,hie=rie,pie=iie,mie=GM,gie=fie,yie=J1,vie=200;function bie(t,e,r){var n=-1,i=hie,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=pie;else if(a>=vie){var c=e?null:gie(t);if(c)return yie(c);o=!1,i=mie,l=new die}else l=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(u)}else i(l,f,r)||(l!==s&&l.push(f),s.push(u))}return s}var xie=bie,wie=ki,_ie=xie;function kie(t,e){return t&&t.length?_ie(t,wie(e)):[]}var Eie=kie;const y2=at(Eie);function l$(t,e,r){return e===!0?y2(t,r):De(e)?y2(t,e):t}function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}var Sie=["ref"];function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Po(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){wy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f$(n.key),n)}}function Aie(t,e,r){return e&&b2(t.prototype,e),r&&b2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pie(t,e,r){return e=Tm(e),Iie(t,c$()?Reflect.construct(e,r||[],Tm(t).constructor):e.apply(t,r))}function Iie(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u$(t)}function c$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c$=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(t)}function u$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vx(t,e)}function vx(t,e){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vx(t,e)}function wy(t,e,r){return e=f$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f$(t){var e=Cie(t,"string");return Hl(e)=="symbol"?e:String(e)}function Cie(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nie(t,e){if(t==null)return{};var r=Rie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rie(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function jie(t){return t.value}function Die(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var r=Nie(e,Sie);return $.createElement(Q1,r)}var x2=1,Pf=function(t){Oie(e,t);function e(){var r;Tie(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Pie(this,e,[].concat(i)),wy(u$(r),"lastBoundingBox",{width:-1,height:-1}),r}return Aie(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>x2||Math.abs(i.height-this.lastBoundingBox.height)>x2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Po({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((u||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Po(Po({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Po(Po({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Die(a,Po(Po({},this.props),{},{payload:l$(u,c,jie)})))}}],[{key:"getWithHeight",value:function(n,i){var a=n.props.layout;return a==="vertical"&&le(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}]),e}(D.PureComponent);wy(Pf,"displayName","Legend");wy(Pf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var w2=Cd,Mie=Z1,$ie=tn,_2=w2?w2.isConcatSpreadable:void 0;function Lie(t){return $ie(t)||Mie(t)||!!(_2&&t&&t[_2])}var Fie=Lie,Vie=YM,Uie=Fie;function d$(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=Uie),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?d$(s,e-1,r,n,i):Vie(i,s):n||(i[i.length]=s)}return i}var h$=d$;function Bie(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var zie=Bie,qie=zie,Wie=qie(),Hie=Wie,Kie=Hie,Gie=xy;function Xie(t,e){return t&&Kie(t,e,Gie)}var p$=Xie,Yie=Dd;function Qie(t,e){return function(r,n){if(r==null)return r;if(!Yie(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var Jie=Qie,Zie=p$,eae=Jie,tae=eae(Zie),nk=tae,rae=nk,nae=Dd;function iae(t,e){var r=-1,n=nae(t)?Array(t.length):[];return rae(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var m$=iae;function aae(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var oae=aae,k2=vc;function sae(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=k2(t),o=e!==void 0,s=e===null,l=e===e,c=k2(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var lae=sae,cae=lae;function uae(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=cae(i[n],a[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var fae=uae,n0=V1,dae=U1,hae=ki,pae=m$,mae=oae,gae=ZM,yae=fae,vae=Sc,bae=tn;function xae(t,e,r){e.length?e=n0(e,function(a){return bae(a)?function(o){return dae(o,a.length===1?a[0]:a)}:a}):e=[vae];var n=-1;e=n0(e,gae(hae));var i=pae(t,function(a,o,s){var l=n0(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return mae(i,function(a,o){return yae(a,o,r)})}var wae=xae;function _ae(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var kae=_ae,Eae=kae,E2=Math.max;function Sae(t,e,r){return e=E2(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=E2(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),Eae(t,this,s)}}var Tae=Sae;function Aae(t){return function(){return t}}var Pae=Aae,Iae=Ts,Oae=function(){try{var t=Iae(Object,"defineProperty");return t({},"",{}),t}catch{}}(),g$=Oae,Cae=Pae,S2=g$,Nae=Sc,Rae=S2?function(t,e){return S2(t,"toString",{configurable:!0,enumerable:!1,value:Cae(e),writable:!0})}:Nae,jae=Rae,Dae=800,Mae=16,$ae=Date.now;function Lae(t){var e=0,r=0;return function(){var n=$ae(),i=Mae-(n-r);if(r=n,i>0){if(++e>=Dae)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Fae=Lae,Vae=jae,Uae=Fae,Bae=Uae(Vae),zae=Bae,qae=Sc,Wae=Tae,Hae=zae;function Kae(t,e){return Hae(Wae(t,e,qae),t+"")}var Gae=Kae,Xae=M1,Yae=Dd,Qae=ek,Jae=bo;function Zae(t,e,r){if(!Jae(r))return!1;var n=typeof e;return(n=="number"?Yae(r)&&Qae(e,r.length):n=="string"&&e in r)?Xae(r[e],t):!1}var _y=Zae,eoe=h$,toe=wae,roe=Gae,T2=_y,noe=roe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&T2(t,e[0],e[1])?e=[]:r>2&&T2(e[0],e[1],e[2])&&(e=[e[0]]),toe(t,eoe(e,1),[])}),ioe=noe;const ik=at(ioe);function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bx.apply(this,arguments)}function aoe(t,e){return coe(t)||loe(t,e)||soe(t,e)||ooe()}function ooe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function soe(t,e){if(t){if(typeof t=="string")return A2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A2(t,e)}}function A2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function loe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function coe(t){if(Array.isArray(t))return t}function P2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(r),!0).forEach(function(n){uoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uoe(t,e,r){return e=foe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function foe(t){var e=doe(t,"string");return If(e)=="symbol"?e:String(e)}function doe(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hoe(t){return Array.isArray(t)&&Jt(t[0])&&Jt(t[1])?t.join(" ~ "):t}var poe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,b=e.label,x=e.labelFormatter,k=e.accessibilityLayer,y=k===void 0?!1:k,g=function(){if(u&&u.length){var N={padding:0,margin:0},P=(h?ik(u,h):u).map(function(F,B){if(F.type==="none")return null;var W=i0({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),X=F.formatter||f||hoe,U=F.value,Y=F.name,te=U,ce=Y;if(X&&te!=null&&ce!=null){var ae=X(U,Y,F,B,u);if(Array.isArray(ae)){var se=aoe(ae,2);te=se[0],ce=se[1]}else te=ae}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:W},Jt(ce)?$.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,Jt(ce)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},te),$.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:N},P)}return null},_=i0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=i0({margin:0},c),I=!Ue(b),E=I?b:"",S=Ve("recharts-default-tooltip",p),O=Ve("recharts-tooltip-label",v);I&&x&&u!==void 0&&u!==null&&(E=x(b,u));var C=y?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",bx({className:S,style:_},C),$.createElement("p",{className:O,style:T},$.isValidElement(E)?E:"".concat(E)),g())};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function Rh(t,e,r){return e=moe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function moe(t){var e=goe(t,"string");return Of(e)=="symbol"?e:String(e)}function goe(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ru="recharts-tooltip-wrapper",yoe={visibility:"hidden"};function voe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ve(ru,Rh(Rh(Rh(Rh({},"".concat(ru,"-right"),le(r)&&e&&le(e.x)&&r>=e.x),"".concat(ru,"-left"),le(r)&&e&&le(e.x)&&r<e.x),"".concat(ru,"-bottom"),le(n)&&e&&le(e.y)&&n>=e.y),"".concat(ru,"-top"),le(n)&&e&&le(e.y)&&n<e.y))}function I2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&le(a[n]))return a[n];var u=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?u:f;if(o[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var v=f+s,b=l[n]+c;return v>b?Math.max(u,l[n]):Math.max(f,l[n])}function boe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function xoe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return o.height>0&&o.width>0&&r?(u=I2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=I2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=boe({translateX:u,translateY:f,useTranslate3d:s})):c=yoe,{cssProperties:c,cssClasses:voe({translateX:u,translateY:f,coordinate:r})}}function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function O2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(r),!0).forEach(function(n){_x(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function woe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v$(n.key),n)}}function koe(t,e,r){return e&&_oe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eoe(t,e,r){return e=Am(e),Soe(t,y$()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function Soe(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xx(t)}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function xx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Toe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wx(t,e)}function wx(t,e){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wx(t,e)}function _x(t,e,r){return e=v$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v$(t){var e=Aoe(t,"string");return Kl(e)=="symbol"?e:String(e)}function Aoe(t,e){if(Kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N2=1,Poe=function(t){Toe(e,t);function e(){var r;woe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Eoe(this,e,[].concat(i)),_x(xx(r),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_x(xx(r),"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return koe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>N2||Math.abs(n.height-this.state.lastBoundingBox.height)>N2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,k=i.viewBox,y=i.wrapperStyle,g=xoe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:k}),_=g.cssClasses,T=g.cssProperties,I=C2(C2({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return $.createElement("div",{tabIndex:-1,className:_,style:I,ref:function(S){n.wrapperNode=S}},c)}}]),e}(D.PureComponent),Ioe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ki={isSsr:Ioe(),get:function(e){return Ki[e]},set:function(e,r){if(typeof e=="string")Ki[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Ki[i]=e[i]})}}};function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function R2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(r),!0).forEach(function(n){ak(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ooe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Coe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x$(n.key),n)}}function Noe(t,e,r){return e&&Coe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Roe(t,e,r){return e=Pm(e),joe(t,b$()?Reflect.construct(e,r||[],Pm(t).constructor):e.apply(t,r))}function joe(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Doe(t)}function Doe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(t)}function Moe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kx(t,e)}function kx(t,e){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kx(t,e)}function ak(t,e,r){return e=x$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x$(t){var e=$oe(t,"string");return Gl(e)=="symbol"?e:String(e)}function $oe(t,e){if(Gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Loe(t){return t.dataKey}function Foe(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(poe,e)}var ni=function(t){Moe(e,t);function e(){return Ooe(this,e),Roe(this,e,arguments)}return Noe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,b=i.payloadUniqBy,x=i.position,k=i.reverseDirection,y=i.useTranslate3d,g=i.viewBox,_=i.wrapperStyle,T=v??[];f&&T.length&&(T=l$(v.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),b,Loe));var I=T.length>0;return $.createElement(Poe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:I,offset:p,position:x,reverseDirection:k,useTranslate3d:y,viewBox:g,wrapperStyle:_},Foe(c,j2(j2({},this.props),{},{payload:T})))}}]),e}(D.PureComponent);ak(ni,"displayName","Tooltip");ak(ni,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ki.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Voe=_i,Uoe=function(){return Voe.Date.now()},Boe=Uoe,zoe=/\s/;function qoe(t){for(var e=t.length;e--&&zoe.test(t.charAt(e)););return e}var Woe=qoe,Hoe=Woe,Koe=/^\s+/;function Goe(t){return t&&t.slice(0,Hoe(t)+1).replace(Koe,"")}var Xoe=Goe,Yoe=Xoe,D2=bo,Qoe=vc,M2=NaN,Joe=/^[-+]0x[0-9a-f]+$/i,Zoe=/^0b[01]+$/i,ese=/^0o[0-7]+$/i,tse=parseInt;function rse(t){if(typeof t=="number")return t;if(Qoe(t))return M2;if(D2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=D2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Yoe(t);var r=Zoe.test(t);return r||ese.test(t)?tse(t.slice(2),r?2:8):Joe.test(t)?M2:+t}var w$=rse,nse=bo,a0=Boe,$2=w$,ise="Expected a function",ase=Math.max,ose=Math.min;function sse(t,e,r){var n,i,a,o,s,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(ise);e=$2(e)||0,nse(r)&&(u=!!r.leading,f="maxWait"in r,a=f?ase($2(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(I){var E=n,S=i;return n=i=void 0,c=I,o=t.apply(S,E),o}function v(I){return c=I,s=setTimeout(k,e),u?p(I):o}function b(I){var E=I-l,S=I-c,O=e-E;return f?ose(O,a-S):O}function x(I){var E=I-l,S=I-c;return l===void 0||E>=e||E<0||f&&S>=a}function k(){var I=a0();if(x(I))return y(I);s=setTimeout(k,b(I))}function y(I){return s=void 0,h&&n?p(I):(n=i=void 0,o)}function g(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function _(){return s===void 0?o:y(a0())}function T(){var I=a0(),E=x(I);if(n=arguments,i=this,l=I,E){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(k,e),p(l)}return s===void 0&&(s=setTimeout(k,e)),o}return T.cancel=g,T.flush=_,T}var lse=sse,cse=lse,use=bo,fse="Expected a function";function dse(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(fse);return use(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),cse(t,e,{leading:n,maxWait:e,trailing:i})}var hse=dse;const _$=at(hse);function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function L2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(r),!0).forEach(function(n){pse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pse(t,e,r){return e=mse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mse(t){var e=gse(t,"string");return Cf(e)=="symbol"?e:String(e)}function gse(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yse(t,e){return wse(t)||xse(t,e)||bse(t,e)||vse()}function vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bse(t,e){if(t){if(typeof t=="string")return F2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function wse(t){if(Array.isArray(t))return t}var ok=D.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,b=v===void 0?0:v,x=t.id,k=t.className,y=t.onResize,g=t.style,_=g===void 0?{}:g,T=D.useRef(null),I=D.useRef();I.current=y,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=D.useState({containerWidth:i.width,containerHeight:i.height}),S=yse(E,2),O=S[0],C=S[1],R=D.useCallback(function(P,F){C(function(B){var W=Math.round(P),X=Math.round(F);return B.containerWidth===W&&B.containerHeight===X?B:{containerWidth:W,containerHeight:X}})},[]);D.useEffect(function(){var P=function(Y){var te,ce=Y[0].contentRect,ae=ce.width,se=ce.height;R(ae,se),(te=I.current)===null||te===void 0||te.call(I,ae,se)};b>0&&(P=_$(P,b,{trailing:!0,leading:!1}));var F=new ResizeObserver(P),B=T.current.getBoundingClientRect(),W=B.width,X=B.height;return R(W,X),F.observe(T.current),function(){F.disconnect()}},[R,b]);var N=D.useMemo(function(){var P=O.containerWidth,F=O.containerHeight;if(P<0||F<0)return null;Hn(Bo(o)||Bo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Hn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=Bo(o)?P:o,W=Bo(l)?F:l;r&&r>0&&(B?W=B/r:W&&(B=W*r),h&&W>h&&(W=h)),Hn(B>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,W,o,l,u,f,r);var X=!Array.isArray(p)&&Qb.isElement(p)&&Hi(p.type).endsWith("Chart");return $.Children.map(p,function(U){return Qb.isElement(U)?D.cloneElement(U,jh({width:B,height:W},X?{style:jh({height:"100%",width:"100%",maxHeight:W,maxWidth:B},U.props.style)}:{})):U})},[r,p,l,h,f,u,O,o]);return $.createElement("div",{id:x?"".concat(x):void 0,className:Ve("recharts-responsive-container",k),style:jh(jh({},_),{},{width:o,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:T},N)}),Md=function(e){return null};Md.displayName="Cell";function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function V2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ex(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(r),!0).forEach(function(n){_se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _se(t,e,r){return e=kse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kse(t){var e=Ese(t,"string");return Nf(e)=="symbol"?e:String(e)}function Ese(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Us={widthCache:{},cacheCount:0},Sse=2e3,Tse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},U2="recharts_measurement_span";function Ase(t){var e=Ex({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Uu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ki.isSsr)return{width:0,height:0};var n=Ase(r),i=JSON.stringify({text:e,copyStyle:n});if(Us.widthCache[i])return Us.widthCache[i];try{var a=document.getElementById(U2);a||(a=document.createElement("span"),a.setAttribute("id",U2),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Ex(Ex({},Tse),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Us.widthCache[i]=l,++Us.cacheCount>Sse&&(Us.cacheCount=0,Us.widthCache={}),l}catch{return{width:0,height:0}}},Pse=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Im(t,e){return Nse(t)||Cse(t,e)||Ose(t,e)||Ise()}function Ise(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ose(t,e){if(t){if(typeof t=="string")return B2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B2(t,e)}}function B2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Nse(t){if(Array.isArray(t))return t}function Rse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dse(n.key),n)}}function jse(t,e,r){return e&&z2(t.prototype,e),r&&z2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dse(t){var e=Mse(t,"string");return Rf(e)=="symbol"?e:String(e)}function Mse(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var q2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,W2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$se=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Lse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,k$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fse=Object.keys(k$),cl="NaN";function Vse(t,e){return t*k$[e]}var Dh=function(){function t(e,r){Rse(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!$se.test(r)&&(this.num=NaN,this.unit=""),Fse.includes(r)&&(this.num=Vse(e,r),this.unit="px")}return jse(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Lse.exec(r))!==null&&n!==void 0?n:[],a=Im(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}]),t}();function E$(t){if(t.includes(cl))return cl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=q2.exec(e))!==null&&r!==void 0?r:[],i=Im(n,4),a=i[1],o=i[2],s=i[3],l=Dh.parse(a??""),c=Dh.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return cl;e=e.replace(q2,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=W2.exec(e))!==null&&f!==void 0?f:[],p=Im(h,4),v=p[1],b=p[2],x=p[3],k=Dh.parse(v??""),y=Dh.parse(x??""),g=b==="+"?k.add(y):k.subtract(y);if(g.isNaN())return cl;e=e.replace(W2,g.toString())}return e}var H2=/\(([^()]*)\)/;function Use(t){for(var e=t;e.includes("(");){var r=H2.exec(e),n=Im(r,2),i=n[1];e=e.replace(H2,E$(i))}return e}function Bse(t){var e=t.replace(/\s+/g,"");return e=Use(e),e=E$(e),e}function zse(t){try{return Bse(t)}catch{return cl}}function o0(t){var e=zse(t.slice(5,-1));return e===cl?"":e}var qse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Wse=["dx","dy","angle","className","breakAll"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sx.apply(this,arguments)}function K2(t,e){if(t==null)return{};var r=Hse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hse(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function G2(t,e){return Yse(t)||Xse(t,e)||Gse(t,e)||Kse()}function Kse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gse(t,e){if(t){if(typeof t=="string")return X2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X2(t,e)}}function X2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Yse(t){if(Array.isArray(t))return t}var S$=/[ \f\n\r\t\v\u2028\u2029]+/,T$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Ue(r)||(n?a=r.toString().split(""):a=r.toString().split(S$));var o=a.map(function(l){return{word:l,width:Uu(l,i).width}}),s=n?0:Uu(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Qse=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=le(o),f=s,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(W,X){var U=X.word,Y=X.width,te=W[W.length-1];if(te&&(i==null||a||te.width+Y+n<Number(i)))te.words.push(U),te.width+=Y+n;else{var ce={words:[U],width:Y};W.push(ce)}return W},[])},p=h(r),v=function(B){return B.reduce(function(W,X){return W.width>X.width?W:X})};if(!u)return p;for(var b="…",x=function(B){var W=f.slice(0,B),X=T$({breakAll:c,style:l,children:W+b}).wordsWithComputedWidth,U=h(X),Y=U.length>o||v(U).width>Number(i);return[Y,U]},k=0,y=f.length-1,g=0,_;k<=y&&g<=f.length-1;){var T=Math.floor((k+y)/2),I=T-1,E=x(I),S=G2(E,2),O=S[0],C=S[1],R=x(T),N=G2(R,1),P=N[0];if(!O&&!P&&(k=T+1),O&&P&&(y=T-1),!O&&P){_=C;break}g++}return _||p},Y2=function(e){var r=Ue(e)?[]:e.toString().split(S$);return[{words:r}]},Jse=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Ki.isSsr){var l,c,u=T$({breakAll:o,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return Y2(i);return Qse({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return Y2(i)},Q2="#808080",ds=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,x=e.fill,k=x===void 0?Q2:x,y=K2(e,qse),g=D.useMemo(function(){return Jse({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,T=y.dy,I=y.angle,E=y.className,S=y.breakAll,O=K2(y,Wse);if(!Jt(n)||!Jt(a))return null;var C=n+(le(_)?_:0),R=a+(le(T)?T:0),N;switch(b){case"start":N=o0("calc(".concat(c,")"));break;case"middle":N=o0("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:N=o0("calc(".concat(g.length-1," * -").concat(s,")"));break}var P=[];if(f){var F=g[0].width,B=y.width;P.push("scale(".concat((le(B)?B/F:1)/F,")"))}return I&&P.push("rotate(".concat(I,", ").concat(C,", ").concat(R,")")),P.length&&(O.transform=P.join(" ")),$.createElement("text",Sx({},Oe(O,!0),{x:C,y:R,className:Ve("recharts-text",E),textAnchor:p,fill:k.includes("url")?Q2:k}),g.map(function(W,X){var U=W.words.join(S?"":" ");return $.createElement("tspan",{x:C,dy:X===0?N:s,key:U},U)}))};function eo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sk(t){let e,r,n;t.length!==2?(e=eo,r=(s,l)=>eo(t(s),l),n=(s,l)=>t(s)-l):(e=t===eo||t===Zse?t:ele,r=t,n=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function ele(){return 0}function A$(t){return t===null?NaN:+t}function*tle(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const rle=sk(eo),$d=rle.right;sk(A$).center;class J2 extends Map{constructor(e,r=ale){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Z2(this,e))}has(e){return super.has(Z2(this,e))}set(e,r){return super.set(nle(this,e),r)}delete(e){return super.delete(ile(this,e))}}function Z2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function nle({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function ile({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function ale(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ole(t=eo){if(t===eo)return P$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function P$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const sle=Math.sqrt(50),lle=Math.sqrt(10),cle=Math.sqrt(2);function Om(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=sle?10:a>=lle?5:a>=cle?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?Om(t,e,r*2):[s,l,c]}function Tx(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Om(e,t,r):Om(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Ax(t,e,r){return e=+e,t=+t,r=+r,Om(t,e,r)[2]}function Px(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Ax(e,t,r):Ax(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function eP(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function tP(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function I$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?P$:ole(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*f/l+h)),v=Math.min(n,Math.floor(e+(l-c)*f/l+h));I$(t,e,p,v,i)}const a=t[e];let o=r,s=n;for(nu(t,r,e),i(t[n],a)>0&&nu(t,r,n);o<s;){for(nu(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?nu(t,r,s):(++s,nu(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function nu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function ule(t,e,r){if(t=Float64Array.from(tle(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return tP(t);if(e>=1)return eP(t);var n,i=(n-1)*e,a=Math.floor(i),o=eP(I$(t,a).subarray(0,a+1)),s=tP(t.subarray(a+1));return o+(s-o)*(i-a)}}function fle(t,e,r=A$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function dle(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function jn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function da(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ix=Symbol("implicit");function lk(){var t=new J2,e=[],r=[],n=Ix;function i(a){let o=t.get(a);if(o===void 0){if(n!==Ix)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new J2;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lk(e,r).unknown(n)},jn.apply(i,arguments),i}function jf(){var t=lk().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<n,v=p?i:n,b=p?n:i;a=(b-v)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),v+=(b-v-a*(h-l))*u,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var x=dle(h).map(function(k){return v+a*k});return r(p?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return jf(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},jn.apply(f(),arguments)}function O$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return O$(e())},t}function Bu(){return O$(jf.apply(null,arguments).paddingInner(1))}function ck(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function C$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ld(){}var Df=.7,Cm=1/Df,Tl="\\s*([+-]?\\d+)\\s*",Mf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hle=/^#([0-9a-f]{3,8})$/,ple=new RegExp(`^rgb\\(${Tl},${Tl},${Tl}\\)$`),mle=new RegExp(`^rgb\\(${yi},${yi},${yi}\\)$`),gle=new RegExp(`^rgba\\(${Tl},${Tl},${Tl},${Mf}\\)$`),yle=new RegExp(`^rgba\\(${yi},${yi},${yi},${Mf}\\)$`),vle=new RegExp(`^hsl\\(${Mf},${yi},${yi}\\)$`),ble=new RegExp(`^hsla\\(${Mf},${yi},${yi},${Mf}\\)$`),rP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ck(Ld,$f,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nP,formatHex:nP,formatHex8:xle,formatHsl:wle,formatRgb:iP,toString:iP});function nP(){return this.rgb().formatHex()}function xle(){return this.rgb().formatHex8()}function wle(){return N$(this).formatHsl()}function iP(){return this.rgb().formatRgb()}function $f(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=hle.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?aP(e):r===3?new Qr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Mh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Mh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ple.exec(t))?new Qr(e[1],e[2],e[3],1):(e=mle.exec(t))?new Qr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gle.exec(t))?Mh(e[1],e[2],e[3],e[4]):(e=yle.exec(t))?Mh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vle.exec(t))?lP(e[1],e[2]/100,e[3]/100,1):(e=ble.exec(t))?lP(e[1],e[2]/100,e[3]/100,e[4]):rP.hasOwnProperty(t)?aP(rP[t]):t==="transparent"?new Qr(NaN,NaN,NaN,0):null}function aP(t){return new Qr(t>>16&255,t>>8&255,t&255,1)}function Mh(t,e,r,n){return n<=0&&(t=e=r=NaN),new Qr(t,e,r,n)}function _le(t){return t instanceof Ld||(t=$f(t)),t?(t=t.rgb(),new Qr(t.r,t.g,t.b,t.opacity)):new Qr}function Ox(t,e,r,n){return arguments.length===1?_le(t):new Qr(t,e,r,n??1)}function Qr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}ck(Qr,Ox,C$(Ld,{brighter(t){return t=t==null?Cm:Math.pow(Cm,t),new Qr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Df:Math.pow(Df,t),new Qr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qr(Yo(this.r),Yo(this.g),Yo(this.b),Nm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oP,formatHex:oP,formatHex8:kle,formatRgb:sP,toString:sP}));function oP(){return`#${zo(this.r)}${zo(this.g)}${zo(this.b)}`}function kle(){return`#${zo(this.r)}${zo(this.g)}${zo(this.b)}${zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function sP(){const t=Nm(this.opacity);return`${t===1?"rgb(":"rgba("}${Yo(this.r)}, ${Yo(this.g)}, ${Yo(this.b)}${t===1?")":`, ${t})`}`}function Nm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zo(t){return t=Yo(t),(t<16?"0":"")+t.toString(16)}function lP(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new zn(t,e,r,n)}function N$(t){if(t instanceof zn)return new zn(t.h,t.s,t.l,t.opacity);if(t instanceof Ld||(t=$f(t)),!t)return new zn;if(t instanceof zn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new zn(o,s,l,t.opacity)}function Ele(t,e,r,n){return arguments.length===1?N$(t):new zn(t,e,r,n??1)}function zn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}ck(zn,Ele,C$(Ld,{brighter(t){return t=t==null?Cm:Math.pow(Cm,t),new zn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Df:Math.pow(Df,t),new zn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Qr(s0(t>=240?t-240:t+120,i,n),s0(t,i,n),s0(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new zn(cP(this.h),$h(this.s),$h(this.l),Nm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Nm(this.opacity);return`${t===1?"hsl(":"hsla("}${cP(this.h)}, ${$h(this.s)*100}%, ${$h(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cP(t){return t=(t||0)%360,t<0?t+360:t}function $h(t){return Math.max(0,Math.min(1,t||0))}function s0(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const uk=t=>()=>t;function Sle(t,e){return function(r){return t+r*e}}function Tle(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Ale(t){return(t=+t)==1?R$:function(e,r){return r-e?Tle(e,r,t):uk(isNaN(e)?r:e)}}function R$(t,e){var r=e-t;return r?Sle(t,r):uk(isNaN(t)?e:t)}const uP=function t(e){var r=Ale(e);function n(i,a){var o=r((i=Ox(i)).r,(a=Ox(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=R$(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function Ple(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Ile(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ole(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Tc(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Cle(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Rm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Nle(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Tc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Cx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l0=new RegExp(Cx.source,"g");function Rle(t){return function(){return t}}function jle(t){return function(e){return t(e)+""}}function Dle(t,e){var r=Cx.lastIndex=l0.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=Cx.exec(t))&&(i=l0.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Rm(n,i)})),r=l0.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?jle(l[0].x):Rle(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Tc(t,e){var r=typeof e,n;return e==null||r==="boolean"?uk(e):(r==="number"?Rm:r==="string"?(n=$f(e))?(e=n,uP):Dle:e instanceof $f?uP:e instanceof Date?Cle:Ile(e)?Ple:Array.isArray(e)?Ole:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Nle:Rm)(t,e)}function fk(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Mle(t,e){e===void 0&&(e=t,t=Tc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function $le(t){return function(){return t}}function jm(t){return+t}var fP=[0,1];function Ur(t){return t}function Nx(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:$le(isNaN(e)?NaN:.5)}function Lle(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Fle(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=Nx(i,n),a=r(o,a)):(n=Nx(n,i),a=r(a,o)),function(s){return a(n(s))}}function Vle(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=Nx(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=$d(t,s,1,n)-1;return a[l](i[l](s))}}function Fd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ky(){var t=fP,e=fP,r=Tc,n,i,a,o=Ur,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==Ur&&(o=Lle(t[0],t[h-1])),s=h>2?Vle:Fle,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((c||(c=s(e,t.map(n),Rm)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,jm),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=fk,u()},f.clamp=function(h){return arguments.length?(o=h?!0:Ur,u()):o!==Ur},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,u()}}function dk(){return ky()(Ur,Ur)}function Ule(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Dm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Xl(t){return t=Dm(Math.abs(t)),t?t[1]:NaN}function Ble(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function zle(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var qle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lf(t){if(!(e=qle.exec(t)))throw new Error("invalid format: "+t);var e;return new hk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lf.prototype=hk.prototype;function hk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wle(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var j$;function Hle(t,e){var r=Dm(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(j$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Dm(t,Math.max(0,e+a-1))[0]}function dP(t,e){var r=Dm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const hP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ule,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dP(t*100,e),r:dP,s:Hle,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pP(t){return t}var mP=Array.prototype.map,gP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Kle(t){var e=t.grouping===void 0||t.thousands===void 0?pP:Ble(mP.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?pP:zle(mP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Lf(f);var h=f.fill,p=f.align,v=f.sign,b=f.symbol,x=f.zero,k=f.width,y=f.comma,g=f.precision,_=f.trim,T=f.type;T==="n"?(y=!0,T="g"):hP[T]||(g===void 0&&(g=12),_=!0,T="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var I=b==="$"?r:b==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=b==="$"?n:/[%p]/.test(T)?o:"",S=hP[T],O=/[defgprs%]/.test(T);g=g===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function C(R){var N=I,P=E,F,B,W;if(T==="c")P=S(R)+P,R="";else{R=+R;var X=R<0||1/R<0;if(R=isNaN(R)?l:S(Math.abs(R),g),_&&(R=Wle(R)),X&&+R==0&&v!=="+"&&(X=!1),N=(X?v==="("?v:s:v==="-"||v==="("?"":v)+N,P=(T==="s"?gP[8+j$/3]:"")+P+(X&&v==="("?")":""),O){for(F=-1,B=R.length;++F<B;)if(W=R.charCodeAt(F),48>W||W>57){P=(W===46?i+R.slice(F+1):R.slice(F))+P,R=R.slice(0,F);break}}}y&&!x&&(R=e(R,1/0));var U=N.length+R.length+P.length,Y=U<k?new Array(k-U+1).join(h):"";switch(y&&x&&(R=e(Y+R,Y.length?k-P.length:1/0),Y=""),p){case"<":R=N+R+P+Y;break;case"=":R=N+Y+R+P;break;case"^":R=Y.slice(0,U=Y.length>>1)+N+R+P+Y.slice(U);break;default:R=Y+N+R+P;break}return a(R)}return C.toString=function(){return f+""},C}function u(f,h){var p=c((f=Lf(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Xl(h)/3)))*3,b=Math.pow(10,-v),x=gP[8+v/3];return function(k){return p(b*k)+x}}return{format:c,formatPrefix:u}}var Lh,pk,D$;Gle({thousands:",",grouping:[3],currency:["$",""]});function Gle(t){return Lh=Kle(t),pk=Lh.format,D$=Lh.formatPrefix,Lh}function Xle(t){return Math.max(0,-Xl(Math.abs(t)))}function Yle(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xl(e)/3)))*3-Xl(Math.abs(t)))}function Qle(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xl(e)-Xl(t))+1}function M$(t,e,r,n){var i=Px(t,e,r),a;switch(n=Lf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Yle(i,o))&&(n.precision=a),D$(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Qle(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Xle(i))&&(n.precision=a-(n.type==="%")*2);break}}return pk(n)}function xo(t){var e=t.domain;return t.ticks=function(r){var n=e();return Tx(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return M$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=Ax(o,s,r),c===l)return n[i]=o,n[a]=s,e(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Mm(){var t=dk();return t.copy=function(){return Fd(t,Mm())},jn.apply(t,arguments),xo(t)}function $$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,jm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return $$(t).unknown(e)},t=arguments.length?Array.from(t,jm):[0,1],xo(r)}function L$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function yP(t){return Math.log(t)}function vP(t){return Math.exp(t)}function Jle(t){return-Math.log(-t)}function Zle(t){return-Math.exp(-t)}function ece(t){return isFinite(t)?+("1e"+t):t<0?0:t}function tce(t){return t===10?ece:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rce(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function bP(t){return(e,r)=>-t(-e,r)}function mk(t){const e=t(yP,vP),r=e.domain;let n=10,i,a;function o(){return i=rce(n),a=tce(n),r()[0]<0?(i=bP(i),a=bP(a),t(Jle,Zle)):t(yP,vP),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),v,b;const x=s==null?10:+s;let k=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(v=1;v<n;++v)if(b=h<0?v/a(-h):v*a(h),!(b<c)){if(b>u)break;k.push(b)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(b=h>0?v/a(-h):v*a(h),!(b<c)){if(b>u)break;k.push(b)}k.length*2<x&&(k=Tx(c,u,x))}else k=Tx(h,p,Math.min(p-h,x)).map(a);return f?k.reverse():k},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Lf(l)).precision==null&&(l.trim=!0),l=pk(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(L$(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function F$(){const t=mk(ky()).domain([1,10]);return t.copy=()=>Fd(t,F$()).base(t.base()),jn.apply(t,arguments),t}function xP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function wP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gk(t){var e=1,r=t(xP(e),wP(e));return r.constant=function(n){return arguments.length?t(xP(e=+n),wP(e)):e},xo(r)}function V$(){var t=gk(ky());return t.copy=function(){return Fd(t,V$()).constant(t.constant())},jn.apply(t,arguments)}function _P(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nce(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ice(t){return t<0?-t*t:t*t}function yk(t){var e=t(Ur,Ur),r=1;function n(){return r===1?t(Ur,Ur):r===.5?t(nce,ice):t(_P(r),_P(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},xo(e)}function vk(){var t=yk(ky());return t.copy=function(){return Fd(t,vk()).exponent(t.exponent())},jn.apply(t,arguments),t}function ace(){return vk.apply(null,arguments).exponent(.5)}function kP(t){return Math.sign(t)*t*t}function oce(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function U$(){var t=dk(),e=[0,1],r=!1,n;function i(a){var o=oce(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(kP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,jm)).map(kP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return U$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},jn.apply(i,arguments),xo(i)}function B$(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=fle(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[$d(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(eo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return B$().domain(t).range(e).unknown(n)},jn.apply(a,arguments)}function z$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[$d(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return z$().domain([t,e]).range(i).unknown(a)},jn.apply(xo(o),arguments)}function q$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[$d(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return q$().domain(t).range(e).unknown(r)},jn.apply(i,arguments)}const c0=new Date,u0=new Date;function Zt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>Zt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(c0.setTime(+a),u0.setTime(+o),t(c0),t(u0),Math.floor(r(c0,u0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const $m=Zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$m.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):$m);$m.range;const Vi=1e3,Tn=Vi*60,Ui=Tn*60,ia=Ui*24,bk=ia*7,EP=ia*30,f0=ia*365,qo=Zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getUTCSeconds());qo.range;const xk=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vi)},(t,e)=>{t.setTime(+t+e*Tn)},(t,e)=>(e-t)/Tn,t=>t.getMinutes());xk.range;const wk=Zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Tn)},(t,e)=>(e-t)/Tn,t=>t.getUTCMinutes());wk.range;const _k=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vi-t.getMinutes()*Tn)},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getHours());_k.range;const kk=Zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getUTCHours());kk.range;const Vd=Zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Tn)/ia,t=>t.getDate()-1);Vd.range;const Ey=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>t.getUTCDate()-1);Ey.range;const W$=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>Math.floor(t/ia));W$.range;function As(t){return Zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Tn)/bk)}const Sy=As(0),Lm=As(1),sce=As(2),lce=As(3),Yl=As(4),cce=As(5),uce=As(6);Sy.range;Lm.range;sce.range;lce.range;Yl.range;cce.range;uce.range;function Ps(t){return Zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/bk)}const Ty=Ps(0),Fm=Ps(1),fce=Ps(2),dce=Ps(3),Ql=Ps(4),hce=Ps(5),pce=Ps(6);Ty.range;Fm.range;fce.range;dce.range;Ql.range;hce.range;pce.range;const Ek=Zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ek.range;const Sk=Zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Sk.range;const aa=Zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());aa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});aa.range;const oa=Zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});oa.range;function H$(t,e,r,n,i,a){const o=[[qo,1,Vi],[qo,5,5*Vi],[qo,15,15*Vi],[qo,30,30*Vi],[a,1,Tn],[a,5,5*Tn],[a,15,15*Tn],[a,30,30*Tn],[i,1,Ui],[i,3,3*Ui],[i,6,6*Ui],[i,12,12*Ui],[n,1,ia],[n,2,2*ia],[r,1,bk],[e,1,EP],[e,3,3*EP],[t,1,f0]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),v=p?p.range(c,+u+1):[];return h?v.reverse():v}function l(c,u,f){const h=Math.abs(u-c)/f,p=sk(([,,x])=>x).right(o,h);if(p===o.length)return t.every(Px(c/f0,u/f0,f));if(p===0)return $m.every(Math.max(Px(c,u,f),1));const[v,b]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(b)}return[s,l]}const[mce,gce]=H$(oa,Sk,Ty,W$,kk,wk),[yce,vce]=H$(aa,Ek,Sy,Vd,_k,xk);function d0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function h0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function iu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function bce(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=au(i),u=ou(i),f=au(a),h=ou(a),p=au(o),v=ou(o),b=au(s),x=ou(s),k=au(l),y=ou(l),g={a:X,A:U,b:Y,B:te,c:null,d:OP,e:OP,f:Bce,g:Jce,G:eue,H:Fce,I:Vce,j:Uce,L:K$,m:zce,M:qce,p:ce,q:ae,Q:RP,s:jP,S:Wce,u:Hce,U:Kce,V:Gce,w:Xce,W:Yce,x:null,X:null,y:Qce,Y:Zce,Z:tue,"%":NP},_={a:se,A:Se,b:Re,B:He,c:null,d:CP,e:CP,f:aue,g:mue,G:yue,H:rue,I:nue,j:iue,L:X$,m:oue,M:sue,p:$e,q:gt,Q:RP,s:jP,S:lue,u:cue,U:uue,V:fue,w:due,W:hue,x:null,X:null,y:pue,Y:gue,Z:vue,"%":NP},T={a:C,A:R,b:N,B:P,c:F,d:PP,e:PP,f:Dce,g:AP,G:TP,H:IP,I:IP,j:Cce,L:jce,m:Oce,M:Nce,p:O,q:Ice,Q:$ce,s:Lce,S:Rce,u:Ece,U:Sce,V:Tce,w:kce,W:Ace,x:B,X:W,y:AP,Y:TP,Z:Pce,"%":Mce};g.x=I(r,g),g.X=I(n,g),g.c=I(e,g),_.x=I(r,_),_.X=I(n,_),_.c=I(e,_);function I(de,xe){return function(Te){var Q=[],Fe=-1,Ae=0,et=de.length,ie,ke,M;for(Te instanceof Date||(Te=new Date(+Te));++Fe<et;)de.charCodeAt(Fe)===37&&(Q.push(de.slice(Ae,Fe)),(ke=SP[ie=de.charAt(++Fe)])!=null?ie=de.charAt(++Fe):ke=ie==="e"?" ":"0",(M=xe[ie])&&(ie=M(Te,ke)),Q.push(ie),Ae=Fe+1);return Q.push(de.slice(Ae,Fe)),Q.join("")}}function E(de,xe){return function(Te){var Q=iu(1900,void 0,1),Fe=S(Q,de,Te+="",0),Ae,et;if(Fe!=Te.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(xe&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Ae=h0(iu(Q.y,0,1)),et=Ae.getUTCDay(),Ae=et>4||et===0?Fm.ceil(Ae):Fm(Ae),Ae=Ey.offset(Ae,(Q.V-1)*7),Q.y=Ae.getUTCFullYear(),Q.m=Ae.getUTCMonth(),Q.d=Ae.getUTCDate()+(Q.w+6)%7):(Ae=d0(iu(Q.y,0,1)),et=Ae.getDay(),Ae=et>4||et===0?Lm.ceil(Ae):Lm(Ae),Ae=Vd.offset(Ae,(Q.V-1)*7),Q.y=Ae.getFullYear(),Q.m=Ae.getMonth(),Q.d=Ae.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),et="Z"in Q?h0(iu(Q.y,0,1)).getUTCDay():d0(iu(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(et+5)%7:Q.w+Q.U*7-(et+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,h0(Q)):d0(Q)}}function S(de,xe,Te,Q){for(var Fe=0,Ae=xe.length,et=Te.length,ie,ke;Fe<Ae;){if(Q>=et)return-1;if(ie=xe.charCodeAt(Fe++),ie===37){if(ie=xe.charAt(Fe++),ke=T[ie in SP?xe.charAt(Fe++):ie],!ke||(Q=ke(de,Te,Q))<0)return-1}else if(ie!=Te.charCodeAt(Q++))return-1}return Q}function O(de,xe,Te){var Q=c.exec(xe.slice(Te));return Q?(de.p=u.get(Q[0].toLowerCase()),Te+Q[0].length):-1}function C(de,xe,Te){var Q=p.exec(xe.slice(Te));return Q?(de.w=v.get(Q[0].toLowerCase()),Te+Q[0].length):-1}function R(de,xe,Te){var Q=f.exec(xe.slice(Te));return Q?(de.w=h.get(Q[0].toLowerCase()),Te+Q[0].length):-1}function N(de,xe,Te){var Q=k.exec(xe.slice(Te));return Q?(de.m=y.get(Q[0].toLowerCase()),Te+Q[0].length):-1}function P(de,xe,Te){var Q=b.exec(xe.slice(Te));return Q?(de.m=x.get(Q[0].toLowerCase()),Te+Q[0].length):-1}function F(de,xe,Te){return S(de,e,xe,Te)}function B(de,xe,Te){return S(de,r,xe,Te)}function W(de,xe,Te){return S(de,n,xe,Te)}function X(de){return o[de.getDay()]}function U(de){return a[de.getDay()]}function Y(de){return l[de.getMonth()]}function te(de){return s[de.getMonth()]}function ce(de){return i[+(de.getHours()>=12)]}function ae(de){return 1+~~(de.getMonth()/3)}function se(de){return o[de.getUTCDay()]}function Se(de){return a[de.getUTCDay()]}function Re(de){return l[de.getUTCMonth()]}function He(de){return s[de.getUTCMonth()]}function $e(de){return i[+(de.getUTCHours()>=12)]}function gt(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var xe=I(de+="",g);return xe.toString=function(){return de},xe},parse:function(de){var xe=E(de+="",!1);return xe.toString=function(){return de},xe},utcFormat:function(de){var xe=I(de+="",_);return xe.toString=function(){return de},xe},utcParse:function(de){var xe=E(de+="",!0);return xe.toString=function(){return de},xe}}}var SP={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,xce=/^%/,wce=/[\\^$*+?|[\]().{}]/g;function Ze(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function _ce(t){return t.replace(wce,"\\$&")}function au(t){return new RegExp("^(?:"+t.map(_ce).join("|")+")","i")}function ou(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function kce(t,e,r){var n=lr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Ece(t,e,r){var n=lr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Sce(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Tce(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Ace(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function TP(t,e,r){var n=lr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function AP(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Pce(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ice(t,e,r){var n=lr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Oce(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function PP(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Cce(t,e,r){var n=lr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function IP(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Nce(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Rce(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function jce(t,e,r){var n=lr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Dce(t,e,r){var n=lr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Mce(t,e,r){var n=xce.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function $ce(t,e,r){var n=lr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Lce(t,e,r){var n=lr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function OP(t,e){return Ze(t.getDate(),e,2)}function Fce(t,e){return Ze(t.getHours(),e,2)}function Vce(t,e){return Ze(t.getHours()%12||12,e,2)}function Uce(t,e){return Ze(1+Vd.count(aa(t),t),e,3)}function K$(t,e){return Ze(t.getMilliseconds(),e,3)}function Bce(t,e){return K$(t,e)+"000"}function zce(t,e){return Ze(t.getMonth()+1,e,2)}function qce(t,e){return Ze(t.getMinutes(),e,2)}function Wce(t,e){return Ze(t.getSeconds(),e,2)}function Hce(t){var e=t.getDay();return e===0?7:e}function Kce(t,e){return Ze(Sy.count(aa(t)-1,t),e,2)}function G$(t){var e=t.getDay();return e>=4||e===0?Yl(t):Yl.ceil(t)}function Gce(t,e){return t=G$(t),Ze(Yl.count(aa(t),t)+(aa(t).getDay()===4),e,2)}function Xce(t){return t.getDay()}function Yce(t,e){return Ze(Lm.count(aa(t)-1,t),e,2)}function Qce(t,e){return Ze(t.getFullYear()%100,e,2)}function Jce(t,e){return t=G$(t),Ze(t.getFullYear()%100,e,2)}function Zce(t,e){return Ze(t.getFullYear()%1e4,e,4)}function eue(t,e){var r=t.getDay();return t=r>=4||r===0?Yl(t):Yl.ceil(t),Ze(t.getFullYear()%1e4,e,4)}function tue(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ze(e/60|0,"0",2)+Ze(e%60,"0",2)}function CP(t,e){return Ze(t.getUTCDate(),e,2)}function rue(t,e){return Ze(t.getUTCHours(),e,2)}function nue(t,e){return Ze(t.getUTCHours()%12||12,e,2)}function iue(t,e){return Ze(1+Ey.count(oa(t),t),e,3)}function X$(t,e){return Ze(t.getUTCMilliseconds(),e,3)}function aue(t,e){return X$(t,e)+"000"}function oue(t,e){return Ze(t.getUTCMonth()+1,e,2)}function sue(t,e){return Ze(t.getUTCMinutes(),e,2)}function lue(t,e){return Ze(t.getUTCSeconds(),e,2)}function cue(t){var e=t.getUTCDay();return e===0?7:e}function uue(t,e){return Ze(Ty.count(oa(t)-1,t),e,2)}function Y$(t){var e=t.getUTCDay();return e>=4||e===0?Ql(t):Ql.ceil(t)}function fue(t,e){return t=Y$(t),Ze(Ql.count(oa(t),t)+(oa(t).getUTCDay()===4),e,2)}function due(t){return t.getUTCDay()}function hue(t,e){return Ze(Fm.count(oa(t)-1,t),e,2)}function pue(t,e){return Ze(t.getUTCFullYear()%100,e,2)}function mue(t,e){return t=Y$(t),Ze(t.getUTCFullYear()%100,e,2)}function gue(t,e){return Ze(t.getUTCFullYear()%1e4,e,4)}function yue(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ql(t):Ql.ceil(t),Ze(t.getUTCFullYear()%1e4,e,4)}function vue(){return"+0000"}function NP(){return"%"}function RP(t){return+t}function jP(t){return Math.floor(+t/1e3)}var Bs,Q$,J$;bue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bue(t){return Bs=bce(t),Q$=Bs.format,Bs.parse,J$=Bs.utcFormat,Bs.utcParse,Bs}function xue(t){return new Date(t)}function wue(t){return t instanceof Date?+t:+new Date(+t)}function Tk(t,e,r,n,i,a,o,s,l,c){var u=dk(),f=u.invert,h=u.domain,p=c(".%L"),v=c(":%S"),b=c("%I:%M"),x=c("%I %p"),k=c("%a %d"),y=c("%b %d"),g=c("%B"),_=c("%Y");function T(I){return(l(I)<I?p:s(I)<I?v:o(I)<I?b:a(I)<I?x:n(I)<I?i(I)<I?k:y:r(I)<I?g:_)(I)}return u.invert=function(I){return new Date(f(I))},u.domain=function(I){return arguments.length?h(Array.from(I,wue)):h().map(xue)},u.ticks=function(I){var E=h();return t(E[0],E[E.length-1],I??10)},u.tickFormat=function(I,E){return E==null?T:c(E)},u.nice=function(I){var E=h();return(!I||typeof I.range!="function")&&(I=e(E[0],E[E.length-1],I??10)),I?h(L$(E,I)):u},u.copy=function(){return Fd(u,Tk(t,e,r,n,i,a,o,s,l,c))},u}function _ue(){return jn.apply(Tk(yce,vce,aa,Ek,Sy,Vd,_k,xk,qo,Q$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kue(){return jn.apply(Tk(mce,gce,oa,Sk,Ty,Ey,kk,wk,qo,J$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ay(){var t=0,e=1,r,n,i,a,o=Ur,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),c):[o(0),o(1)]}}return c.range=u(Tc),c.rangeRound=u(fk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function wo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Z$(){var t=xo(Ay()(Ur));return t.copy=function(){return wo(t,Z$())},da.apply(t,arguments)}function eL(){var t=mk(Ay()).domain([1,10]);return t.copy=function(){return wo(t,eL()).base(t.base())},da.apply(t,arguments)}function tL(){var t=gk(Ay());return t.copy=function(){return wo(t,tL()).constant(t.constant())},da.apply(t,arguments)}function Ak(){var t=yk(Ay());return t.copy=function(){return wo(t,Ak()).exponent(t.exponent())},da.apply(t,arguments)}function Eue(){return Ak.apply(null,arguments).exponent(.5)}function rL(){var t=[],e=Ur;function r(n){if(n!=null&&!isNaN(n=+n))return e(($d(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(eo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>ule(t,a/n))},r.copy=function(){return rL(e).domain(t)},da.apply(r,arguments)}function Py(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,c=Ur,u,f=!1,h;function p(b){return isNaN(b=+b)?h:(b=.5+((b=+u(b))-a)*(n*b<n*a?s:l),c(f?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([t,e,r]=b,i=u(t=+t),a=u(e=+e),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(b){return arguments.length?(f=!!b,p):f},p.interpolator=function(b){return arguments.length?(c=b,p):c};function v(b){return function(x){var k,y,g;return arguments.length?([k,y,g]=x,c=Mle(b,[k,y,g]),p):[c(0),c(.5),c(1)]}}return p.range=v(Tc),p.rangeRound=v(fk),p.unknown=function(b){return arguments.length?(h=b,p):h},function(b){return u=b,i=b(t),a=b(e),o=b(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function nL(){var t=xo(Py()(Ur));return t.copy=function(){return wo(t,nL())},da.apply(t,arguments)}function iL(){var t=mk(Py()).domain([.1,1,10]);return t.copy=function(){return wo(t,iL()).base(t.base())},da.apply(t,arguments)}function aL(){var t=gk(Py());return t.copy=function(){return wo(t,aL()).constant(t.constant())},da.apply(t,arguments)}function Pk(){var t=yk(Py());return t.copy=function(){return wo(t,Pk()).exponent(t.exponent())},da.apply(t,arguments)}function Sue(){return Pk.apply(null,arguments).exponent(.5)}const DP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jf,scaleDiverging:nL,scaleDivergingLog:iL,scaleDivergingPow:Pk,scaleDivergingSqrt:Sue,scaleDivergingSymlog:aL,scaleIdentity:$$,scaleImplicit:Ix,scaleLinear:Mm,scaleLog:F$,scaleOrdinal:lk,scalePoint:Bu,scalePow:vk,scaleQuantile:B$,scaleQuantize:z$,scaleRadial:U$,scaleSequential:Z$,scaleSequentialLog:eL,scaleSequentialPow:Ak,scaleSequentialQuantile:rL,scaleSequentialSqrt:Eue,scaleSequentialSymlog:tL,scaleSqrt:ace,scaleSymlog:V$,scaleThreshold:q$,scaleTime:_ue,scaleUtc:kue,tickFormat:M$},Symbol.toStringTag,{value:"Module"}));var Tue=vc;function Aue(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!Tue(o):r(o,s)))var s=o,l=a}return l}var Iy=Aue;function Pue(t,e){return t>e}var oL=Pue,Iue=Iy,Oue=oL,Cue=Sc;function Nue(t){return t&&t.length?Iue(t,Cue,Oue):void 0}var Rue=Nue;const Oy=at(Rue);function jue(t,e){return t<e}var sL=jue,Due=Iy,Mue=sL,$ue=Sc;function Lue(t){return t&&t.length?Due(t,$ue,Mue):void 0}var Fue=Lue;const Cy=at(Fue);var Vue=V1,Uue=ki,Bue=m$,zue=tn;function que(t,e){var r=zue(t)?Vue:Bue;return r(t,Uue(e))}var Wue=que,Hue=h$,Kue=Wue;function Gue(t,e){return Hue(Kue(t,e),1)}var Xue=Gue;const Yue=at(Xue);var Que=rk;function Jue(t,e){return Que(t,e)}var Zue=Jue;const Ny=at(Zue);var Ac=1e9,efe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ok,At=!0,Nn="[DecimalError] ",Qo=Nn+"Invalid argument: ",Ik=Nn+"Exponent out of range: ",Pc=Math.floor,Mo=Math.pow,tfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sn,nr=1e7,wt=7,lL=9007199254740991,Vm=Pc(lL/wt),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*wt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ye.dividedBy=ye.div=function(t){return Gi(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,r=e.constructor;return ft(Gi(e,new r(t),0,1),r.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return Ht(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(sn))throw Error(Nn+"NaN");if(r.s<1)throw Error(Nn+(r.s?"NaN":"-Infinity"));return r.eq(sn)?new n(0):(At=!1,e=Gi(Ff(r,a),Ff(t,a),a),At=!0,ft(e,i))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fL(e,t):cL(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Nn+"NaN");return r.s?(At=!1,e=Gi(r,t,0,1).times(t),At=!0,r.minus(e)):ft(new n(r),i)};ye.naturalExponential=ye.exp=function(){return uL(this)};ye.naturalLogarithm=ye.ln=function(){return Ff(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cL(e,t):fL(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qo+t);if(e=Ht(i)+1,n=i.d.length-1,r=n*wt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ye.squareRoot=ye.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Nn+"NaN")}for(t=Ht(s),At=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=ci(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Pc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Gi(s,a,o+2)).times(.5),ci(a.d).slice(0,o)===(e=ci(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ft(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return At=!0,ft(n,r)};ye.times=ye.mul=function(t){var e,r,n,i,a,o,s,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%nr|0,e=s/nr|0;a[i]=(a[i]+e)%nr|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,At?ft(t,f.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(xi(t,0,Ac),e===void 0?e=n.rounding:xi(e,0,8),ft(r,t+Ht(r)+1,e))};ye.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=hs(n,!0):(xi(t,0,Ac),e===void 0?e=i.rounding:xi(e,0,8),n=ft(new i(n),t+1,e),r=hs(n,!0,t+1)),r};ye.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?hs(i):(xi(t,0,Ac),e===void 0?e=a.rounding:xi(e,0,8),n=ft(new a(i),t+Ht(i)+1,e),r=hs(n.abs(),!1,t+Ht(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return ft(new e(t),Ht(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(sn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Nn+"Infinity");return s}if(s.eq(sn))return s;if(n=l.precision,t.eq(sn))return ft(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=u<0?-u:u)<=lL){for(i=new l(sn),e=Math.ceil(n/wt+4),At=!1;r%2&&(i=i.times(s),$P(i.d,e)),r=Pc(r/2),r!==0;)s=s.times(s),$P(s.d,e);return At=!0,t.s<0?new l(sn).div(i):ft(i,n)}}else if(a<0)throw Error(Nn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,At=!1,i=t.times(Ff(s,n+c)),At=!0,i=uL(i),i.s=a,i};ye.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Ht(i),n=hs(i,r<=a.toExpNeg||r>=a.toExpPos)):(xi(t,1,Ac),e===void 0?e=a.rounding:xi(e,0,8),i=ft(new a(i),t,e),r=Ht(i),n=hs(i,t<=r||r<=a.toExpNeg,t)),n};ye.toSignificantDigits=ye.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(xi(t,1,Ac),e===void 0?e=n.rounding:xi(e,0,8)),ft(new n(r),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ht(t),r=t.constructor;return hs(t,e<=r.toExpNeg||e>=r.toExpPos)};function cL(t,e){var r,n,i,a,o,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),At?ft(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(f/wt),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/nr|0,l[a]%=nr;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,At?ft(e,f):e}function xi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Qo+t)}function ci(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=wt-n.length,r&&(a+=Ta(r)),a+=n;o=t[e],n=o+"",r=wt-n.length,r&&(a+=Ta(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Gi=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%nr|0,o=a/nr|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*nr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,f,h,p,v,b,x,k,y,g,_,T,I,E,S,O=n.constructor,C=n.s==i.s?1:-1,R=n.d,N=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(Nn+"Division by zero");for(l=n.e-i.e,E=N.length,T=R.length,p=new O(C),v=p.d=[],c=0;N[c]==(R[c]||0);)++c;if(N[c]>(R[c]||0)&&--l,a==null?y=a=O.precision:o?y=a+(Ht(n)-Ht(i))+1:y=a,y<0)return new O(0);if(y=y/wt+2|0,c=0,E==1)for(u=0,N=N[0],y++;(c<T||u)&&y--;c++)g=u*nr+(R[c]||0),v[c]=g/N|0,u=g%N|0;else{for(u=nr/(N[0]+1)|0,u>1&&(N=t(N,u),R=t(R,u),E=N.length,T=R.length),_=E,b=R.slice(0,E),x=b.length;x<E;)b[x++]=0;S=N.slice(),S.unshift(0),I=N[0],N[1]>=nr/2&&++I;do u=0,s=e(N,b,E,x),s<0?(k=b[0],E!=x&&(k=k*nr+(b[1]||0)),u=k/I|0,u>1?(u>=nr&&(u=nr-1),f=t(N,u),h=f.length,x=b.length,s=e(f,b,h,x),s==1&&(u--,r(f,E<h?S:N,h))):(u==0&&(s=u=1),f=N.slice()),h=f.length,h<x&&f.unshift(0),r(b,f,x),s==-1&&(x=b.length,s=e(N,b,E,x),s<1&&(u++,r(b,E<x?S:N,x))),x=b.length):s===0&&(u++,b=[0]),v[c++]=u,s&&b[0]?b[x++]=R[_]||0:(b=[R[_]],x=1);while((_++<T||b[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=l,ft(p,o?a+Ht(p)+1:a)}}();function uL(t,e){var r,n,i,a,o,s,l=0,c=0,u=t.constructor,f=u.precision;if(Ht(t)>16)throw Error(Ik+Ht(t));if(!t.s)return new u(sn);for(e==null?(At=!1,s=f):s=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(Mo(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(sn),u.precision=s;;){if(i=ft(i.times(t),s),r=r.times(++l),o=a.plus(Gi(i,r,s)),ci(o.d).slice(0,s)===ci(a.d).slice(0,s)){for(;c--;)a=ft(a.times(a),s);return u.precision=f,e==null?(At=!0,ft(a,f)):a}a=o}}function Ht(t){for(var e=t.e*wt,r=t.d[0];r>=10;r/=10)e++;return e}function p0(t,e,r){if(e>t.LN10.sd())throw At=!0,r&&(t.precision=r),Error(Nn+"LN10 precision limit exceeded");return ft(new t(t.LN10),e)}function Ta(t){for(var e="";t--;)e+="0";return e}function Ff(t,e){var r,n,i,a,o,s,l,c,u,f=1,h=10,p=t,v=p.d,b=p.constructor,x=b.precision;if(p.s<1)throw Error(Nn+(p.s?"NaN":"-Infinity"));if(p.eq(sn))return new b(0);if(e==null?(At=!1,c=x):c=e,p.eq(10))return e==null&&(At=!0),p0(b,c);if(c+=h,b.precision=c,r=ci(v),n=r.charAt(0),a=Ht(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=ci(p.d),n=r.charAt(0),f++;a=Ht(p),n>1?(p=new b("0."+r),a++):p=new b(n+"."+r.slice(1))}else return l=p0(b,c+2,x).times(a+""),p=Ff(new b(n+"."+r.slice(1)),c-h).plus(l),b.precision=x,e==null?(At=!0,ft(p,x)):p;for(s=o=p=Gi(p.minus(sn),p.plus(sn),c),u=ft(p.times(p),c),i=3;;){if(o=ft(o.times(u),c),l=s.plus(Gi(o,new b(i),c)),ci(l.d).slice(0,c)===ci(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(p0(b,c+2,x).times(a+""))),s=Gi(s,new b(f),c),b.precision=x,e==null?(At=!0,ft(s,x)):s;s=l,i+=2}}function MP(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Pc(r/wt),t.d=[],n=(r+1)%wt,r<0&&(n+=wt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=wt;n<i;)t.d.push(+e.slice(n,n+=wt));e=e.slice(n),n=wt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),At&&(t.e>Vm||t.e<-Vm))throw Error(Ik+r)}else t.s=0,t.e=0,t.d=[0];return t}function ft(t,e,r){var n,i,a,o,s,l,c,u,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=wt,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/wt),a=f.length,u>=a)return t;for(c=a=f[u],o=1;a>=10;a/=10)o++;n%=wt,i=n-wt+o}if(r!==void 0&&(a=Mo(10,o-i-1),s=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Mo(10,o-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Ht(t),f.length=1,e=e-a-1,f[0]=Mo(10,(wt-e%wt)%wt),t.e=Pc(-e/wt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Mo(10,wt-n),f[u]=i>0?(c/Mo(10,o-i)%Mo(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==nr&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=nr)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(At&&(t.e>Vm||t.e<-Vm))throw Error(Ik+Ht(t));return t}function fL(t,e){var r,n,i,a,o,s,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),At?ft(e,p):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(p/wt),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=nr-1;--l[a],l[i]+=nr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,At?ft(e,p):e):new h(0)}function hs(t,e,r){var n,i=Ht(t),a=ci(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ta(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ta(-i-1)+a,r&&(n=r-o)>0&&(a+=Ta(n))):i>=o?(a+=Ta(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ta(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ta(n))),t.s<0?"-"+a:a}function $P(t,e){if(t.length>e)return t.length=e,!0}function dL(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Qo+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return MP(o,a.toString())}else if(typeof a!="string")throw Error(Qo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,tfe.test(a))MP(o,a);else throw Error(Qo+a)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=dL,i.config=i.set=rfe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function rfe(t){if(!t||typeof t!="object")throw Error(Nn+"Object expected");var e,r,n,i=["precision",1,Ac,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Pc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Qo+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Qo+r+": "+n);return this}var Ok=dL(efe);sn=new Ok(1);const lt=Ok;function nfe(t){return sfe(t)||ofe(t)||afe(t)||ife()}function ife(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function afe(t,e){if(t){if(typeof t=="string")return Rx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rx(t,e)}}function ofe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sfe(t){if(Array.isArray(t))return Rx(t)}function Rx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lfe=function(e){return e},hL={"@@functional/placeholder":!0},pL=function(e){return e===hL},LP=function(e){return function r(){return arguments.length===0||arguments.length===1&&pL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},cfe=function t(e,r){return e===1?r:LP(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==hL}).length;return o>=e?r.apply(void 0,i):t(e-o,LP(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return pL(f)?l.shift():f});return r.apply(void 0,nfe(u).concat(l))}))})},Ry=function(e){return cfe(e.length,e)},jx=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},ufe=Ry(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),ffe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return lfe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Dx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},mL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function dfe(t){var e;return t===0?e=1:e=Math.floor(new lt(t).abs().log(10).toNumber())+1,e}function hfe(t,e,r){for(var n=new lt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var pfe=Ry(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),mfe=Ry(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),gfe=Ry(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const jy={rangeStep:hfe,getDigitCount:dfe,interpolateNumber:pfe,uninterpolateNumber:mfe,uninterpolateTruncation:gfe};function Mx(t){return bfe(t)||vfe(t)||gL(t)||yfe()}function yfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bfe(t){if(Array.isArray(t))return $x(t)}function Vf(t,e){return _fe(t)||wfe(t,e)||gL(t,e)||xfe()}function xfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gL(t,e){if(t){if(typeof t=="string")return $x(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $x(t,e)}}function $x(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wfe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function _fe(t){if(Array.isArray(t))return t}function yL(t){var e=Vf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function vL(t,e,r){if(t.lte(0))return new lt(0);var n=jy.getDigitCount(t.toNumber()),i=new lt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new lt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new lt(Math.ceil(l))}function kfe(t,e,r){var n=1,i=new lt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new lt(10).pow(jy.getDigitCount(t)-1),i=new lt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new lt(Math.floor(t)))}else t===0?i=new lt(Math.floor((e-1)/2)):r||(i=new lt(Math.floor(t)));var o=Math.floor((e-1)/2),s=ffe(ufe(function(l){return i.add(new lt(l-o).mul(n)).toNumber()}),jx);return s(0,e)}function bL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var a=vL(new lt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new lt(0):(o=new lt(t).add(e).div(2),o=o.sub(new lt(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new lt(e).sub(o).div(a).toNumber()),c=s+l+1;return c>r?bL(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:a,tickMin:o.sub(new lt(s).mul(a)),tickMax:o.add(new lt(l).mul(a))})}function Efe(t){var e=Vf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=yL([r,n]),l=Vf(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(Mx(jx(0,i-1).map(function(){return 1/0}))):[].concat(Mx(jx(0,i-1).map(function(){return-1/0})),[u]);return r>n?Dx(f):f}if(c===u)return kfe(c,i,a);var h=bL(c,u,o,a),p=h.step,v=h.tickMin,b=h.tickMax,x=jy.rangeStep(v,b.add(new lt(.1).mul(p)),p);return r>n?Dx(x):x}function Sfe(t,e){var r=Vf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=yL([n,i]),s=Vf(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=vL(new lt(c).sub(l).div(u-1),a,0),h=[].concat(Mx(jy.rangeStep(new lt(l),new lt(c).sub(new lt(.99).mul(f)),f)),[c]);return n>i?Dx(h):h}var Tfe=mL(Efe),Afe=mL(Sfe),Pfe="Invariant failed";function ps(t,e){throw new Error(Pfe)}var Ife=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Um.apply(this,arguments)}function Ofe(t,e){return jfe(t)||Rfe(t,e)||Nfe(t,e)||Cfe()}function Cfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nfe(t,e){if(t){if(typeof t=="string")return FP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FP(t,e)}}function FP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function jfe(t){if(Array.isArray(t))return t}function Dfe(t,e){if(t==null)return{};var r=Mfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mfe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Dy(t){var e=t.offset,r=t.layout,n=t.width,i=t.dataKey,a=t.data,o=t.dataPointFormatter,s=t.xAxis,l=t.yAxis,c=Dfe(t,Ife),u=Oe(c,!1);t.direction==="x"&&s.type!=="number"&&ps();var f=a.map(function(h){var p=o(h,i),v=p.x,b=p.y,x=p.value,k=p.errorVal;if(!k)return null;var y=[],g,_;if(Array.isArray(k)){var T=Ofe(k,2);g=T[0],_=T[1]}else g=_=k;if(r==="vertical"){var I=s.scale,E=b+e,S=E+n,O=E-n,C=I(x-g),R=I(x+_);y.push({x1:R,y1:S,x2:R,y2:O}),y.push({x1:C,y1:E,x2:R,y2:E}),y.push({x1:C,y1:S,x2:C,y2:O})}else if(r==="horizontal"){var N=l.scale,P=v+e,F=P-n,B=P+n,W=N(x-g),X=N(x+_);y.push({x1:F,y1:X,x2:B,y2:X}),y.push({x1:P,y1:W,x2:P,y2:X}),y.push({x1:F,y1:W,x2:B,y2:W})}return $.createElement(nt,Um({className:"recharts-errorBar",key:"bar-".concat(y.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},u),y.map(function(U){return $.createElement("line",Um({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return $.createElement(nt,{className:"recharts-errorBars"},f)}Dy.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Dy.displayName="ErrorBar";function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function VP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(r),!0).forEach(function(n){$fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $fe(t,e,r){return e=Lfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lfe(t){var e=Ffe(t,"string");return Uf(e)=="symbol"?e:String(e)}function Ffe(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=on(r,Pf);if(!o)return null;var s;return o.props&&o.props.payload?s=o.props&&o.props.payload:a==="children"?s=(n||[]).reduce(function(l,c){var u=c.item,f=c.props,h=f.sectors||f.data||[];return l.concat(h.map(function(p){return{type:o.props.iconType||u.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):s=(n||[]).map(function(l){var c=l.item,u=c.props,f=u.dataKey,h=u.name,p=u.legendType,v=u.hide;return{inactive:v,dataKey:f,type:o.props.iconType||p||"square",color:Ck(c),value:h||f,payload:c.props}}),m0(m0(m0({},o.props),Pf.getWithHeight(o,i)),{},{payload:s,item:o})};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function UP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(r),!0).forEach(function(n){Al(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Al(t,e,r){return e=Vfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vfe(t){var e=Ufe(t,"string");return Bf(e)=="symbol"?e:String(e)}function Ufe(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BP(t){return Wfe(t)||qfe(t)||zfe(t)||Bfe()}function Bfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zfe(t,e){if(t){if(typeof t=="string")return Lx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lx(t,e)}}function qfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wfe(t){if(Array.isArray(t))return Lx(t)}function Lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ir(t,e,r){return Ue(t)||Ue(e)?r:Jt(e)?fn(t,e,r):De(e)?e(t):r}function zu(t,e,r,n){var i=Yue(t,function(s){return Ir(s,e)});if(r==="number"){var a=i.filter(function(s){return le(s)||parseFloat(s)});return a.length?[Cy(a),Oy(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Ue(s)}):i;return o.map(function(s){return Jt(s)||s instanceof Date?s:""})}var Hfe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Fr(f-u)!==Fr(h-f)){var v=[];if(Fr(h-f)===Fr(l[1]-l[0])){p=h;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+u)/2),v[1]=Math.max(b,(b+u)/2)}else{p=u;var x=h+l[1]-l[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var k=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>k[0]&&e<=k[1]||e>=v[0]&&e<=v[1]){o=i[c].index;break}}else{var y=Math.min(u,h),g=Math.max(u,h);if(e>(y+f)/2&&e<=(g+f)/2){o=i[c].index;break}}}else for(var _=0;_<s;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<s-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===s-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},Ck=function(e){var r=e,n=r.type.displayName,i=e.props,a=i.stroke,o=i.fill,s;switch(n){case"Line":s=a;break;case"Area":case"Radar":s=a&&a!=="none"?a:o;break;default:s=o;break}return s},Kfe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var v=u[f[h]],b=v.items,x=v.cateAxisId,k=b.filter(function(T){return Hi(T.type).indexOf("Bar")>=0});if(k&&k.length){var y=k[0].props.barSize,g=k[0].props[x];o[g]||(o[g]=[]);var _=Ue(y)?r:y;o[g].push({item:k[0],stackList:k.slice(1),barSize:Ue(_)?void 0:Vr(_,n,0)})}}return o},Gfe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=Vr(r,i,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,v=o.reduce(function(_,T){return _+T.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&p>0&&(h=!0,p*=.9,v=l*p);var b=(i-v)/2>>0,x={offset:b-c,size:0};u=o.reduce(function(_,T){var I={item:T.item,position:{offset:x.offset+x.size+c,size:h?p:T.barSize}},E=[].concat(BP(_),[I]);return x=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:x})}),E},f)}else{var k=Vr(n,i,0,!0);i-2*k-(l-1)*c<=0&&(c=0);var y=(i-2*k-(l-1)*c)/l;y>1&&(y>>=0);var g=s===+s?Math.min(y,s):y;u=o.reduce(function(_,T,I){var E=[].concat(BP(_),[{item:T.item,position:{offset:k+(y+c)*I+(y-g)/2,size:g}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},f)}return u},Xfe=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=xL({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,v=c.verticalAlign,b=c.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&p!=="center"&&le(e[p]))return _n(_n({},e),{},Al({},p,e[p]+(f||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&v!=="middle"&&le(e[v]))return _n(_n({},e),{},Al({},v,e[v]+(h||0)))}return e},Yfe=function(e,r,n){return Ue(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},wL=function(e,r,n,i,a){var o=r.props.children,s=In(o,Dy).filter(function(c){return Yfe(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=Ir(u,n);if(Ue(f))return c;var h=Array.isArray(f)?[Cy(f),Oy(f)]:[f,f],p=l.reduce(function(v,b){var x=Ir(u,b,0),k=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(k,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Qfe=function(e,r,n,i,a){var o=r.map(function(s){return wL(e,s,n,a,i)}).filter(function(s){return!Ue(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},_L=function(e,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&wL(e,l,c,i)||zu(e,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},kL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},EL=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},Bi=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Fr(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Rd(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},g0=new WeakMap,Fh=function(e,r){if(typeof r!="function")return e;g0.has(e)||g0.set(e,new WeakMap);var n=g0.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},SL=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:jf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Mm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Bu(),realScaleType:"point"}:a==="category"?{scale:jf(),realScaleType:"band"}:{scale:Mm(),realScaleType:"linear"};if(Nd(i)){var l="scale".concat(gy(i));return{scale:(DP[l]||Bu)(),realScaleType:DP[l]?l:"point"}}return De(i)?{scale:i}:{scale:Bu(),realScaleType:"point"}},zP=1e-4,TL=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-zP,o=Math.max(i[0],i[1])+zP,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},Jfe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Zfe=function(e,r){if(!r||r.length!==2||!le(r[0])||!le(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!le(e[0])||e[0]<n)&&(a[0]=n),(!le(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},ede=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Rd(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},tde=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Rd(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},rde={sign:ede,expand:CJ,none:ql,silhouette:NJ,wiggle:RJ,positive:tde},nde=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=rde[n],o=OJ().keys(i).value(function(s,l){return+Ir(s,l,0)}).order(cx).offset(a);return o(e)},ide=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,h){var p=h.props,v=p.stackId,b=p.hide;if(b)return f;var x=h.props[n],k=f[x]||{hasStack:!1,stackGroups:{}};if(Jt(v)){var y=k.stackGroups[v]||{numericAxisId:n,cateAxisId:i,items:[]};y.items.push(h),k.hasStack=!0,k.stackGroups[v]=y}else k.stackGroups[jd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return _n(_n({},f),{},Al({},x,k))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,x){var k=p.stackGroups[x];return _n(_n({},b),{},Al({},x,{numericAxisId:n,cateAxisId:i,items:k.items,stackedData:nde(e,k.items,a)}))},v)}return _n(_n({},f),{},Al({},h,p))},u)},AL=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Tfe(c,a,s);return e.domain([Cy(u),Oy(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=Afe(f,a,s);return{niceTicks:h}}return null},qP=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Ir(o,r.dataKey,r.domain[s]);return Ue(l)?null:r.scale(l)-a/2+i},ade=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},ode=function(e,r){var n=e.props.stackId;if(Jt(n)){var i=r[n];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null},sde=function(e){return e.reduce(function(r,n){return[Cy(n.concat([r[0]]).filter(le)),Oy(n.concat([r[1]]).filter(le))]},[1/0,-1/0])},PL=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,u){var f=sde(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},WP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fx=function(e,r,n){if(De(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(le(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(WP.test(e[0])){var a=+WP.exec(e[0])[1];i[0]=r[0]-a}else De(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(le(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(HP.test(e[1])){var o=+HP.exec(e[1])[1];i[1]=r[1]+o}else De(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Bm=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=ik(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},KP=function(e,r,n){return!e||!e.length||Ny(e,fn(n,"type.defaultProps.domain"))?r:e},IL=function(e,r){var n=e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return _n(_n({},Oe(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Ck(e),value:Ir(r,i),type:l,payload:r,chartType:c,hide:u})};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function GP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(r),!0).forEach(function(n){OL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OL(t,e,r){return e=lde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lde(t){var e=cde(t,"string");return zf(e)=="symbol"?e:String(e)}function cde(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ude(t,e){return pde(t)||hde(t,e)||dde(t,e)||fde()}function fde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dde(t,e){if(t){if(typeof t=="string")return XP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XP(t,e)}}function XP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function pde(t){if(Array.isArray(t))return t}var zm=Math.PI/180,mde=function(e){return e*180/Math.PI},mt=function(e,r,n,i){return{x:e+Math.cos(-zm*i)*n,y:r+Math.sin(-zm*i)*n}},CL=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},gde=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,c=e.endAngle,u=Vr(e.cx,o,o/2),f=Vr(e.cy,s,s/2),h=CL(o,s,n),p=Vr(e.innerRadius,h,0),v=Vr(e.outerRadius,h,h*.8),b=Object.keys(r);return b.reduce(function(x,k){var y=r[k],g=y.domain,_=y.reversed,T;if(Ue(y.range))i==="angleAxis"?T=[l,c]:i==="radiusAxis"&&(T=[p,v]),_&&(T=[T[1],T[0]]);else{T=y.range;var I=T,E=ude(I,2);l=E[0],c=E[1]}var S=SL(y,a),O=S.realScaleType,C=S.scale;C.domain(g).range(T),TL(C);var R=AL(C,Ni(Ni({},y),{},{realScaleType:O})),N=Ni(Ni(Ni({},y),R),{},{range:T,radius:v,realScaleType:O,scale:C,cx:u,cy:f,innerRadius:p,outerRadius:v,startAngle:l,endAngle:c});return Ni(Ni({},x),{},OL({},k,N))},{})},yde=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},vde=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=yde({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:mde(c),angleInRadian:c}},bde=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},xde=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},YP=function(e,r){var n=e.x,i=e.y,a=vde({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=bde(r),f=u.startAngle,h=u.endAngle,p=s,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?Ni(Ni({},r),{},{radius:o,angle:xde(p,r)}):null},NL=function(e){return!D.isValidElement(e)&&!De(e)&&typeof e!="boolean"?e.className:""};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var wde=["offset"];function _de(t){return Tde(t)||Sde(t)||Ede(t)||kde()}function kde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ede(t,e){if(t){if(typeof t=="string")return Vx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vx(t,e)}}function Sde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tde(t){if(Array.isArray(t))return Vx(t)}function Vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ade(t,e){if(t==null)return{};var r=Pde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pde(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function QP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(r),!0).forEach(function(n){Ide(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ide(t,e,r){return e=Ode(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ode(t){var e=Cde(t,"string");return qf(e)=="symbol"?e:String(e)}function Cde(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wf.apply(this,arguments)}var Nde=function(e){var r=e.value,n=e.formatter,i=Ue(e.children)?r:e.children;return De(n)?n(i):i},Rde=function(e,r){var n=Fr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},jde=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,b=l.clockWise,x=(f+h)/2,k=Rde(p,v),y=k>=0?1:-1,g,_;i==="insideStart"?(g=p+y*o,_=b):i==="insideEnd"?(g=v-y*o,_=!b):i==="end"&&(g=v+y*o,_=b),_=k<=0?_:!_;var T=mt(c,u,x,g),I=mt(c,u,x,g+(_?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(I.x,",").concat(I.y),S=Ue(e.id)?jd("recharts-radial-line-"):e.id;return $.createElement("text",Wf({},n,{dominantBaseline:"central",className:Ve("recharts-radial-bar-label",s)}),$.createElement("defs",null,$.createElement("path",{id:S,d:E})),$.createElement("textPath",{xlinkHref:"#".concat(S)},r))},Dde=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var p=mt(o,s,c+n,h),v=p.x,b=p.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,k=mt(o,s,x,h),y=k.x,g=k.y;return{x:y,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Mde=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",v=f>0?"start":"end",b=c>=0?1:-1,x=b*i,k=b>0?"end":"start",y=b>0?"start":"end";if(a==="top"){var g={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Gt(Gt({},g),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var _={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:v};return Gt(Gt({},_),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var T={x:s-x,y:l+u/2,textAnchor:k,verticalAnchor:"middle"};return Gt(Gt({},T),n?{width:Math.max(T.x-n.x,0),height:u}:{})}if(a==="right"){var I={x:s+c+x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Gt(Gt({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:u}:{})}var E=n?{width:c,height:u}:{};return a==="insideLeft"?Gt({x:s+x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideRight"?Gt({x:s+c-x,y:l+u/2,textAnchor:k,verticalAnchor:"middle"},E):a==="insideTop"?Gt({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:v},E):a==="insideBottom"?Gt({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?Gt({x:s+x,y:l+h,textAnchor:y,verticalAnchor:v},E):a==="insideTopRight"?Gt({x:s+c-x,y:l+h,textAnchor:k,verticalAnchor:v},E):a==="insideBottomLeft"?Gt({x:s+x,y:l+u-h,textAnchor:y,verticalAnchor:p},E):a==="insideBottomRight"?Gt({x:s+c-x,y:l+u-h,textAnchor:k,verticalAnchor:p},E):bc(a)&&(le(a.x)||Bo(a.x))&&(le(a.y)||Bo(a.y))?Gt({x:s+Vr(a.x,c),y:l+Vr(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):Gt({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},$de=function(e){return"cx"in e&&le(e.cx)};function ar(t){var e=t.offset,r=e===void 0?5:e,n=Ade(t,wde),i=Gt({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||Ue(s)&&Ue(l)&&!D.isValidElement(c)&&!De(c))return null;if(D.isValidElement(c))return D.cloneElement(c,i);var p;if(De(c)){if(p=D.createElement(c,i),D.isValidElement(p))return p}else p=Nde(i);var v=$de(a),b=Oe(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return jde(i,p,b);var x=v?Dde(i):Mde(i);return $.createElement(ds,Wf({className:Ve("recharts-label",f)},b,x,{breakAll:h}),p)}ar.displayName="Label";var RL=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,v=e.left,b=e.width,x=e.height,k=e.clockWise,y=e.labelViewBox;if(y)return y;if(le(b)&&le(x)){if(le(f)&&le(h))return{x:f,y:h,width:b,height:x};if(le(p)&&le(v))return{x:p,y:v,width:b,height:x}}return le(f)&&le(h)?{x:f,y:h,width:0,height:0}:le(r)&&le(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:k}:e.viewBox?e.viewBox:{}},Lde=function(e,r){return e?e===!0?$.createElement(ar,{key:"label-implicit",viewBox:r}):Jt(e)?$.createElement(ar,{key:"label-implicit",viewBox:r,value:e}):D.isValidElement(e)?e.type===ar?D.cloneElement(e,{key:"label-implicit",viewBox:r}):$.createElement(ar,{key:"label-implicit",content:e,viewBox:r}):De(e)?$.createElement(ar,{key:"label-implicit",content:e,viewBox:r}):bc(e)?$.createElement(ar,Wf({viewBox:r},e,{key:"label-implicit"})):null:null},Fde=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=RL(e),o=In(i,ar).map(function(l,c){return D.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=Lde(e.label,r||a);return[s].concat(_de(o))};ar.parseViewBox=RL;ar.renderCallByParent=Fde;function Vde(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Ude=Vde;const Bde=at(Ude);function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}var zde=["valueAccessor"],qde=["data","dataKey","clockWise","id","textBreakAll"];function Wde(t){return Xde(t)||Gde(t)||Kde(t)||Hde()}function Hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kde(t,e){if(t){if(typeof t=="string")return Ux(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ux(t,e)}}function Gde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xde(t){if(Array.isArray(t))return Ux(t)}function Ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qm.apply(this,arguments)}function JP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(r),!0).forEach(function(n){Yde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yde(t,e,r){return e=Qde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qde(t){var e=Jde(t,"string");return Hf(e)=="symbol"?e:String(e)}function Jde(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eI(t,e){if(t==null)return{};var r=Zde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zde(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var ehe=function(e){return Array.isArray(e.value)?Bde(e.value):e.value};function to(t){var e=t.valueAccessor,r=e===void 0?ehe:e,n=eI(t,zde),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=eI(n,qde);return!i||!i.length?null:$.createElement(nt,{className:"recharts-label-list"},i.map(function(u,f){var h=Ue(a)?r(u,f):Ir(u&&u.payload,a),p=Ue(s)?{}:{id:"".concat(s,"-").concat(f)};return $.createElement(ar,qm({},Oe(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:ar.parseViewBox(Ue(o)?u:ZP(ZP({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}to.displayName="LabelList";function the(t,e){return t?t===!0?$.createElement(to,{key:"labelList-implicit",data:e}):$.isValidElement(t)||De(t)?$.createElement(to,{key:"labelList-implicit",data:e,content:t}):bc(t)?$.createElement(to,qm({data:e},t,{key:"labelList-implicit"})):null:null}function rhe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=In(n,to).map(function(o,s){return D.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=the(t.label,e);return[a].concat(Wde(i))}to.renderCallByParent=rhe;function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Bx(){return Bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bx.apply(this,arguments)}function tI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(r),!0).forEach(function(n){nhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nhe(t,e,r){return e=ihe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ihe(t){var e=ahe(t,"string");return Kf(e)=="symbol"?e:String(e)}function ahe(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ohe=function(e,r){var n=Fr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Vh=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/zm,h=c?a:a+o*f,p=mt(r,n,u,h),v=mt(r,n,i,h),b=c?a-o*f:a,x=mt(r,n,u*Math.cos(f*zm),b);return{center:p,circleTangency:v,lineTangency:x,theta:f}},jL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=ohe(o,s),c=o+l,u=mt(r,n,a,o),f=mt(r,n,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=mt(r,n,i,o),v=mt(r,n,i,c);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},she=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Fr(u-c),h=Vh({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,b=h.theta,x=Vh({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:l}),k=x.circleTangency,y=x.lineTangency,g=x.theta,_=l?Math.abs(c-u):Math.abs(c-u)-b-g;if(_<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var T="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var I=Vh({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=I.circleTangency,S=I.lineTangency,O=I.theta,C=Vh({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),R=C.circleTangency,N=C.lineTangency,P=C.theta,F=l?Math.abs(c-u):Math.abs(c-u)-O-P;if(F<0&&o===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},lhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DL=function(e){var r=rI(rI({},lhe),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(o<a||u===f)return null;var p=Ve("recharts-sector",h),v=o-a,b=Vr(s,v,0,!0),x;return b>0&&Math.abs(u-f)<360?x=she({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):x=jL({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),$.createElement("path",Bx({},Oe(r,!0),{className:p,d:x,role:"img"}))};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zx.apply(this,arguments)}function nI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(r),!0).forEach(function(n){che(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function che(t,e,r){return e=uhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uhe(t){var e=fhe(t,"string");return Gf(e)=="symbol"?e:String(e)}function fhe(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aI={curveBasisClosed:bJ,curveBasisOpen:xJ,curveBasis:vJ,curveBumpX:iJ,curveBumpY:aJ,curveLinearClosed:wJ,curveLinear:vy,curveMonotoneX:_J,curveMonotoneY:kJ,curveNatural:EJ,curveStep:SJ,curveStepAfter:AJ,curveStepBefore:TJ},Uh=function(e){return e.x===+e.x&&e.y===+e.y},su=function(e){return e.x},lu=function(e){return e.y},dhe=function(e,r){if(De(e))return e;var n="curve".concat(gy(e));return(n==="curveMonotone"||n==="curveBump")&&r?aI["".concat(n).concat(r==="vertical"?"Y":"X")]:aI[n]||vy},hhe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=dhe(n,s),f=c?a.filter(function(b){return Uh(b)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(b){return Uh(b)}):o,v=f.map(function(b,x){return iI(iI({},b),{},{base:p[x]})});return s==="vertical"?h=Ch().y(lu).x1(su).x0(function(b){return b.base.x}):h=Ch().x(su).y1(lu).y0(function(b){return b.base.y}),h.defined(Uh).curve(u),h(v)}return s==="vertical"&&le(o)?h=Ch().y(lu).x1(su).x0(o):le(o)?h=Ch().x(su).y1(lu).y0(o):h=CM().x(su).y(lu),h.defined(Uh).curve(u),h(f)},qx=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?hhe(e):i;return $.createElement("path",zx({},Oe(e,!1),gm(e),{className:Ve("recharts-curve",r),d:o,ref:a}))},phe=Object.getOwnPropertyNames,mhe=Object.getOwnPropertySymbols,ghe=Object.prototype.hasOwnProperty;function oI(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Bh(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function sI(t){return phe(t).concat(mhe(t))}var ML=Object.hasOwn||function(t,e){return ghe.call(t,e)};function Ic(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var $L="_owner",lI=Object.getOwnPropertyDescriptor,cI=Object.keys;function yhe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function vhe(t,e){return Ic(t.getTime(),e.getTime())}function uI(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.entries(),a=0,o,s;(o=i.next())&&!o.done;){for(var l=e.entries(),c=!1,u=0;(s=l.next())&&!s.done;){var f=o.value,h=f[0],p=f[1],v=s.value,b=v[0],x=v[1];!c&&!n[u]&&(c=r.equals(h,b,a,u,t,e,r)&&r.equals(p,x,h,b,t,e,r))&&(n[u]=!0),u++}if(!c)return!1;a++}return!0}function bhe(t,e,r){var n=cI(t),i=n.length;if(cI(e).length!==i)return!1;for(var a;i-- >0;)if(a=n[i],a===$L&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!ML(e,a)||!r.equals(t[a],e[a],a,a,t,e,r))return!1;return!0}function cu(t,e,r){var n=sI(t),i=n.length;if(sI(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],a===$L&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!ML(e,a)||!r.equals(t[a],e[a],a,a,t,e,r)||(o=lI(t,a),s=lI(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function xhe(t,e){return Ic(t.valueOf(),e.valueOf())}function whe(t,e){return t.source===e.source&&t.flags===e.flags}function fI(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.values(),a,o;(a=i.next())&&!a.done;){for(var s=e.values(),l=!1,c=0;(o=s.next())&&!o.done;)!l&&!n[c]&&(l=r.equals(a.value,o.value,a.value,o.value,t,e,r))&&(n[c]=!0),c++;if(!l)return!1}return!0}function _he(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var khe="[object Arguments]",Ehe="[object Boolean]",She="[object Date]",The="[object Map]",Ahe="[object Number]",Phe="[object Object]",Ihe="[object RegExp]",Ohe="[object Set]",Che="[object String]",Nhe=Array.isArray,dI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,hI=Object.assign,Rhe=Object.prototype.toString.call.bind(Object.prototype.toString);function jhe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(u,f,h){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var p=u.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(u,f,h);if(Nhe(u))return e(u,f,h);if(dI!=null&&dI(u))return l(u,f,h);if(p===Date)return r(u,f,h);if(p===RegExp)return o(u,f,h);if(p===Map)return n(u,f,h);if(p===Set)return s(u,f,h);var v=Rhe(u);return v===She?r(u,f,h):v===Ihe?o(u,f,h):v===The?n(u,f,h):v===Ohe?s(u,f,h):v===Phe?typeof u.then!="function"&&typeof f.then!="function"&&i(u,f,h):v===khe?i(u,f,h):v===Ehe||v===Ahe||v===Che?a(u,f,h):!1}}function Dhe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?cu:yhe,areDatesEqual:vhe,areMapsEqual:n?oI(uI,cu):uI,areObjectsEqual:n?cu:bhe,arePrimitiveWrappersEqual:xhe,areRegExpsEqual:whe,areSetsEqual:n?oI(fI,cu):fI,areTypedArraysEqual:n?cu:_he};if(r&&(i=hI({},i,r(i))),e){var a=Bh(i.areArraysEqual),o=Bh(i.areMapsEqual),s=Bh(i.areObjectsEqual),l=Bh(i.areSetsEqual);i=hI({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Mhe(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function $he(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var Lhe=_o();_o({strict:!0});_o({circular:!0});_o({circular:!0,strict:!0});_o({createInternalComparator:function(){return Ic}});_o({strict:!0,createInternalComparator:function(){return Ic}});_o({circular:!0,createInternalComparator:function(){return Ic}});_o({circular:!0,createInternalComparator:function(){return Ic},strict:!0});function _o(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Dhe(t),l=jhe(s),c=n?n(l):Mhe(l);return $he({circular:r,comparator:l,createState:i,equals:c,strict:o})}function Fhe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Fhe(i)};requestAnimationFrame(n)}function Wx(t){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wx(t)}function Vhe(t){return qhe(t)||zhe(t)||Bhe(t)||Uhe()}function Uhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(t,e){if(t){if(typeof t=="string")return mI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mI(t,e)}}function mI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qhe(t){if(Array.isArray(t))return t}function Whe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Vhe(o),l=s[0],c=s.slice(1);if(typeof l=="number"){pI(i.bind(null,c),l);return}i(l),pI(i.bind(null,c));return}Wx(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function gI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(r),!0).forEach(function(n){LL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LL(t,e,r){return e=Hhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hhe(t){var e=Khe(t,"string");return Xf(e)==="symbol"?e:String(e)}function Khe(t,e){if(Xf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ghe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Xhe=function(e){return e},Yhe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},qu=function(e,r){return Object.keys(r).reduce(function(n,i){return yI(yI({},n),{},LL({},i,e(i,r[i])))},{})},vI=function(e,r,n){return e.map(function(i){return"".concat(Yhe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Qhe(t,e){return epe(t)||Zhe(t,e)||FL(t,e)||Jhe()}function Jhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function epe(t){if(Array.isArray(t))return t}function tpe(t){return ipe(t)||npe(t)||FL(t)||rpe()}function rpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FL(t,e){if(t){if(typeof t=="string")return Hx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hx(t,e)}}function npe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ipe(t){if(Array.isArray(t))return Hx(t)}function Hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wm=1e-4,VL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},UL=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},bI=function(e,r){return function(n){var i=VL(e,r);return UL(i,n)}},ape=function(e,r){return function(n){var i=VL(e,r),a=[].concat(tpe(i.map(function(o,s){return o*s}).slice(1)),[0]);return UL(a,n)}},xI=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=Qhe(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var f=bI(i,o),h=bI(a,s),p=ape(i,o),v=function(k){return k>1?1:k<0?0:k},b=function(k){for(var y=k>1?1:k,g=y,_=0;_<8;++_){var T=f(g)-y,I=p(g);if(Math.abs(T-y)<Wm||I<Wm)return h(g);g=v(g-T/I)}return h(g)};return b.isStepper=!1,b},ope=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(u,f,h){var p=-(u-f)*n,v=h*a,b=h+(p-v)*s/1e3,x=h*s/1e3+u;return Math.abs(x-f)<Wm&&Math.abs(b)<Wm?[f,0]:[x,b]};return l.isStepper=!0,l.dt=s,l},spe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xI(i);case"spring":return ope();default:if(i.split("(")[0]==="cubic-bezier")return xI(i)}return typeof i=="function"?i:null};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function wI(t){return upe(t)||cpe(t)||BL(t)||lpe()}function lpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function upe(t){if(Array.isArray(t))return Gx(t)}function _I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(r),!0).forEach(function(n){Kx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_I(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kx(t,e,r){return e=fpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fpe(t){var e=dpe(t,"string");return Yf(e)==="symbol"?e:String(e)}function dpe(t,e){if(Yf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hpe(t,e){return gpe(t)||mpe(t,e)||BL(t,e)||ppe()}function ppe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BL(t,e){if(t){if(typeof t=="string")return Gx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gx(t,e)}}function Gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function gpe(t){if(Array.isArray(t))return t}var Hm=function(e,r,n){return e+(r-e)*n},Xx=function(e){var r=e.from,n=e.to;return r!==n},ype=function t(e,r,n){var i=qu(function(a,o){if(Xx(o)){var s=e(o.from,o.to,o.velocity),l=hpe(s,2),c=l[0],u=l[1];return ur(ur({},o),{},{from:c,velocity:u})}return o},r);return n<1?qu(function(a,o){return Xx(o)?ur(ur({},o),{},{velocity:Hm(o.velocity,i[a].velocity,n),from:Hm(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const vpe=function(t,e,r,n,i){var a=Ghe(t,e),o=a.reduce(function(x,k){return ur(ur({},x),{},Kx({},k,[t[k],e[k]]))},{}),s=a.reduce(function(x,k){return ur(ur({},x),{},Kx({},k,{from:t[k],velocity:0,to:e[k]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return qu(function(k,y){return y.from},s)},p=function(){return!Object.values(s).filter(Xx).length},v=function(k){c||(c=k);var y=k-c,g=y/r.dt;s=ype(r,s,g),i(ur(ur(ur({},t),e),h())),c=k,p()||(l=requestAnimationFrame(f))},b=function(k){u||(u=k);var y=(k-u)/n,g=qu(function(T,I){return Hm.apply(void 0,wI(I).concat([r(y)]))},o);if(i(ur(ur(ur({},t),e),g)),y<1)l=requestAnimationFrame(f);else{var _=qu(function(T,I){return Hm.apply(void 0,wI(I).concat([r(1)]))},o);i(ur(ur(ur({},t),e),_))}};return f=r.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}var bpe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xpe(t,e){if(t==null)return{};var r=wpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wpe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function y0(t){return Spe(t)||Epe(t)||kpe(t)||_pe()}function _pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kpe(t,e){if(t){if(typeof t=="string")return Yx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yx(t,e)}}function Epe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Spe(t){if(Array.isArray(t))return Yx(t)}function Yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(r),!0).forEach(function(n){_u(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _u(t,e,r){return e=zL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ape(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zL(n.key),n)}}function Ppe(t,e,r){return e&&Ape(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zL(t){var e=Ipe(t,"string");return Jl(e)==="symbol"?e:String(e)}function Ipe(t,e){if(Jl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ope(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qx(t,e)}function Qx(t,e){return Qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qx(t,e)}function Cpe(t){var e=Npe();return function(){var n=Km(t),i;if(e){var a=Km(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Jx(this,i)}}function Jx(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zx(t)}function Zx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Npe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(t)}var sa=function(t){Ope(r,t);var e=Cpe(r);function r(n,i){var a;Tpe(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Zx(a)),a.changeStyle=a.changeStyle.bind(Zx(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),Jx(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},Jx(a);a.state={style:l?_u({},l,c):c}}else a.state={style:{}};return a}return Ppe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?_u({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(Lhe(i.to,u)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||c?f:i.to;if(this.state&&h){var x={style:l?_u({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(x)}this.runAnimation($n($n({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=vpe(o,s,spe(c),l,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([h,u,v,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(b,x,k){if(k===0)return b;var y=x.duration,g=x.easing,_=g===void 0?"ease":g,T=x.style,I=x.properties,E=x.onAnimationEnd,S=k>0?o[k-1]:x,O=I||Object.keys(T);if(typeof _=="function"||_==="spring")return[].concat(y0(b),[a.runJSAnimation.bind(a,{from:S.style,to:T,duration:y,easing:_}),y]);var C=vI(O,y,_),R=$n($n($n({},S.style),T),{},{transition:C});return[].concat(y0(b),[R,y,E]).filter(Xhe)};return this.manager.start([l].concat(y0(o.reduce(p,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Whe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=s?_u({},s,l):l,x=vI(Object.keys(b),o,c);v.start([u,a,$n($n({},b),{},{transition:x}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=xpe(i,bpe),c=D.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var f=function(p){var v=p.props,b=v.style,x=b===void 0?{}:b,k=v.className,y=D.cloneElement(p,$n($n({},l),{},{style:$n($n({},x),u),className:k}));return y};return c===1?f(D.Children.only(a)):$.createElement("div",null,D.Children.map(a,function(h){return f(h)}))}}]),r}(D.PureComponent);sa.displayName="Animate";sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};sa.propTypes={from:H.oneOfType([H.object,H.string]),to:H.oneOfType([H.object,H.string]),attributeName:H.string,duration:H.number,begin:H.number,easing:H.oneOfType([H.string,H.func]),steps:H.arrayOf(H.shape({duration:H.number.isRequired,style:H.object.isRequired,easing:H.oneOfType([H.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),H.func]),properties:H.arrayOf("string"),onAnimationEnd:H.func})),children:H.oneOfType([H.node,H.func]),isActive:H.bool,canBegin:H.bool,onAnimationEnd:H.func,shouldReAnimate:H.bool,onAnimationStart:H.func,onAnimationReStart:H.func};H.object,H.object,H.object,H.element;H.object,H.object,H.object,H.oneOfType([H.array,H.element]),H.any;function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gm.apply(this,arguments)}function Rpe(t,e){return $pe(t)||Mpe(t,e)||Dpe(t,e)||jpe()}function jpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dpe(t,e){if(t){if(typeof t=="string")return EI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EI(t,e)}}function EI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function $pe(t){if(Array.isArray(t))return t}function SI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(r),!0).forEach(function(n){Lpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lpe(t,e,r){return e=Fpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fpe(t){var e=Vpe(t,"string");return Qf(e)=="symbol"?e:String(e)}function Vpe(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AI=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];u="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*f[1])),u+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);u="M ".concat(e,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*v,`
            L `).concat(e+n,",").concat(r+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n-l*v,",").concat(r+i,`
            L `).concat(e+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*v," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},Upe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=u&&i>=f&&i<=h}return!1},Bpe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nk=function(e){var r=TI(TI({},Bpe),e),n=D.useRef(),i=D.useState(-1),a=Rpe(i,2),o=a[0],s=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,b=r.animationDuration,x=r.animationBegin,k=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var g=Ve("recharts-rectangle",p);return y?$.createElement(sa,{canBegin:o>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:b,animationEasing:v,isActive:y},function(_){var T=_.width,I=_.height,E=_.x,S=_.y;return $.createElement(sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:k,easing:v},$.createElement("path",Gm({},Oe(r,!0),{className:g,d:AI(E,S,T,I,h),ref:n})))}):$.createElement("path",Gm({},Oe(r,!0),{className:g,d:AI(l,c,u,f,h)}))},zpe=["points","className","baseLinePoints","connectNulls"];function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ul.apply(this,arguments)}function qpe(t,e){if(t==null)return{};var r=Wpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wpe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function PI(t){return Xpe(t)||Gpe(t)||Kpe(t)||Hpe()}function Hpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kpe(t,e){if(t){if(typeof t=="string")return ew(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ew(t,e)}}function Gpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xpe(t){if(Array.isArray(t))return ew(t)}function ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var II=function(e){return e&&e.x===+e.x&&e.y===+e.y},Ype=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){II(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),II(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Wu=function(e,r){var n=Ype(e);r&&(n=[n.reduce(function(a,o){return[].concat(PI(a),PI(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Qpe=function(e,r,n){var i=Wu(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Wu(r.reverse(),n).slice(1))},Jpe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=qpe(e,zpe);if(!r||!r.length)return null;var s=Ve("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=Qpe(r,i,a);return $.createElement("g",{className:s},$.createElement("path",ul({},Oe(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?$.createElement("path",ul({},Oe(o,!0),{fill:"none",d:Wu(r,a)})):null,l?$.createElement("path",ul({},Oe(o,!0),{fill:"none",d:Wu(i,a)})):null)}var u=Wu(r,a);return $.createElement("path",ul({},Oe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tw.apply(this,arguments)}var Rk=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Ve("recharts-dot",a);return r===+r&&n===+n&&i===+i?$.createElement("circle",tw({},Oe(e,!1),gm(e),{className:o,cx:r,cy:n,r:i})):null};function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}var Zpe=["x","y","top","left","width","height","className"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rw.apply(this,arguments)}function OI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eme(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(r),!0).forEach(function(n){tme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tme(t,e,r){return e=rme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rme(t){var e=nme(t,"string");return Jf(e)=="symbol"?e:String(e)}function nme(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ime(t,e){if(t==null)return{};var r=ame(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ame(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var ome=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},sme=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,v=e.className,b=ime(e,Zpe),x=eme({x:n,y:a,top:s,left:c,width:f,height:p},b);return!le(n)||!le(a)||!le(f)||!le(p)||!le(s)||!le(c)?null:$.createElement("path",rw({},Oe(x,!0),{className:Ve("recharts-cross",v),d:ome(n,a,f,p,s,c)}))},lme=Iy,cme=oL,ume=ki;function fme(t,e){return t&&t.length?lme(t,ume(e),cme):void 0}var dme=fme;const hme=at(dme);var pme=Iy,mme=ki,gme=sL;function yme(t,e){return t&&t.length?pme(t,mme(e),gme):void 0}var vme=yme;const bme=at(vme);var xme=["cx","cy","angle","ticks","axisLine"],wme=["ticks","tick","angle","tickFormatter","stroke"];function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hu.apply(this,arguments)}function CI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(r),!0).forEach(function(n){My(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NI(t,e){if(t==null)return{};var r=_me(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _me(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WL(n.key),n)}}function Eme(t,e,r){return e&&RI(t.prototype,e),r&&RI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sme(t,e,r){return e=Xm(e),Tme(t,qL()?Reflect.construct(e,r||[],Xm(t).constructor):e.apply(t,r))}function Tme(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(t)}function Ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qL=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(t)}function Pme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nw(t,e)}function nw(t,e){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nw(t,e)}function My(t,e,r){return e=WL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WL(t){var e=Ime(t,"string");return Zl(e)=="symbol"?e:String(e)}function Ime(t,e){if(Zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $y=function(t){Pme(e,t);function e(){return kme(this,e),Sme(this,e,arguments)}return Eme(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return mt(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=hme(s,function(u){return u.coordinate||0}),c=bme(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=NI(n,xme),u=s.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),f=mt(i,a,u[0],o),h=mt(i,a,u[1],o),p=Io(Io(Io({},Oe(c,!1)),{},{fill:"none"},Oe(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return $.createElement("line",Hu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=NI(i,wme),f=this.getTickTextAnchor(),h=Oe(u,!1),p=Oe(o,!1),v=a.map(function(b,x){var k=n.getTickValueCoord(b),y=Io(Io(Io(Io({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(k.x,", ").concat(k.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:x},k),{},{payload:b});return $.createElement(nt,Hu({className:Ve("recharts-polar-radius-axis-tick",NL(o)),key:"tick-".concat(b.coordinate)},fs(n.props,b,x)),e.renderTickItem(o,y,l?l(b.value,x):b.value))});return $.createElement(nt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:$.createElement(nt,{className:Ve("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ar.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):De(n)?o=n(i):o=$.createElement(ds,Hu({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}]),e}(D.PureComponent);My($y,"displayName","PolarRadiusAxis");My($y,"axisType","radiusAxis");My($y,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$o.apply(this,arguments)}function jI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(r),!0).forEach(function(n){Ly(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ome(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KL(n.key),n)}}function Cme(t,e,r){return e&&DI(t.prototype,e),r&&DI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nme(t,e,r){return e=Ym(e),Rme(t,HL()?Reflect.construct(e,r||[],Ym(t).constructor):e.apply(t,r))}function Rme(t,e){if(e&&(ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jme(t)}function jme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(t)}function Dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iw(t,e)}function iw(t,e){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iw(t,e)}function Ly(t,e,r){return e=KL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KL(t){var e=Mme(t,"string");return ec(e)=="symbol"?e:String(e)}function Mme(t,e){if(ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $me=Math.PI/180,MI=1e-5,Fy=function(t){Dme(e,t);function e(){return Ome(this,e),Nme(this,e,arguments)}return Cme(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=mt(a,o,s,n.coordinate),h=mt(a,o,s+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*$me),o;return a>MI?o=i==="outer"?"start":"end":a<-MI?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=Oo(Oo({},Oe(this.props,!1)),{},{fill:"none"},Oe(s,!1));if(l==="circle")return $.createElement(Rk,$o({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var u=this.props.ticks,f=u.map(function(h){return mt(i,a,o,h.coordinate)});return $.createElement(Jpe,$o({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=Oe(this.props,!1),f=Oe(o,!1),h=Oo(Oo({},u),{},{fill:"none"},Oe(s,!1)),p=a.map(function(v,b){var x=n.getTickLineCoord(v),k=n.getTickTextAnchor(v),y=Oo(Oo(Oo({textAnchor:k},u),{},{stroke:"none",fill:c},f),{},{index:b,payload:v,x:x.x2,y:x.y2});return $.createElement(nt,$o({className:Ve("recharts-polar-angle-axis-tick",NL(o)),key:"tick-".concat(v.coordinate)},fs(n.props,v,b)),s&&$.createElement("line",$o({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&e.renderTickItem(o,y,l?l(v.value,b):v.value))});return $.createElement(nt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:$.createElement(nt,{className:Ve("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):De(n)?o=n(i):o=$.createElement(ds,$o({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}]),e}(D.PureComponent);Ly(Fy,"displayName","PolarAngleAxis");Ly(Fy,"axisType","angleAxis");Ly(Fy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Lme=t$,Fme=Lme(Object.getPrototypeOf,Object),Vme=Fme,Ume=ua,Bme=Vme,zme=fa,qme="[object Object]",Wme=Function.prototype,Hme=Object.prototype,GL=Wme.toString,Kme=Hme.hasOwnProperty,Gme=GL.call(Object);function Xme(t){if(!zme(t)||Ume(t)!=qme)return!1;var e=Bme(t);if(e===null)return!0;var r=Kme.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&GL.call(r)==Gme}var Yme=Xme;const Qme=at(Yme);var Jme=ua,Zme=fa,ege="[object Boolean]";function tge(t){return t===!0||t===!1||Zme(t)&&Jme(t)==ege}var rge=tge;const nge=at(rge);function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qm.apply(this,arguments)}function ige(t,e){return lge(t)||sge(t,e)||oge(t,e)||age()}function age(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oge(t,e){if(t){if(typeof t=="string")return $I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $I(t,e)}}function $I(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function lge(t){if(Array.isArray(t))return t}function LI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(r),!0).forEach(function(n){cge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cge(t,e,r){return e=uge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uge(t){var e=fge(t,"string");return Zf(e)=="symbol"?e:String(e)}function fge(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VI=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},dge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hge=function(e){var r=FI(FI({},dge),e),n=D.useRef(),i=D.useState(-1),a=ige(i,2),o=a[0],s=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var g=n.current.getTotalLength();g&&s(g)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,b=r.animationDuration,x=r.animationBegin,k=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var y=Ve("recharts-trapezoid",p);return k?$.createElement(sa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:b,animationEasing:v,isActive:k},function(g){var _=g.upperWidth,T=g.lowerWidth,I=g.height,E=g.x,S=g.y;return $.createElement(sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},$.createElement("path",Qm({},Oe(r,!0),{className:y,d:VI(E,S,_,T,I),ref:n})))}):$.createElement("g",null,$.createElement("path",Qm({},Oe(r,!0),{className:y,d:VI(l,c,u,f,h)})))},pge=["option","shapeType","propTransformer","activeClassName","isActive"];function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function mge(t,e){if(t==null)return{};var r=gge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gge(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function UI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(r),!0).forEach(function(n){yge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yge(t,e,r){return e=vge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vge(t){var e=bge(t,"string");return ed(e)=="symbol"?e:String(e)}function bge(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xge(t,e){return Jm(Jm({},e),t)}function wge(t,e){return t==="symbols"}function BI(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return $.createElement(Nk,r);case"trapezoid":return $.createElement(hge,r);case"sector":return $.createElement(DL,r);case"symbols":if(wge(e))return $.createElement(Y1,r);break;default:return null}}function _ge(t){return D.isValidElement(t)?t.props:t}function XL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?xge:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=mge(t,pge),c;if(D.isValidElement(e))c=D.cloneElement(e,Jm(Jm({},l),_ge(e)));else if(De(e))c=e(l);else if(Qme(e)&&!nge(e)){var u=i(e,l);c=$.createElement(BI,{shapeType:r,elementProps:u})}else{var f=l;c=$.createElement(BI,{shapeType:r,elementProps:f})}return s?$.createElement(nt,{className:o},c):c}function Vy(t,e){return e!=null&&"trapezoids"in t.props}function Uy(t,e){return e!=null&&"sectors"in t.props}function td(t,e){return e!=null&&"points"in t.props}function kge(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Ege(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Sge(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Tge(t,e){var r;return Vy(t,e)?r=kge:Uy(t,e)?r=Ege:td(t,e)&&(r=Sge),r}function Age(t,e){var r;return Vy(t,e)?r="trapezoids":Uy(t,e)?r="sectors":td(t,e)&&(r="points"),r}function Pge(t,e){if(Vy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Uy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return td(t,e)?e.payload:{}}function Ige(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Age(r,e),a=Pge(r,e),o=n.filter(function(l,c){var u=Ny(a,l),f=r.props[i].filter(function(v){var b=Tge(r,e);return b(v,e)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),s=n.indexOf(o[o.length-1]);return s}var bp;function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fl.apply(this,arguments)}function zI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(r),!0).forEach(function(n){En(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QL(n.key),n)}}function Cge(t,e,r){return e&&qI(t.prototype,e),r&&qI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nge(t,e,r){return e=Zm(e),Rge(t,YL()?Reflect.construct(e,r||[],Zm(t).constructor):e.apply(t,r))}function Rge(t,e){if(e&&(tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ks(t)}function YL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YL=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(t)}function Ks(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aw(t,e)}function En(t,e,r){return e=QL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QL(t){var e=Dge(t,"string");return tc(e)=="symbol"?e:String(e)}function Dge(t,e){if(tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ei=function(t){jge(e,t);function e(r){var n;return Oge(this,e),n=Nge(this,e,[r]),En(Ks(n),"pieRef",null),En(Ks(n),"sectorRefs",[]),En(Ks(n),"id",jd("recharts-pie-")),En(Ks(n),"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),De(i)&&i()}),En(Ks(n),"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),De(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Cge(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,u=Oe(this.props,!1),f=Oe(o,!1),h=Oe(s,!1),p=o&&o.offsetRadius||20,v=n.map(function(b,x){var k=(b.startAngle+b.endAngle)/2,y=mt(b.cx,b.cy,b.outerRadius+p,k),g=St(St(St(St({},u),b),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(y.x,b.cx)},y),_=St(St(St(St({},u),b),{},{fill:"none",stroke:b.fill},h),{},{index:x,points:[mt(b.cx,b.cy,b.outerRadius,k),y],key:"line"}),T=l;return Ue(l)&&Ue(c)?T="value":Ue(l)&&(T=c),$.createElement(nt,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},s&&e.renderLabelLineItem(s,_),e.renderLabelItem(o,g,Ir(b,T)))});return $.createElement(nt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,v=St(St({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return $.createElement(nt,fl({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},fs(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),$.createElement(XL,fl({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return $.createElement(sa,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,x=[],k=a&&a[0],y=k.startAngle;return a.forEach(function(g,_){var T=h&&h[_],I=_>0?fn(g,"paddingAngle",0):0;if(T){var E=Sa(T.endAngle-T.startAngle,g.endAngle-g.startAngle),S=St(St({},g),{},{startAngle:y+I,endAngle:y+E(b)+I});x.push(S),y=S.endAngle}else{var O=g.endAngle,C=g.startAngle,R=Sa(0,O-C),N=R(b),P=St(St({},g),{},{startAngle:y+I,endAngle:y+N+I});x.push(P),y=P.endAngle}}),$.createElement(nt,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Ny(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!le(c)||!le(u)||!le(f)||!le(h))return null;var b=Ve("recharts-pie",s);return $.createElement(nt,{tabIndex:this.props.rootTabIndex,className:b,ref:function(k){n.pieRef=k}},this.renderSectors(),l&&this.renderLabels(o),ar.renderCallByParent(this.props,null,!1),(!p||v)&&to.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i){if($.isValidElement(n))return $.cloneElement(n,i);if(De(n))return n(i);var a=Ve("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return $.createElement(qx,fl({},i,{type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,a){if($.isValidElement(n))return $.cloneElement(n,i);var o=a;if(De(n)&&(o=n(i),$.isValidElement(o)))return o;var s=Ve("recharts-pie-label-text",typeof n!="boolean"&&!De(n)?n.className:"");return $.createElement(ds,fl({},i,{alignmentBaseline:"middle",className:s}),o)}}]),e}(D.PureComponent);bp=Ei;En(Ei,"displayName","Pie");En(Ei,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ki.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});En(Ei,"parseDeltaAngle",function(t,e){var r=Fr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});En(Ei,"getRealPieData",function(t){var e=t.props,r=e.data,n=e.children,i=Oe(t.props,!1),a=In(n,Md);return r&&r.length?r.map(function(o,s){return St(St(St({payload:o},i),o),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(o){return St(St({},i),o.props)}):[]});En(Ei,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=CL(i,a),s=n+Vr(t.props.cx,i,i/2),l=r+Vr(t.props.cy,a,a/2),c=Vr(t.props.innerRadius,o,0),u=Vr(t.props.outerRadius,o,o*.8),f=t.props.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});En(Ei,"getComposedData",function(t){var e=t.item,r=t.offset,n=bp.getRealPieData(e);if(!n||!n.length)return null;var i=e.props,a=i.cornerRadius,o=i.startAngle,s=i.endAngle,l=i.paddingAngle,c=i.dataKey,u=i.nameKey,f=i.valueKey,h=i.tooltipType,p=Math.abs(e.props.minAngle),v=bp.parseCoordinateOfPie(e,r),b=bp.parseDeltaAngle(o,s),x=Math.abs(b),k=c;Ue(c)&&Ue(f)?(Hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k="value"):Ue(c)&&(Hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k=f);var y=n.filter(function(S){return Ir(S,k,0)!==0}).length,g=(x>=360?y:y-1)*l,_=x-y*p-g,T=n.reduce(function(S,O){var C=Ir(O,k,0);return S+(le(C)?C:0)},0),I;if(T>0){var E;I=n.map(function(S,O){var C=Ir(S,k,0),R=Ir(S,u,O),N=(le(C)?C:0)/T,P;O?P=E.endAngle+Fr(b)*l*(C!==0?1:0):P=o;var F=P+Fr(b)*((C!==0?p:0)+N*_),B=(P+F)/2,W=(v.innerRadius+v.outerRadius)/2,X=[{name:R,value:C,payload:S,dataKey:k,type:h}],U=mt(v.cx,v.cy,W,B);return E=St(St(St({percent:N,cornerRadius:a,name:R,tooltipPayload:X,midAngle:B,middleRadius:W,tooltipPosition:U},S),v),{},{value:Ir(S,k),startAngle:P,endAngle:F,payload:S,paddingAngle:Fr(b)*l}),E})}return St(St({},v),{},{sectors:I,data:n})});var Mge=Math.ceil,$ge=Math.max;function Lge(t,e,r,n){for(var i=-1,a=$ge(Mge((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Fge=Lge,Vge=w$,WI=1/0,Uge=17976931348623157e292;function Bge(t){if(!t)return t===0?t:0;if(t=Vge(t),t===WI||t===-WI){var e=t<0?-1:1;return e*Uge}return t===t?t:0}var JL=Bge,zge=Fge,qge=_y,v0=JL;function Wge(t){return function(e,r,n){return n&&typeof n!="number"&&qge(e,r,n)&&(r=n=void 0),e=v0(e),r===void 0?(r=e,e=0):r=v0(r),n=n===void 0?e<r?1:-1:v0(n),zge(e,r,n,t)}}var Hge=Wge,Kge=Hge,Gge=Kge(),Xge=Gge;const eg=at(Xge);function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function HI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(r),!0).forEach(function(n){ZL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZL(t,e,r){return e=Yge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yge(t){var e=Qge(t,"string");return rd(e)=="symbol"?e:String(e)}function Qge(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jge=["Webkit","Moz","O","ms"],Zge=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Jge.reduce(function(a,o){return KI(KI({},a),{},ZL({},o+n,r))},{});return i[e]=r,i};function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tg.apply(this,arguments)}function GI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(r),!0).forEach(function(n){nn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t4(n.key),n)}}function tye(t,e,r){return e&&XI(t.prototype,e),r&&XI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rye(t,e,r){return e=rg(e),nye(t,e4()?Reflect.construct(e,r||[],rg(t).constructor):e.apply(t,r))}function nye(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ei(t)}function e4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e4=function(){return!!t})()}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rg(t)}function ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ow(t,e)}function nn(t,e,r){return e=t4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t4(t){var e=aye(t,"string");return rc(e)=="symbol"?e:String(e)}function aye(t,e){if(rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oye=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Bu().domain(eg(0,l)).range([a,a+o-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},YI=function(e){return e.changedTouches&&!!e.changedTouches.length},nc=function(t){iye(e,t);function e(r){var n;return eye(this,e),n=rye(this,e,[r]),nn(ei(n),"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),nn(ei(n),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),nn(ei(n),"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),nn(ei(n),"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),nn(ei(n),"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),nn(ei(n),"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),nn(ei(n),"handleSlideDragStart",function(i){var a=YI(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(ei(n),"startX"),endX:n.handleTravellerDragStart.bind(ei(n),"endX")},n.state={},n}return tye(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),v=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Ir(a[n],s,n);return De(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,b=n.pageX-a;b>0?b=Math.min(b,c+u-f-s,c+u-f-o):b<0&&(b=Math.max(b,c-o,c-s));var x=this.getIndex({startX:o+b,endX:s+b});(x.startIndex!==h||x.endIndex!==p)&&v&&v(x),this.setState({startX:o+b,endX:s+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=YI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,v=u.onChange,b=u.gap,x=u.data,k={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-p-c):y<0&&(y=Math.max(y,f-c)),k[o]=c+y;var g=this.getIndex(k),_=g.startIndex,T=g.endIndex,I=function(){var S=x.length-1;return o==="startX"&&(s>l?_%b===0:T%b===0)||s<l&&T===S||o==="endX"&&(s>l?T%b===0:_%b===0)||s>l&&T===S};this.setState(nn(nn({},o,c+y),"brushMoveStartX",n.pageX),function(){v&&I()&&v(g)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(nn({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return $.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,f=D.Children.only(c);return f?$.cloneElement(f,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,b=l.startIndex,x=l.endIndex,k=Math.max(n,this.props.x),y=b0(b0({},Oe(this.props,!1)),{},{x:k,y:c,width:u,height:f}),g=p||"Min value: ".concat((a=v[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return $.createElement(nt,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,v={pointerEvents:"none",fill:c};return $.createElement(nt,{className:"recharts-brush-texts"},$.createElement(ds,tg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},v),this.getTextOfTick(i)),$.createElement(ds,tg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,b=h.isTextActive,x=h.isSlideMoving,k=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!le(s)||!le(l)||!le(c)||!le(u)||c<=0||u<=0)return null;var g=Ve("recharts-brush",a),_=$.Children.count(o)===1,T=Zge("userSelect","none");return $.createElement(nt,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||k||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return $.isValidElement(n)?a=$.cloneElement(n,i):De(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return b0({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?oye({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}]),e}(D.PureComponent);nn(nc,"displayName","Brush");nn(nc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var sye=nk;function lye(t,e){var r;return sye(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var cye=lye,uye=KM,fye=ki,dye=cye,hye=tn,pye=_y;function mye(t,e,r){var n=hye(t)?uye:dye;return r&&pye(t,e,r)&&(e=void 0),n(t,fye(e))}var gye=mye;const yye=at(gye);var vi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},QI=g$;function vye(t,e,r){e=="__proto__"&&QI?QI(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var bye=vye,xye=bye,wye=p$,_ye=ki;function kye(t,e){var r={};return e=_ye(e),wye(t,function(n,i,a){xye(r,i,e(n,i,a))}),r}var Eye=kye;const Sye=at(Eye);function Tye(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Aye=Tye,Pye=nk;function Iye(t,e){var r=!0;return Pye(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Oye=Iye,Cye=Aye,Nye=Oye,Rye=ki,jye=tn,Dye=_y;function Mye(t,e,r){var n=jye(t)?Cye:Nye;return r&&Dye(t,e,r)&&(e=void 0),n(t,Rye(e))}var $ye=Mye;const r4=at($ye);var Lye=["x","y"];function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sw.apply(this,arguments)}function JI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(r),!0).forEach(function(n){Fye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fye(t,e,r){return e=Vye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vye(t){var e=Uye(t,"string");return nd(e)=="symbol"?e:String(e)}function Uye(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bye(t,e){if(t==null)return{};var r=zye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zye(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function qye(t,e){var r=t.x,n=t.y,i=Bye(t,Lye),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return uu(uu(uu(uu(uu({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function ZI(t){return $.createElement(XL,sw({shapeType:"rectangle",propTransformer:qye,activeClassName:"recharts-active-bar"},t))}var Wye=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||ps(),r)}},Hye=["value","background"],n4;function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function Kye(t,e){if(t==null)return{};var r=Gye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gye(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ng.apply(this,arguments)}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){Ua(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a4(n.key),n)}}function Yye(t,e,r){return e&&tO(t.prototype,e),r&&tO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qye(t,e,r){return e=ig(e),Jye(t,i4()?Reflect.construct(e,r||[],ig(t).constructor):e.apply(t,r))}function Jye(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ku(t)}function i4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i4=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ig(t)}function ku(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lw(t,e)}function Ua(t,e,r){return e=a4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a4(t){var e=eve(t,"string");return ic(e)=="symbol"?e:String(e)}function eve(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Is=function(t){Zye(e,t);function e(){var r;Xye(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qye(this,e,[].concat(i)),Ua(ku(r),"state",{isAnimationFinished:!1}),Ua(ku(r),"id",jd("recharts-bar-")),Ua(ku(r),"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ua(ku(r),"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Yye(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=Oe(this.props,!1);return n&&n.map(function(f,h){var p=h===l,v=p?c:o,b=tr(tr(tr({},u),f),{},{isActive:p,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(nt,ng({className:"recharts-bar-rectangle"},fs(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),$.createElement(ZI,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return $.createElement(sa,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,b=a.map(function(x,k){var y=h&&h[k];if(y){var g=Sa(y.x,x.x),_=Sa(y.y,x.y),T=Sa(y.width,x.width),I=Sa(y.height,x.height);return tr(tr({},x),{},{x:g(v),y:_(v),width:T(v),height:I(v)})}if(o==="horizontal"){var E=Sa(0,x.height),S=E(v);return tr(tr({},x),{},{y:x.y+x.height-S,height:S})}var O=Sa(0,x.width),C=O(v);return tr(tr({},x),{},{width:C})});return $.createElement(nt,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Ny(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Oe(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=Kye(c,Hye);if(!f)return null;var p=tr(tr(tr(tr(tr({},h),{},{fill:"#eee"},f),l),fs(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,key:"background-bar-".concat(u),className:"recharts-bar-background-rectangle"});return $.createElement(ZI,ng({option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=In(u,Dy);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(x,k){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Ir(x,k)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return $.createElement(nt,v,f.map(function(b){return $.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,b=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,k=Ve("recharts-bar",o),y=s&&s.allowDataOverflow,g=l&&l.allowDataOverflow,_=y||g,T=Ue(b)?this.id:b;return $.createElement(nt,{className:k},y||g?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(T)},$.createElement("rect",{x:y?c:c-f/2,y:g?u:u-h/2,width:y?f:f*2,height:g?h:h*2}))):null,$.createElement(nt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(T,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,T),(!p||x)&&to.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}]),e}(D.PureComponent);n4=Is;Ua(Is,"displayName","Bar");Ua(Is,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ki.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ua(Is,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Jfe(n,r);if(!p)return null;var v=e.layout,b=r.props,x=b.dataKey,k=b.children,y=b.minPointSize,g=v==="horizontal"?o:a,_=c?g.scale.domain():null,T=ade({numericAxis:g}),I=In(k,Md),E=f.map(function(S,O){var C,R,N,P,F,B;c?C=Zfe(c[u+O],_):(C=Ir(S,x),Array.isArray(C)||(C=[T,C]));var W=Wye(y,n4.defaultProps.minPointSize)(C[1],O);if(v==="horizontal"){var X,U=[o.scale(C[0]),o.scale(C[1])],Y=U[0],te=U[1];R=qP({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:S,index:O}),N=(X=te??Y)!==null&&X!==void 0?X:void 0,P=p.size;var ce=Y-te;if(F=Number.isNaN(ce)?0:ce,B={x:R,y:o.y,width:P,height:o.height},Math.abs(W)>0&&Math.abs(F)<Math.abs(W)){var ae=Fr(F||W)*(Math.abs(W)-Math.abs(F));N-=ae,F+=ae}}else{var se=[a.scale(C[0]),a.scale(C[1])],Se=se[0],Re=se[1];if(R=Se,N=qP({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:S,index:O}),P=Re-Se,F=p.size,B={x:a.x,y:N,width:a.width,height:F},Math.abs(W)>0&&Math.abs(P)<Math.abs(W)){var He=Fr(P||W)*(Math.abs(W)-Math.abs(P));P+=He}}return tr(tr(tr({},S),{},{x:R,y:N,width:P,height:F,value:c?C:C[1],payload:S,background:B},I&&I[O]&&I[O].props),{},{tooltipPayload:[IL(r,S)],tooltipPosition:{x:R+P/2,y:N+F/2}})});return tr({data:E,layout:v},h)});function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function tve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o4(n.key),n)}}function rve(t,e,r){return e&&rO(t.prototype,e),r&&rO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(r),!0).forEach(function(n){By(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function By(t,e,r){return e=o4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o4(t){var e=nve(t,"string");return id(e)=="symbol"?e:String(e)}function nve(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ive=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!on(c,Is);return u.reduce(function(p,v){var b=r[v],x=b.orientation,k=b.domain,y=b.padding,g=y===void 0?{}:y,_=b.mirror,T=b.reversed,I="".concat(x).concat(_?"Mirror":""),E,S,O,C,R;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var N=k[1]-k[0],P=1/0,F=b.categoricalDomain.sort();if(F.forEach(function(Se,Re){Re>0&&(P=Math.min((Se||0)-(F[Re-1]||0),P))}),Number.isFinite(P)){var B=P/N,W=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(E=B*W/2),b.padding==="no-gap"){var X=Vr(e.barCategoryGap,B*W),U=B*W/2;E=U-X-(U-X)/W*X}}}i==="xAxis"?S=[n.left+(g.left||0)+(E||0),n.left+n.width-(g.right||0)-(E||0)]:i==="yAxis"?S=l==="horizontal"?[n.top+n.height-(g.bottom||0),n.top+(g.top||0)]:[n.top+(g.top||0)+(E||0),n.top+n.height-(g.bottom||0)-(E||0)]:S=b.range,T&&(S=[S[1],S[0]]);var Y=SL(b,a,h),te=Y.scale,ce=Y.realScaleType;te.domain(k).range(S),TL(te);var ae=AL(te,Vn(Vn({},b),{},{realScaleType:ce}));i==="xAxis"?(R=x==="top"&&!_||x==="bottom"&&_,O=n.left,C=f[I]-R*b.height):i==="yAxis"&&(R=x==="left"&&!_||x==="right"&&_,O=f[I]-R*b.width,C=n.top);var se=Vn(Vn(Vn({},b),ae),{},{realScaleType:ce,x:O,y:C,scale:te,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return se.bandSize=Bm(se,ae),!b.hide&&i==="xAxis"?f[I]+=(R?-1:1)*se.height:b.hide||(f[I]+=(R?-1:1)*se.width),Vn(Vn({},p),{},By({},v,se))},{})},s4=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},ave=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return s4({x:r,y:n},{x:i,y:a})},l4=function(){function t(e){tve(this,t),this.scale=e}return rve(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}]),t}();By(l4,"EPS",1e-4);var jk=function(e){var r=Object.keys(e).reduce(function(n,i){return Vn(Vn({},n),{},By({},i,l4.create(e[i])))},{});return Vn(Vn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Sye(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return r4(i,function(a,o){return r[o].isInRange(a)})}})};function ove(t){return(t%180+180)%180}var sve=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ove(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},lve=ki,cve=Dd,uve=xy;function fve(t){return function(e,r,n){var i=Object(e);if(!cve(e)){var a=lve(r);e=uve(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var dve=fve,hve=JL;function pve(t){var e=hve(t),r=e%1;return e===e?r?e-r:e:0}var mve=pve,gve=s$,yve=ki,vve=mve,bve=Math.max;function xve(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:vve(r);return i<0&&(i=bve(n+i,0)),gve(t,yve(e),i)}var wve=xve,_ve=dve,kve=wve,Eve=_ve(kve),Sve=Eve;const Tve=at(Sve);var Ave=GX(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Dk=D.createContext(void 0),Mk=D.createContext(void 0),c4=D.createContext(void 0),u4=D.createContext({}),f4=D.createContext(void 0),d4=D.createContext(0),h4=D.createContext(0),iO=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=Ave(a);return $.createElement(Dk.Provider,{value:n},$.createElement(Mk.Provider,{value:i},$.createElement(u4.Provider,{value:a},$.createElement(c4.Provider,{value:u},$.createElement(f4.Provider,{value:o},$.createElement(d4.Provider,{value:c},$.createElement(h4.Provider,{value:l},s)))))))},Pve=function(){return D.useContext(f4)},p4=function(e){var r=D.useContext(Dk);r==null&&ps();var n=r[e];return n==null&&ps(),n},Ive=function(){var e=D.useContext(Dk);return Ma(e)},Ove=function(){var e=D.useContext(Mk),r=Tve(e,function(n){return r4(n.domain,Number.isFinite)});return r||Ma(e)},m4=function(e){var r=D.useContext(Mk);r==null&&ps();var n=r[e];return n==null&&ps(),n},Cve=function(){var e=D.useContext(c4);return e},Nve=function(){return D.useContext(u4)},$k=function(){return D.useContext(h4)},Lk=function(){return D.useContext(d4)};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){Rve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rve(t,e,r){return e=jve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jve(t){var e=Dve(t,"string");return ad(e)=="symbol"?e:String(e)}function Dve(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mve(t,e){return Vve(t)||Fve(t,e)||Lve(t,e)||$ve()}function $ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lve(t,e){if(t){if(typeof t=="string")return sO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sO(t,e)}}function sO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Vve(t){if(Array.isArray(t))return t}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cw.apply(this,arguments)}var Uve=function(e,r){var n;return $.isValidElement(e)?n=$.cloneElement(e,r):De(e)?n=e(r):n=$.createElement("line",cw({},r,{className:"recharts-reference-line-line"})),n},Bve=function(e,r,n,i,a,o,s,l,c){var u=a.x,f=a.y,h=a.width,p=a.height;if(n){var v=c.y,b=e.y.apply(v,{position:o});if(vi(c,"discard")&&!e.y.isInRange(b))return null;var x=[{x:u+h,y:b},{x:u,y:b}];return l==="left"?x.reverse():x}if(r){var k=c.x,y=e.x.apply(k,{position:o});if(vi(c,"discard")&&!e.x.isInRange(y))return null;var g=[{x:y,y:f+p},{x:y,y:f}];return s==="top"?g.reverse():g}if(i){var _=c.segment,T=_.map(function(I){return e.apply(I,{position:o})});return vi(c,"discard")&&yye(T,function(I){return!e.isInRange(I)})?null:T}return null};function Fk(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=Pve(),u=p4(i),f=m4(a),h=Cve();if(!c||!h)return null;Hn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=jk({x:u.scale,y:f.scale}),v=Jt(e),b=Jt(r),x=n&&n.length===2,k=Bve(p,v,b,x,h,t.position,u.orientation,f.orientation,t);if(!k)return null;var y=Mve(k,2),g=y[0],_=g.x,T=g.y,I=y[1],E=I.x,S=I.y,O=vi(t,"hidden")?"url(#".concat(c,")"):void 0,C=oO(oO({clipPath:O},Oe(t,!0)),{},{x1:_,y1:T,x2:E,y2:S});return $.createElement(nt,{className:Ve("recharts-reference-line",s)},Uve(o,C),ar.renderCallByParent(t,ave({x1:_,y1:T,x2:E,y2:S})))}Fk.displayName="ReferenceLine";Fk.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uw.apply(this,arguments)}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){zve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zve(t,e,r){return e=qve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qve(t){var e=Wve(t,"string");return od(e)=="symbol"?e:String(e)}function Wve(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hve=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=jk({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return vi(e,"discard")&&!o.isInRange(s)?null:s};function Ud(t){var e=t.x,r=t.y,n=t.r,i=t.alwaysShow,a=t.clipPathId,o=Jt(e),s=Jt(r);if(Hn(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!s)return null;var l=Hve(t);if(!l)return null;var c=l.x,u=l.y,f=t.shape,h=t.className,p=vi(t,"hidden")?"url(#".concat(a,")"):void 0,v=cO(cO({clipPath:p},Oe(t,!0)),{},{cx:c,cy:u});return $.createElement(nt,{className:Ve("recharts-reference-dot",h)},Ud.renderDot(f,v),ar.renderCallByParent(t,{x:c-n,y:u-n,width:2*n,height:2*n}))}Ud.displayName="ReferenceDot";Ud.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Ud.renderDot=function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):De(t)?r=t(e):r=$.createElement(Rk,uw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fw.apply(this,arguments)}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){Kve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kve(t,e,r){return e=Gve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gve(t){var e=Xve(t,"string");return sd(e)=="symbol"?e:String(e)}function Xve(t,e){if(sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yve=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=jk({x:u.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return vi(a,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:s4(p,v)};function Bd(t){var e=t.x1,r=t.x2,n=t.y1,i=t.y2,a=t.className,o=t.alwaysShow,s=t.clipPathId;Hn(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=Jt(e),c=Jt(r),u=Jt(n),f=Jt(i),h=t.shape;if(!l&&!c&&!u&&!f&&!h)return null;var p=Yve(l,c,u,f,t);if(!p&&!h)return null;var v=vi(t,"hidden")?"url(#".concat(s,")"):void 0;return $.createElement(nt,{className:Ve("recharts-reference-area",a)},Bd.renderRect(h,fO(fO({clipPath:v},Oe(t,!0)),p)),ar.renderCallByParent(t,p))}Bd.displayName="ReferenceArea";Bd.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Bd.renderRect=function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):De(t)?r=t(e):r=$.createElement(Nk,fw({},e,{className:"recharts-reference-area-rect"})),r};function g4(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Qve(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return sve(n,r)}function Jve(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function ag(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Zve(t,e){return g4(t,e+1)}function e0e(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,c=1,u=o,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:g4(n,c)};var b=l,x,k=function(){return x===void 0&&(x=r(v,b)),x},y=v.coordinate,g=l===0||ag(t,y,k,u,s);g||(l=0,u=o,c+=1),g&&(u=y+t*(k()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function dO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(r),!0).forEach(function(n){t0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t0e(t,e,r){return e=r0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r0e(t){var e=n0e(t,"string");return ld(e)=="symbol"?e:String(e)}function n0e(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i0e(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var p=a[h],v,b=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var x=t*(p.coordinate+t*b()/2-l);a[h]=p=kr(kr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else a[h]=p=kr(kr({},p),{},{tickCoord:p.coordinate});var k=ag(t,p.tickCoord,b,s,l);k&&(l=p.tickCoord-t*(b()/2+i),a[h]=kr(kr({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function a0e(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var u=n[s-1],f=r(u,s-1),h=t*(u.coordinate+t*f/2-c);o[s-1]=u=kr(kr({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=ag(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),o[s-1]=kr(kr({},u),{},{isShow:!0}))}for(var v=a?s-1:s,b=function(y){var g=o[y],_,T=function(){return _===void 0&&(_=r(g,y)),_};if(y===0){var I=t*(g.coordinate-t*T()/2-l);o[y]=g=kr(kr({},g),{},{tickCoord:I<0?g.coordinate-I*t:g.coordinate})}else o[y]=g=kr(kr({},g),{},{tickCoord:g.coordinate});var E=ag(t,g.tickCoord,T,l,c);E&&(l=g.tickCoord+t*(T()/2+i),o[y]=kr(kr({},g),{},{isShow:!0}))},x=0;x<v;x++)b(x);return o}function Vk(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(le(l)||Ki.isSsr)return Zve(i,typeof l=="number"&&le(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",v=u&&p==="width"?Uu(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(g,_){var T=De(c)?c(g.value,_):g.value;return p==="width"?Qve(Uu(T,{fontSize:e,letterSpacing:r}),v,f):Uu(T,{fontSize:e,letterSpacing:r})[p]},x=i.length>=2?Fr(i[1].coordinate-i[0].coordinate):1,k=Jve(a,x,p);return l==="equidistantPreserveStart"?e0e(x,k,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=a0e(x,k,b,i,o,l==="preserveStartEnd"):h=i0e(x,k,b,i,o),h.filter(function(y){return y.isShow}))}var o0e=["viewBox"],s0e=["viewBox"],l0e=["ticks"];function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dl.apply(this,arguments)}function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){Uk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x0(t,e){if(t==null)return{};var r=c0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function c0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function u0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v4(n.key),n)}}function f0e(t,e,r){return e&&pO(t.prototype,e),r&&pO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d0e(t,e,r){return e=og(e),h0e(t,y4()?Reflect.construct(e,r||[],og(t).constructor):e.apply(t,r))}function h0e(t,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p0e(t)}function p0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y4=function(){return!!t})()}function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},og(t)}function m0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dw(t,e)}function Uk(t,e,r){return e=v4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v4(t){var e=g0e(t,"string");return ac(e)=="symbol"?e:String(e)}function g0e(t,e){if(ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oc=function(t){m0e(e,t);function e(r){var n;return u0e(this,e),n=d0e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return f0e(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=x0(n,o0e),s=this.props,l=s.viewBox,c=x0(s,s0e);return!Sl(a,l)||!Sl(o,c)||!Sl(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,v,b,x,k,y,g=f?-1:1,_=n.tickSize||u,T=le(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=v=n.coordinate,x=o+ +!f*l,b=x-g*_,y=b-g*h,k=T;break;case"left":b=x=n.coordinate,v=a+ +!f*s,p=v-g*_,k=p-g*h,y=T;break;case"right":b=x=n.coordinate,v=a+ +f*s,p=v+g*_,k=p+g*h,y=T;break;default:p=v=n.coordinate,x=o+ +f*l,b=x+g*_,y=b+g*h,k=T;break}return{line:{x1:p,y1:b,x2:v,y2:x},tick:{x:k,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=jr(jr(jr({},Oe(this.props,!1)),Oe(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=jr(jr({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=jr(jr({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return $.createElement("line",dl({},f,{className:Ve("recharts-cartesian-axis-line",fn(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,p=Vk(jr(jr({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=Oe(this.props,!1),k=Oe(u,!1),y=jr(jr({},x),{},{fill:"none"},Oe(l,!1)),g=p.map(function(_,T){var I=o.getTickLineCoord(_),E=I.line,S=I.tick,O=jr(jr(jr(jr({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:c},k),S),{},{index:T,payload:_,visibleTicksCount:p.length,tickFormatter:f});return $.createElement(nt,dl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},fs(o.props,_,T)),l&&$.createElement("line",dl({},y,E,{className:Ve("recharts-cartesian-axis-tick-line",fn(l,"className"))})),u&&e.renderTickItem(u,O,"".concat(De(f)?f(_.value,T):_.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=x0(f,l0e),v=h;return De(l)&&(v=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!v||!v.length?null:$.createElement(nt,{className:Ve("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),ar.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):De(n)?o=n(i):o=$.createElement(ds,dl({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}]),e}(D.Component);Uk(Oc,"displayName","CartesianAxis");Uk(Oc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var y0e=["x1","y1","x2","y2","key"],v0e=["offset"];function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){b0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b0e(t,e,r){return e=x0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x0e(t){var e=w0e(t,"string");return ms(e)=="symbol"?e:String(e)}function w0e(t,e){if(ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wo.apply(this,arguments)}function gO(t,e){if(t==null)return{};var r=_0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var k0e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height;return $.createElement("rect",{x:i,y:a,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function b4(t,e){var r;if($.isValidElement(t))r=$.cloneElement(t,e);else if(De(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=gO(e,y0e),c=Oe(l,!1);c.offset;var u=gO(c,v0e);r=$.createElement("line",Wo({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function E0e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Pr(Pr({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return b4(i,c)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function S0e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Pr(Pr({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return b4(i,c)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function T0e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var v=!u[p+1],b=v?i+o-h:u[p+1]-h;if(b<=0)return null;var x=p%e.length;return $.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:b,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function A0e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var v=!u[p+1],b=v?a+s-h:u[p+1]-h;if(b<=0)return null;var x=p%n.length;return $.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:b,height:l,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var P0e=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return EL(Vk(Pr(Pr(Pr({},Oc.defaultProps),n),{},{ticks:Bi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},I0e=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return EL(Vk(Pr(Pr(Pr({},Oc.defaultProps),n),{},{ticks:Bi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},zs={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function x4(t){var e,r,n,i,a,o,s=$k(),l=Lk(),c=Nve(),u=Pr(Pr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:zs.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:zs.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:zs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:zs.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:zs.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:zs.verticalFill,x:le(t.x)?t.x:c.left,y:le(t.y)?t.y:c.top,width:le(t.width)?t.width:c.width,height:le(t.height)?t.height:c.height}),f=u.x,h=u.y,p=u.width,v=u.height,b=u.syncWithTicks,x=u.horizontalValues,k=u.verticalValues,y=Ive(),g=Ove();if(!le(p)||p<=0||!le(v)||v<=0||!le(f)||f!==+f||!le(h)||h!==+h)return null;var _=u.verticalCoordinatesGenerator||P0e,T=u.horizontalCoordinatesGenerator||I0e,I=u.horizontalPoints,E=u.verticalPoints;if((!I||!I.length)&&De(T)){var S=x&&x.length,O=T({yAxis:g?Pr(Pr({},g),{},{ticks:S?x:g.ticks}):void 0,width:s,height:l,offset:c},S?!0:b);Hn(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ms(O),"]")),Array.isArray(O)&&(I=O)}if((!E||!E.length)&&De(_)){var C=k&&k.length,R=_({xAxis:y?Pr(Pr({},y),{},{ticks:C?k:y.ticks}):void 0,width:s,height:l,offset:c},C?!0:b);Hn(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ms(R),"]")),Array.isArray(R)&&(E=R)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(k0e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height}),$.createElement(E0e,Wo({},u,{offset:c,horizontalPoints:I,xAxis:y,yAxis:g})),$.createElement(S0e,Wo({},u,{offset:c,verticalPoints:E,xAxis:y,yAxis:g})),$.createElement(T0e,Wo({},u,{horizontalPoints:I})),$.createElement(A0e,Wo({},u,{verticalPoints:E})))}x4.displayName="CartesianGrid";function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(this,arguments)}var zy=function(e){var r=e.xAxisId,n=$k(),i=Lk(),a=p4(r);return a==null?null:$.createElement(Oc,hw({},a,{className:Ve("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Bi(s,!0)}}))};zy.displayName="XAxis";zy.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pw.apply(this,arguments)}var qy=function(e){var r=e.yAxisId,n=$k(),i=Lk(),a=m4(r);return a==null?null:$.createElement(Oc,pw({},a,{className:Ve("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Bi(s,!0)}}))};qy.displayName="YAxis";qy.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function yO(t){return R0e(t)||N0e(t)||C0e(t)||O0e()}function O0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C0e(t,e){if(t){if(typeof t=="string")return mw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mw(t,e)}}function N0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R0e(t){if(Array.isArray(t))return mw(t)}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gw=function(e,r,n,i,a){var o=In(e,Fk),s=In(e,Ud),l=[].concat(yO(o),yO(s)),c=In(e,Bd),u="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(b,x){if(x.props[u]===n&&vi(x.props,"extendDomain")&&le(x.props[f])){var k=x.props[f];return[Math.min(b[0],k),Math.max(b[1],k)]}return b},h)),c.length){var p="".concat(f,"1"),v="".concat(f,"2");h=c.reduce(function(b,x){if(x.props[u]===n&&vi(x.props,"extendDomain")&&le(x.props[p])&&le(x.props[v])){var k=x.props[p],y=x.props[v];return[Math.min(b[0],k,y),Math.max(b[1],k,y)]}return b},h)}return a&&a.length&&(h=a.reduce(function(b,x){return le(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},h)),h},w4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,v){var b=r?r+c:c;if(!this._events[b])return!1;var x=this._events[b],k=arguments.length,y,g;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),k){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,h),!0;case 5:return x.fn.call(x.context,u,f,h,p),!0;case 6:return x.fn.call(x.context,u,f,h,p,v),!0}for(g=1,y=new Array(k-1);g<k;g++)y[g-1]=arguments[g];x.fn.apply(x.context,y)}else{var _=x.length,T;for(g=0;g<_;g++)switch(x[g].once&&this.removeListener(c,x[g].fn,void 0,!0),k){case 1:x[g].fn.call(x[g].context);break;case 2:x[g].fn.call(x[g].context,u);break;case 3:x[g].fn.call(x[g].context,u,f);break;case 4:x[g].fn.call(x[g].context,u,f,h);break;default:if(!y)for(T=1,y=new Array(k-1);T<k;T++)y[T-1]=arguments[T];x[g].fn.apply(x[g].context,y)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var b=0,x=[],k=v.length;b<k;b++)(v[b].fn!==u||h&&!v[b].once||f&&v[b].context!==f)&&x.push(v[b]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(w4);var j0e=w4.exports;const D0e=at(j0e);var w0=new D0e,_0="recharts.syncMouseEvents";function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function M0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_4(n.key),n)}}function L0e(t,e,r){return e&&$0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k0(t,e,r){return e=_4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _4(t){var e=F0e(t,"string");return cd(e)=="symbol"?e:String(e)}function F0e(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V0e=function(){function t(){M0e(this,t),k0(this,"activeIndex",0),k0(this,"coordinateList",[]),k0(this,"layout","horizontal")}return L0e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}]),t}();function U0e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&le(n)&&le(i))return!0}return!1}function B0e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function k4(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=mt(e,r,n,i),s=mt(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function z0e(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=mt(s,l,c,f),p=mt(s,l,u,f);n=h.x,i=h.y,a=p.x,o=p.y}else return k4(e);return[{x:n,y:i},{x:a,y:o}]}function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function vO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(r),!0).forEach(function(n){q0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q0e(t,e,r){return e=W0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W0e(t){var e=H0e(t,"string");return ud(e)=="symbol"?e:String(e)}function H0e(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K0e(t){var e=t.element,r=t.tooltipEventType,n=t.isActive,i=t.activeCoordinate,a=t.activePayload,o=t.offset,s=t.activeTooltipIndex,l=t.tooltipAxisBandSize,c=t.layout,u=t.chartName;if(!e||!e.props.cursor||!n||!i||u!=="ScatterChart"&&r!=="axis")return null;var f,h=qx;if(u==="ScatterChart")f=i,h=sme;else if(u==="BarChart")f=B0e(c,i,o,l),h=Nk;else if(c==="radial"){var p=k4(i),v=p.cx,b=p.cy,x=p.radius,k=p.startAngle,y=p.endAngle;f={cx:v,cy:b,startAngle:k,endAngle:y,innerRadius:x,outerRadius:x},h=DL}else f={points:z0e(c,i,o)},h=qx;var g=zh(zh(zh(zh({stroke:"#ccc",pointerEvents:"none"},o),f),Oe(e.props.cursor,!1)),{},{payload:a,payloadIndex:s,className:Ve("recharts-tooltip-cursor",e.props.cursor.className)});return D.isValidElement(e.props.cursor)?D.cloneElement(e.props.cursor,g):D.createElement(h,g)}var G0e=["item"],X0e=["children","className","width","height","style","compact","title","desc"];function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ku.apply(this,arguments)}function bO(t,e){return J0e(t)||Q0e(t,e)||S4(t,e)||Y0e()}function Y0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function J0e(t){if(Array.isArray(t))return t}function xO(t,e){if(t==null)return{};var r=Z0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ebe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T4(n.key),n)}}function rbe(t,e,r){return e&&tbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nbe(t,e,r){return e=sg(e),ibe(t,E4()?Reflect.construct(e,r||[],sg(t).constructor):e.apply(t,r))}function ibe(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xe(t)}function E4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(t)}function Xe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function abe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yw(t,e)}function sc(t){return lbe(t)||sbe(t)||S4(t)||obe()}function obe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S4(t,e){if(t){if(typeof t=="string")return vw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vw(t,e)}}function sbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lbe(t){if(Array.isArray(t))return vw(t)}function vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pe(t,e,r){return e=T4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T4(t){var e=cbe(t,"string");return oc(e)=="symbol"?e:String(e)}function cbe(t,e){if(oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ube={xAxis:["bottom","top"],yAxis:["left","right"]},fbe={width:"100%",height:"100%"},A4={x:0,y:0};function qh(t){return t}var dbe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},hbe=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return J(J(J({},i),mt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return J(J(J({},i),mt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return A4},Wy=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(sc(s),sc(c)):s},[]);return o.length>0?o:e&&e.length&&le(i)&&le(a)?e.slice(i,a+1):[]};function P4(t){return t==="number"?[0,"auto"]:void 0}var bw=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Wy(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Jb(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(sc(l),[IL(c,h)]):l},[])},_O=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=dbe(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Hfe(o,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=bw(e,r,u,f),p=hbe(n,s,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},pbe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=kL(u,a);return n.reduce(function(v,b){var x,k=b.props,y=k.type,g=k.dataKey,_=k.allowDataOverflow,T=k.allowDuplicatedCategory,I=k.scale,E=k.ticks,S=k.includeHidden,O=b.props[o];if(v[O])return v;var C=Wy(e.data,{graphicalItems:i.filter(function(ae){return ae.props[o]===O}),dataStartIndex:l,dataEndIndex:c}),R=C.length,N,P,F;U0e(b.props.domain,_,y)&&(N=Fx(b.props.domain,null,_),p&&(y==="number"||I!=="auto")&&(F=zu(C,g,"category")));var B=P4(y);if(!N||N.length===0){var W,X=(W=b.props.domain)!==null&&W!==void 0?W:B;if(g){if(N=zu(C,g,y),y==="category"&&p){var U=KY(N);T&&U?(P=N,N=eg(0,R)):T||(N=KP(X,N,b).reduce(function(ae,se){return ae.indexOf(se)>=0?ae:[].concat(sc(ae),[se])},[]))}else if(y==="category")T?N=N.filter(function(ae){return ae!==""&&!Ue(ae)}):N=KP(X,N,b).reduce(function(ae,se){return ae.indexOf(se)>=0||se===""||Ue(se)?ae:[].concat(sc(ae),[se])},[]);else if(y==="number"){var Y=Qfe(C,i.filter(function(ae){return ae.props[o]===O&&(S||!ae.props.hide)}),g,a,u);Y&&(N=Y)}p&&(y==="number"||I!=="auto")&&(F=zu(C,g,"category"))}else p?N=eg(0,R):s&&s[O]&&s[O].hasStack&&y==="number"?N=h==="expand"?[0,1]:PL(s[O].stackGroups,l,c):N=_L(C,i.filter(function(ae){return ae.props[o]===O&&(S||!ae.props.hide)}),y,u,!0);if(y==="number")N=gw(f,N,O,a,E),X&&(N=Fx(X,N,_));else if(y==="category"&&X){var te=X,ce=N.every(function(ae){return te.indexOf(ae)>=0});ce&&(N=te)}}return J(J({},v),{},Pe({},O,J(J({},b.props),{},{axisType:a,domain:N,categoricalDomain:F,duplicateDomain:P,originalDomain:(x=b.props.domain)!==null&&x!==void 0?x:B,isCategorical:p,layout:u})))},{})},mbe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=Wy(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,v=kL(u,a),b=-1;return n.reduce(function(x,k){var y=k.props[o],g=P4("number");if(!x[y]){b++;var _;return v?_=eg(0,p):s&&s[y]&&s[y].hasStack?(_=PL(s[y].stackGroups,l,c),_=gw(f,_,y,a)):(_=Fx(g,_L(h,n.filter(function(T){return T.props[o]===y&&!T.props.hide}),"number",u),i.defaultProps.allowDataOverflow),_=gw(f,_,y,a)),J(J({},x),{},Pe({},y,J(J({axisType:a},i.defaultProps),{},{hide:!0,orientation:fn(ube,"".concat(a,".").concat(b%2),null),domain:_,originalDomain:g,isCategorical:v,layout:u})))}return x},{})},gbe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=In(u,a),p={};return h&&h.length?p=pbe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=mbe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},ybe=function(e){var r=Ma(e),n=Bi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ik(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Bm(r,n)}},kO=function(e){var r=e.children,n=e.defaultShowTooltip,i=on(r,nc),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},vbe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Hi(r&&r.type);return n&&n.indexOf("Bar")>=0})},EO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bbe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=on(f,nc),v=on(f,Pf),b=Object.keys(l).reduce(function(T,I){var E=l[I],S=E.orientation;return!E.mirror&&!E.hide?J(J({},T),{},Pe({},S,T[S]+E.width)):T},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(T,I){var E=o[I],S=E.orientation;return!E.mirror&&!E.hide?J(J({},T),{},Pe({},S,fn(T,"".concat(S))+E.height)):T},{top:h.top||0,bottom:h.bottom||0}),k=J(J({},x),b),y=k.bottom;p&&(k.bottom+=p.props.height||nc.defaultProps.height),v&&r&&(k=Xfe(k,i,n,r));var g=c-k.left-k.right,_=u-k.top-k.bottom;return J(J({brushBottom:y},k),{},{width:Math.max(g,0),height:Math.max(_,0)})},xbe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},I4=function(e){var r,n=e.chartName,i=e.GraphicalChild,a=e.defaultTooltipEventType,o=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(x,k){var y=k.graphicalItems,g=k.stackGroups,_=k.offset,T=k.updateId,I=k.dataStartIndex,E=k.dataEndIndex,S=x.barSize,O=x.layout,C=x.barGap,R=x.barCategoryGap,N=x.maxBarSize,P=EO(O),F=P.numericAxisName,B=P.cateAxisName,W=vbe(y),X=[];return y.forEach(function(U,Y){var te=Wy(x.data,{graphicalItems:[U],dataStartIndex:I,dataEndIndex:E}),ce=U.props,ae=ce.dataKey,se=ce.maxBarSize,Se=U.props["".concat(F,"Id")],Re=U.props["".concat(B,"Id")],He={},$e=c.reduce(function(q,re){var ee=k["".concat(re.axisType,"Map")],L=U.props["".concat(re.axisType,"Id")];ee&&ee[L]||re.axisType==="zAxis"||ps();var K=ee[L];return J(J({},q),{},Pe(Pe({},re.axisType,K),"".concat(re.axisType,"Ticks"),Bi(K)))},He),gt=$e[B],de=$e["".concat(B,"Ticks")],xe=g&&g[Se]&&g[Se].hasStack&&ode(U,g[Se].stackGroups),Te=Hi(U.type).indexOf("Bar")>=0,Q=Bm(gt,de),Fe=[],Ae=W&&Kfe({barSize:S,stackGroups:g,totalSize:xbe($e,B)});if(Te){var et,ie,ke=Ue(se)?N:se,M=(et=(ie=Bm(gt,de,!0))!==null&&ie!==void 0?ie:ke)!==null&&et!==void 0?et:0;Fe=Gfe({barGap:C,barCategoryGap:R,bandSize:M!==Q?M:Q,sizeList:Ae[Re],maxBarSize:ke}),M!==Q&&(Fe=Fe.map(function(q){return J(J({},q),{},{position:J(J({},q.position),{},{offset:q.position.offset-M/2})})}))}var V=U&&U.type&&U.type.getComposedData;V&&X.push({props:J(J({},V(J(J({},$e),{},{displayedData:te,props:x,dataKey:ae,item:U,bandSize:Q,barPosition:Fe,offset:_,stackedData:xe,layout:O,dataStartIndex:I,dataEndIndex:E}))),{},Pe(Pe(Pe({key:U.key||"item-".concat(Y)},F,$e[F]),B,$e[B]),"animationId",T)),childIndex:iQ(U,x.children),item:U})}),X},v=function(x,k){var y=x.props,g=x.dataStartIndex,_=x.dataEndIndex,T=x.updateId;if(!UA({props:y}))return null;var I=y.children,E=y.layout,S=y.stackOffset,O=y.data,C=y.reverseStackOrder,R=EO(E),N=R.numericAxisName,P=R.cateAxisName,F=In(I,i),B=ide(O,F,"".concat(N,"Id"),"".concat(P,"Id"),S,C),W=c.reduce(function(ce,ae){var se="".concat(ae.axisType,"Map");return J(J({},ce),{},Pe({},se,gbe(y,J(J({},ae),{},{graphicalItems:F,stackGroups:ae.axisType===N&&B,dataStartIndex:g,dataEndIndex:_}))))},{}),X=bbe(J(J({},W),{},{props:y,graphicalItems:F}),k==null?void 0:k.legendBBox);Object.keys(W).forEach(function(ce){W[ce]=f(y,W[ce],X,ce.replace("Map",""),n)});var U=W["".concat(P,"Map")],Y=ybe(U),te=p(y,J(J({},W),{},{dataStartIndex:g,dataEndIndex:_,updateId:T,graphicalItems:F,stackGroups:B,offset:X}));return J(J({formattedGraphicalItems:te,graphicalItems:F,offset:X,stackGroups:B},Y),W)};return r=function(b){abe(x,b);function x(k){var y,g,_;return ebe(this,x),_=nbe(this,x,[k]),Pe(Xe(_),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Pe(Xe(_),"accessibilityManager",new V0e),Pe(Xe(_),"handleLegendBBoxUpdate",function(T){if(T){var I=_.state,E=I.dataStartIndex,S=I.dataEndIndex,O=I.updateId;_.setState(J({legendBBox:T},v({props:_.props,dataStartIndex:E,dataEndIndex:S,updateId:O},J(J({},_.state),{},{legendBBox:T}))))}}),Pe(Xe(_),"handleReceiveSyncEvent",function(T,I,E){if(_.props.syncId===T){if(E===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(I)}}),Pe(Xe(_),"handleBrushChange",function(T){var I=T.startIndex,E=T.endIndex;if(I!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var S=_.state.updateId;_.setState(function(){return J({dataStartIndex:I,dataEndIndex:E},v({props:_.props,dataStartIndex:I,dataEndIndex:E,updateId:S},_.state))}),_.triggerSyncEvent({dataStartIndex:I,dataEndIndex:E})}}),Pe(Xe(_),"handleMouseEnter",function(T){var I=_.getMouseInfo(T);if(I){var E=J(J({},I),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var S=_.props.onMouseEnter;De(S)&&S(E,T)}}),Pe(Xe(_),"triggeredAfterMouseMove",function(T){var I=_.getMouseInfo(T),E=I?J(J({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var S=_.props.onMouseMove;De(S)&&S(E,T)}),Pe(Xe(_),"handleItemMouseEnter",function(T){_.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Pe(Xe(_),"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Pe(Xe(_),"handleMouseMove",function(T){T.persist(),_.throttleTriggeredAfterMouseMove(T)}),Pe(Xe(_),"handleMouseLeave",function(T){_.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};_.setState(I),_.triggerSyncEvent(I);var E=_.props.onMouseLeave;De(E)&&E(I,T)}),Pe(Xe(_),"handleOuterEvent",function(T){var I=nQ(T),E=fn(_.props,"".concat(I));if(I&&De(E)){var S,O;/.*touch.*/i.test(I)?O=_.getMouseInfo(T.changedTouches[0]):O=_.getMouseInfo(T),E((S=O)!==null&&S!==void 0?S:{},T)}}),Pe(Xe(_),"handleClick",function(T){var I=_.getMouseInfo(T);if(I){var E=J(J({},I),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var S=_.props.onClick;De(S)&&S(E,T)}}),Pe(Xe(_),"handleMouseDown",function(T){var I=_.props.onMouseDown;if(De(I)){var E=_.getMouseInfo(T);I(E,T)}}),Pe(Xe(_),"handleMouseUp",function(T){var I=_.props.onMouseUp;if(De(I)){var E=_.getMouseInfo(T);I(E,T)}}),Pe(Xe(_),"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Pe(Xe(_),"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&_.handleMouseDown(T.changedTouches[0])}),Pe(Xe(_),"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&_.handleMouseUp(T.changedTouches[0])}),Pe(Xe(_),"triggerSyncEvent",function(T){_.props.syncId!==void 0&&w0.emit(_0,_.props.syncId,T,_.eventEmitterSymbol)}),Pe(Xe(_),"applySyncEvent",function(T){var I=_.props,E=I.layout,S=I.syncMethod,O=_.state.updateId,C=T.dataStartIndex,R=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)_.setState(J({dataStartIndex:C,dataEndIndex:R},v({props:_.props,dataStartIndex:C,dataEndIndex:R,updateId:O},_.state)));else if(T.activeTooltipIndex!==void 0){var N=T.chartX,P=T.chartY,F=T.activeTooltipIndex,B=_.state,W=B.offset,X=B.tooltipTicks;if(!W)return;if(typeof S=="function")F=S(X,T);else if(S==="value"){F=-1;for(var U=0;U<X.length;U++)if(X[U].value===T.activeLabel){F=U;break}}var Y=J(J({},W),{},{x:W.left,y:W.top}),te=Math.min(N,Y.x+Y.width),ce=Math.min(P,Y.y+Y.height),ae=X[F]&&X[F].value,se=bw(_.state,_.props.data,F),Se=X[F]?{x:E==="horizontal"?X[F].coordinate:te,y:E==="horizontal"?ce:X[F].coordinate}:A4;_.setState(J(J({},T),{},{activeLabel:ae,activeCoordinate:Se,activePayload:se,activeTooltipIndex:F}))}else _.setState(T)}),Pe(Xe(_),"renderCursor",function(T){var I,E=_.state,S=E.isTooltipActive,O=E.activeCoordinate,C=E.activePayload,R=E.offset,N=E.activeTooltipIndex,P=E.tooltipAxisBandSize,F=_.getTooltipEventType(),B=(I=T.props.active)!==null&&I!==void 0?I:S,W=_.props.layout,X=T.key||"_recharts-cursor";return $.createElement(K0e,{key:X,activeCoordinate:O,activePayload:C,activeTooltipIndex:N,chartName:n,element:T,isActive:B,layout:W,offset:R,tooltipAxisBandSize:P,tooltipEventType:F})}),Pe(Xe(_),"renderPolarAxis",function(T,I,E){var S=fn(T,"type.axisType"),O=fn(_.state,"".concat(S,"Map")),C=O&&O[T.props["".concat(S,"Id")]];return D.cloneElement(T,J(J({},C),{},{className:Ve(S,C.className),key:T.key||"".concat(I,"-").concat(E),ticks:Bi(C,!0)}))}),Pe(Xe(_),"renderPolarGrid",function(T){var I=T.props,E=I.radialLines,S=I.polarAngles,O=I.polarRadius,C=_.state,R=C.radiusAxisMap,N=C.angleAxisMap,P=Ma(R),F=Ma(N),B=F.cx,W=F.cy,X=F.innerRadius,U=F.outerRadius;return D.cloneElement(T,{polarAngles:Array.isArray(S)?S:Bi(F,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(O)?O:Bi(P,!0).map(function(Y){return Y.coordinate}),cx:B,cy:W,innerRadius:X,outerRadius:U,key:T.key||"polar-grid",radialLines:E})}),Pe(Xe(_),"renderLegend",function(){var T=_.state.formattedGraphicalItems,I=_.props,E=I.children,S=I.width,O=I.height,C=_.props.margin||{},R=S-(C.left||0)-(C.right||0),N=xL({children:E,formattedGraphicalItems:T,legendWidth:R,legendContent:u});if(!N)return null;var P=N.item,F=xO(N,G0e);return D.cloneElement(P,J(J({},F),{},{chartWidth:S,chartHeight:O,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Pe(Xe(_),"renderTooltip",function(){var T,I=_.props,E=I.children,S=I.accessibilityLayer,O=on(E,ni);if(!O)return null;var C=_.state,R=C.isTooltipActive,N=C.activeCoordinate,P=C.activePayload,F=C.activeLabel,B=C.offset,W=(T=O.props.active)!==null&&T!==void 0?T:R;return D.cloneElement(O,{viewBox:J(J({},B),{},{x:B.left,y:B.top}),active:W,label:F,payload:W?P:[],coordinate:N,accessibilityLayer:S})}),Pe(Xe(_),"renderBrush",function(T){var I=_.props,E=I.margin,S=I.data,O=_.state,C=O.offset,R=O.dataStartIndex,N=O.dataEndIndex,P=O.updateId;return D.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Fh(_.handleBrushChange,T.props.onChange),data:S,x:le(T.props.x)?T.props.x:C.left,y:le(T.props.y)?T.props.y:C.top+C.height+C.brushBottom-(E.bottom||0),width:le(T.props.width)?T.props.width:C.width,startIndex:R,endIndex:N,updateId:"brush-".concat(P)})}),Pe(Xe(_),"renderReferenceElement",function(T,I,E){if(!T)return null;var S=Xe(_),O=S.clipPathId,C=_.state,R=C.xAxisMap,N=C.yAxisMap,P=C.offset,F=T.props,B=F.xAxisId,W=F.yAxisId;return D.cloneElement(T,{key:T.key||"".concat(I,"-").concat(E),xAxis:R[B],yAxis:N[W],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:O})}),Pe(Xe(_),"renderActivePoints",function(T){var I=T.item,E=T.activePoint,S=T.basePoint,O=T.childIndex,C=T.isRange,R=[],N=I.props.key,P=I.item.props,F=P.activeDot,B=P.dataKey,W=J(J({index:O,dataKey:B,cx:E.x,cy:E.y,r:4,fill:Ck(I.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value,key:"".concat(N,"-activePoint-").concat(O)},Oe(F,!1)),gm(F));return R.push(x.renderActiveDot(F,W)),S?R.push(x.renderActiveDot(F,J(J({},W),{},{cx:S.x,cy:S.y,key:"".concat(N,"-basePoint-").concat(O)}))):C&&R.push(null),R}),Pe(Xe(_),"renderGraphicChild",function(T,I,E){var S=_.filterFormatItem(T,I,E);if(!S)return null;var O=_.getTooltipEventType(),C=_.state,R=C.isTooltipActive,N=C.tooltipAxis,P=C.activeTooltipIndex,F=C.activeLabel,B=_.props.children,W=on(B,ni),X=S.props,U=X.points,Y=X.isRange,te=X.baseLine,ce=S.item.props,ae=ce.activeDot,se=ce.hide,Se=ce.activeBar,Re=ce.activeShape,He=!!(!se&&R&&W&&(ae||Se||Re)),$e={};O!=="axis"&&W&&W.props.trigger==="click"?$e={onClick:Fh(_.handleItemMouseEnter,T.props.onClick)}:O!=="axis"&&($e={onMouseLeave:Fh(_.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Fh(_.handleItemMouseEnter,T.props.onMouseEnter)});var gt=D.cloneElement(T,J(J({},S.props),$e));function de(re){return typeof N.dataKey=="function"?N.dataKey(re.payload):null}if(He)if(P>=0){var xe,Te;if(N.dataKey&&!N.allowDuplicatedCategory){var Q=typeof N.dataKey=="function"?de:"payload.".concat(N.dataKey.toString());xe=Jb(U,Q,F),Te=Y&&te&&Jb(te,Q,F)}else xe=U==null?void 0:U[P],Te=Y&&te&&te[P];if(Re||Se){var Fe=T.props.activeIndex!==void 0?T.props.activeIndex:P;return[D.cloneElement(T,J(J(J({},S.props),$e),{},{activeIndex:Fe})),null,null]}if(!Ue(xe))return[gt].concat(sc(_.renderActivePoints({item:S,activePoint:xe,basePoint:Te,childIndex:P,isRange:Y})))}else{var Ae,et=(Ae=_.getItemByXY(_.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:gt},ie=et.graphicalItem,ke=ie.item,M=ke===void 0?T:ke,V=ie.childIndex,q=J(J(J({},S.props),$e),{},{activeIndex:V});return[D.cloneElement(M,q),null,null]}return Y?[gt,null,null]:[gt,null]}),Pe(Xe(_),"renderCustomized",function(T,I,E){return D.cloneElement(T,J(J({key:"recharts-customized-".concat(E)},_.props),_.state))}),Pe(Xe(_),"renderMap",{CartesianGrid:{handler:qh,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:qh},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:qh},YAxis:{handler:qh},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((y=k.id)!==null&&y!==void 0?y:jd("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=_$(_.triggeredAfterMouseMove,(g=k.throttleDelay)!==null&&g!==void 0?g:1e3/60),_.state={},_}return rbe(x,[{key:"componentDidMount",value:function(){var y,g;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(g=this.props.margin.top)!==null&&g!==void 0?g:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,g=y.children,_=y.data,T=y.height,I=y.layout,E=on(g,ni);if(E){var S=E.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length)){var O=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,C=bw(this.state,_,S,O),R=this.state.tooltipTicks[S].coordinate,N=(this.state.offset.top+T)/2,P=I==="horizontal",F=P?{x:R,y:N}:{y:R,x:N},B=this.state.formattedGraphicalItems.find(function(X){var U=X.item;return U.type.name==="Scatter"});B&&(F=J(J({},F),B.props.points[S].tooltipPosition),C=B.props.points[S].tooltipPayload);var W={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:O,activePayload:C,activeCoordinate:F};this.setState(W),this.renderCursor(E),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,g){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==g.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var _,T;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(y){ex([on(y.children,ni)],[on(this.props.children,ni)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=on(this.props.children,ni);if(y&&typeof y.props.shared=="boolean"){var g=y.props.shared?"axis":"item";return l.indexOf(g)>=0?g:o}return o}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var g=this.container,_=g.getBoundingClientRect(),T=Pse(_),I={chartX:Math.round(y.pageX-T.left),chartY:Math.round(y.pageY-T.top)},E=_.width/g.offsetWidth||1,S=this.inRange(I.chartX,I.chartY,E);if(!S)return null;var O=this.state,C=O.xAxisMap,R=O.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&C&&R){var P=Ma(C).scale,F=Ma(R).scale,B=P&&P.invert?P.invert(I.chartX):null,W=F&&F.invert?F.invert(I.chartY):null;return J(J({},I),{},{xValue:B,yValue:W})}var X=_O(this.state,this.props.data,this.props.layout,S);return X?J(J({},I),X):null}},{key:"inRange",value:function(y,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,I=y/_,E=g/_;if(T==="horizontal"||T==="vertical"){var S=this.state.offset,O=I>=S.left&&I<=S.left+S.width&&E>=S.top&&E<=S.top+S.height;return O?{x:I,y:E}:null}var C=this.state,R=C.angleAxisMap,N=C.radiusAxisMap;if(R&&N){var P=Ma(R);return YP({x:I,y:E},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,g=this.getTooltipEventType(),_=on(y,ni),T={};_&&g==="axis"&&(_.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var I=gm(this.props,this.handleOuterEvent);return J(J({},I),T)}},{key:"addListener",value:function(){w0.on(_0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){w0.removeListener(_0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,g,_){for(var T=this.state.formattedGraphicalItems,I=0,E=T.length;I<E;I++){var S=T[I];if(S.item===y||S.props.key===y.key||g===Hi(S.item.type)&&_===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,g=this.state.offset,_=g.left,T=g.top,I=g.height,E=g.width;return $.createElement("defs",null,$.createElement("clipPath",{id:y},$.createElement("rect",{x:_,y:T,height:I,width:E})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(g,_){var T=bO(_,2),I=T[0],E=T[1];return J(J({},g),{},Pe({},I,E.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(g,_){var T=bO(_,2),I=T[0],E=T[1];return J(J({},g),{},Pe({},I,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var g;return(g=this.state.xAxisMap)===null||g===void 0||(g=g[y])===null||g===void 0?void 0:g.scale}},{key:"getYScaleByAxisId",value:function(y){var g;return(g=this.state.yAxisMap)===null||g===void 0||(g=g[y])===null||g===void 0?void 0:g.scale}},{key:"getItemByXY",value:function(y){var g=this.state,_=g.formattedGraphicalItems,T=g.activeItem;if(_&&_.length)for(var I=0,E=_.length;I<E;I++){var S=_[I],O=S.props,C=S.item,R=Hi(C.type);if(R==="Bar"){var N=(O.data||[]).find(function(W){return Upe(y,W)});if(N)return{graphicalItem:S,payload:N}}else if(R==="RadialBar"){var P=(O.data||[]).find(function(W){return YP(y,W)});if(P)return{graphicalItem:S,payload:P}}else if(Vy(S,T)||Uy(S,T)||td(S,T)){var F=Ige({graphicalItem:S,activeTooltipItem:T,itemData:C.props.data}),B=C.props.activeIndex===void 0?F:C.props.activeIndex;return{graphicalItem:J(J({},S),{},{childIndex:B}),payload:td(S,T)?C.props.data[F]:S.props.data[F]}}}return null}},{key:"render",value:function(){var y=this;if(!UA(this))return null;var g=this.props,_=g.children,T=g.className,I=g.width,E=g.height,S=g.style,O=g.compact,C=g.title,R=g.desc,N=xO(g,X0e),P=Oe(N,!1);if(O)return $.createElement(iO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(rx,Ku({},P,{width:I,height:E,title:C,desc:R}),this.renderClipPath(),zA(_,this.renderMap)));if(this.props.accessibilityLayer){var F,B;P.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,P.role=(B=this.props.role)!==null&&B!==void 0?B:"application",P.onKeyDown=function(X){y.accessibilityManager.keyboardEvent(X)},P.onFocus=function(){y.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return $.createElement(iO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Ku({className:Ve("recharts-wrapper",T),style:J({position:"relative",cursor:"default",width:I,height:E},S)},W,{ref:function(U){y.container=U}}),$.createElement(rx,Ku({},P,{width:I,height:E,title:C,desc:R,style:fbe}),this.renderClipPath(),zA(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),x}(D.Component),Pe(r,"displayName",n),Pe(r,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Pe(r,"getDerivedStateFromProps",function(b,x){var k=b.dataKey,y=b.data,g=b.children,_=b.width,T=b.height,I=b.layout,E=b.stackOffset,S=b.margin,O=x.dataStartIndex,C=x.dataEndIndex;if(x.updateId===void 0){var R=kO(b);return J(J(J({},R),{},{updateId:0},v(J(J({props:b},R),{},{updateId:0}),x)),{},{prevDataKey:k,prevData:y,prevWidth:_,prevHeight:T,prevLayout:I,prevStackOffset:E,prevMargin:S,prevChildren:g})}if(k!==x.prevDataKey||y!==x.prevData||_!==x.prevWidth||T!==x.prevHeight||I!==x.prevLayout||E!==x.prevStackOffset||!Sl(S,x.prevMargin)){var N=kO(b),P={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=J(J({},_O(x,y,I)),{},{updateId:x.updateId+1}),B=J(J(J({},N),P),F);return J(J(J({},B),v(J({props:b},B),x)),{},{prevDataKey:k,prevData:y,prevWidth:_,prevHeight:T,prevLayout:I,prevStackOffset:E,prevMargin:S,prevChildren:g})}if(!ex(g,x.prevChildren)){var W,X,U,Y,te=on(g,nc),ce=te&&(W=(X=te.props)===null||X===void 0?void 0:X.startIndex)!==null&&W!==void 0?W:O,ae=te&&(U=(Y=te.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&U!==void 0?U:C,se=ce!==O||ae!==C,Se=!Ue(y),Re=Se&&!se?x.updateId:x.updateId+1;return J(J({updateId:Re},v(J(J({props:b},x),{},{updateId:Re,dataStartIndex:ce,dataEndIndex:ae}),x)),{},{prevChildren:g,dataStartIndex:ce,dataEndIndex:ae})}return null}),Pe(r,"renderActiveDot",function(b,x){var k;return D.isValidElement(b)?k=D.cloneElement(b,x):De(b)?k=b(x):k=$.createElement(Rk,x),$.createElement(nt,{className:"recharts-active-dot",key:x.key},k)}),r},wbe=I4({chartName:"BarChart",GraphicalChild:Is,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:zy},{axisType:"yAxis",AxisComp:qy}],formatAxisMap:ive}),O4=I4({chartName:"PieChart",GraphicalChild:Ei,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fy},{axisType:"radiusAxis",AxisComp:$y}],formatAxisMap:gde,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const C4=({data:t})=>{const{isDarkMode:e}=D.useContext(Qn),r={backgroundColor:e?"#333":"#fff",axisColor:e?"#ccc":"#000",gridColor:e?"#888888":"#D1D1D1",tooltipBackgroundColor:e?"#6D6D6D":"#E7E7E7",barColor:"#FFC700"};return m.jsx(ok,{width:"100%",height:"100%",children:m.jsxs(wbe,{data:t,margin:{left:-24},children:[m.jsx(x4,{stroke:r.gridColor,strokeDasharray:"5 5"}),m.jsx(zy,{dataKey:"name",stroke:r.axisColor}),m.jsx(qy,{stroke:r.axisColor}),m.jsx(ni,{cursor:{fill:r.tooltipBackgroundColor}}),m.jsx(Is,{type:"monotone",dataKey:"存款金額",fill:r.barColor})]})})};C4.propTypes={data:H.array.isRequired};const N4=({categoryData:t,habitCategories:e})=>{const r=Object.keys(t).map(n=>({name:e.find(i=>i.id===parseInt(n)).name,value:t[n]}));return m.jsx(ok,{width:"100%",height:"100%",children:m.jsx(O4,{children:m.jsx(Ei,{data:r,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:r.map((n,i)=>m.jsx(Md,{fill:e.find(a=>a.name===n.name).color},`cell-${i}`))})})})};N4.propTypes={categoryData:H.object.isRequired,habitCategories:H.array.isRequired};const R4=({typeData:t,habitType:e})=>{const r=Object.keys(t).map(n=>{const i=e.find(a=>a.id===n);return i?{name:i.name,value:t[n]}:null}).filter(n=>n!==null);return m.jsx(ok,{width:"100%",height:"100%",children:m.jsx(O4,{children:m.jsx(Ei,{data:r,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:r.map((n,i)=>m.jsx(Md,{fill:e.find(a=>a.name===n.name).color},`cell-${i}`))})})})};R4.propTypes={typeData:H.object.isRequired,habitType:H.array.isRequired};const Pl=({options:t,value:e,onChange:r})=>{const[n,i]=D.useState(!1),a=s=>{r(s),i(!1)},o=t.find(s=>s.value===e)||t[0];return D.useEffect(()=>{const s=l=>{l.target.closest(".custom-select")===null&&i(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]),m.jsxs("div",{className:"relative inline-block w-full custom-select",children:[m.jsxs("div",{className:"border border-black-500 rounded-2xl px-4 py-0.5 bg-white cursor-pointer flex justify-between items-center",onClick:()=>i(!n),children:[m.jsx("span",{children:o.label}),m.jsx(bH.TbChevronDown,{className:"w-6 h-6 text-black"})]}),n&&m.jsx("ul",{className:"absolute right-0 z-10 mt-1 min-w-fit w-full bg-white border border-black-500 rounded-2xl shadow-lg text-center overflow-hidden",children:t.map(s=>m.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>a(s.value),children:s.label},s.value))})]})};Pl.propTypes={options:H.array.isRequired,value:H.string.isRequired,onChange:H.func.isRequired};function _be(){const[t,e]=D.useState("overview"),[r,n]=D.useState("week"),[i]=D.useState([{value:"week",label:"本週"},{value:"month",label:"本月"},{value:"year",label:"本年"}]),[a,o]=D.useState(0),[s,l]=D.useState(0),[c,u]=D.useState(0),[f,h]=D.useState([]),[p,v]=D.useState({}),[b,x]=D.useState({}),[k,y]=D.useState([]),{user:g}=D.useContext(Qn),_=D.useRef(null),T=[{id:0,name:"生產力",color:"#FF6961"},{id:1,name:"個人成長",color:"#FFB480"},{id:2,name:"運動健身",color:"#FFE552"},{id:3,name:"飲食健康",color:"#42D6A4"},{id:4,name:"心靈成長",color:"#08CAD1"},{id:5,name:"手作興趣",color:"#59ADF6"},{id:6,name:"財務管理",color:"#9D94FF"},{id:7,name:"環境生活",color:"#C780E8"}],I=[{id:"to-do",name:"養成",color:"#B2B814"},{id:"not-to-do",name:"戒除",color:"#D14D28"}];D.useEffect(()=>{(async()=>{if(g&&g.uid){const P=await us(g.uid);y(P);const{startOfPeriod:F,endOfPeriod:B}=E(r),{completed:W,savings:X,total:U,chartData:Y,categoryData:te,typeData:ce}=S(P,F,B,r);o(W),l(X),u(U),h(Y),v(te),x(ce)}})()},[g,r]),D.useEffect(()=>{const N=P=>{_.current&&!_.current.contains(P.target)&&_.current.closeMenu()};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const E=N=>{const P=new Date;let F,B;return N==="week"?(F=new Date(P.setDate(P.getDate()-P.getDay())),B=new Date(P.setDate(P.getDate()-P.getDay()+6))):N==="month"?(F=new Date(P.getFullYear(),P.getMonth(),1),B=new Date(P.getFullYear(),P.getMonth()+1,0)):(F=new Date(P.getFullYear(),0,1),B=new Date(P.getFullYear(),11,31)),F.setHours(0,0,0,0),B.setHours(23,59,59,999),{startOfPeriod:F,endOfPeriod:B}},S=(N,P,F,B)=>{let W=0,X=0,U=0,Y=[],te={},ce={};const ae={};if(B==="week")["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(Se=>{ae[Se]=0});else if(B==="month"){const se=Math.ceil((F.getDate()-P.getDate()+1)/7);for(let Se=1;Se<=se;Se++)ae[`Week ${Se}`]=0}else["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].forEach(Se=>{ae[Se]=0});return N.forEach(se=>{se.status.forEach(Se=>{const Re=new Date(Se.date);Re.setHours(0,0,0,0);const He=new Date;if(He.setHours(0,0,0,0),Re<He&&Re>=P&&Re<=F){const $e=O(Re,B);Se.completed?W+=1:(ae[$e]+=Number(se.amount),X+=1,U+=Number(se.amount),te[se.category]||(te[se.category]=0),te[se.category]+=1,ce[se.type]||(ce[se.type]=0),ce[se.type]+=1)}})}),Y=Object.keys(ae).map(se=>({name:se,存款金額:ae[se]})),[...Y].sort((se,Se)=>{if(B==="week"){const Re=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return Re.indexOf(se.name)-Re.indexOf(Se.name)}else if(B==="month"){const Re=parseInt(se.name.split(" ")[1],10),He=parseInt(Se.name.split(" ")[1],10);return Re-He}else{const Re=new Date(Date.parse(se.name+" 1, 2022")).getMonth(),He=new Date(Date.parse(Se.name+" 1, 2022")).getMonth();return Re-He}}),{completed:W,savings:X,total:U,chartData:Y,categoryData:te,typeData:ce}},O=(N,P)=>P==="week"?N.toLocaleDateString("en-US",{weekday:"short"}):P==="month"?`Week ${Math.ceil(N.getDate()/7)}`:N.toLocaleDateString("en-US",{month:"short"}),C=({completed:N,savings:P,total:F})=>m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-end items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:N}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),m.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"完成習慣次數"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-end items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:P}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),m.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款次數"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-end items-center gap-1",children:[m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"NT$"}),m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:F})]}),m.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款金額"})]})]}),R=(N,P,F)=>{const B=[];return N.forEach(W=>{W.status.forEach(X=>{const U=new Date(X.date);U.setHours(0,0,0,0);const Y=new Date;Y.setHours(0,0,0,0),U<Y&&!X.completed&&U>=P&&U<=F&&B.push({id:W.id,title:W.title,date:X.date,amount:W.amount})})}),[...B].sort((W,X)=>new Date(X.date)-new Date(W.date)),B.slice(0,50).map((W,X)=>m.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 bg-black-50 dark:bg-black-800 rounded-lg font-normal text-sm leading-5 hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsx("p",{className:"text-black dark:text-black-0",children:String(X+1).padStart(2,"0")}),m.jsx("p",{className:"text-center text-black dark:text-black-0 overflow-scroll",children:new Date(W.date).toLocaleDateString()}),m.jsx("p",{className:"text-center col-span-2 text-black dark:text-black-0 truncate",children:W.title}),m.jsxs("p",{className:"text-center text-black dark:text-black-0 overflow-scroll",children:["NT$",W.amount]})]},W.id+W.date))};return m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${t==="overview"?"bg-primary":"bg-black-50"}`,onClick:()=>e("overview"),children:"存款總覽"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${t==="category"?"bg-primary":"bg-black-50"}`,onClick:()=>e("category"),children:"習慣養成總覽"})]}),t==="overview"&&m.jsxs("div",{children:[m.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"relative group flex items-center flex-grow",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"存款總覽"}),m.jsx(kt.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block cursor-help"}),m.jsx("span",{className:"absolute top-0 left-32 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:top-7 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"結算時間為每日 23:59:59，存款金額為當日未完成的習慣存款金額總和"})]}),m.jsx("div",{className:"relative",ref:_,children:m.jsx(Pl,{options:i,value:r,onChange:n})})]}),C({completed:a,savings:s,total:c}),m.jsx("div",{className:"w-full h-52",children:m.jsx(C4,{data:f})})]}),m.jsxs("ul",{className:"space-y-2 mt-4",children:[m.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 border border-black-500 rounded-lg font-normal text-sm leading-5",children:[m.jsx("p",{className:"text-black dark:text-black-0",children:"編號"}),m.jsx("p",{className:"text-center text-black dark:text-black-0",children:"日期"}),m.jsx("p",{className:"text-center col-span-2 text-black dark:text-black-0",children:"習慣名稱"}),m.jsx("p",{className:"text-center text-black dark:text-black-0",children:"習慣存款"})]}),R(k,E(r).startOfPeriod,E(r).endOfPeriod)]}),s===0&&m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}),s>=50&&m.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"僅顯示最新的 50 筆存款記錄"})]}),t==="category"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:`p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 ${s===0?"min-h-screen":"h-fit"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"relative group flex items-center flex-grow",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"類別總覽"}),m.jsx(kt.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block cursor-help"}),m.jsx("span",{className:"absolute top-0 left-[168px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:top-7 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"來看看你的習慣類別分布吧！哪些類別的習慣讓你累積最多存款呢？"})]}),m.jsx("div",{className:"relative",ref:_,children:m.jsx(Pl,{options:i,value:r,onChange:n})})]}),s===0?m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):m.jsxs("div",{children:[m.jsx("div",{className:"w-full h-[400px]",children:m.jsx(N4,{categoryData:p,habitCategories:T})}),m.jsx("ul",{className:"space-y-2",children:T.map(N=>m.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:N.color}}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:N.name})]}),m.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((p[N.id]||0)/Object.values(p).reduce((P,F)=>P+F,0)*100).toFixed(1),"%"]})]},N.id))})]})]}),m.jsxs("div",{className:`p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 ${s===0?"min-h-screen":"h-fit"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"relative group flex items-center flex-grow",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"類型總覽"}),m.jsx(kt.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block cursor-help"}),m.jsx("span",{className:"absolute top-0 left-[168px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:top-7 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"來看看你的習慣類型分布吧！你比較擅長養成還是戒除習慣呢？"})]}),m.jsx("div",{className:"relative",ref:_,children:m.jsx(Pl,{options:i,value:r,onChange:n})})]}),s===0?m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):m.jsxs("div",{children:[m.jsx("div",{className:"w-full h-[400px]",children:m.jsx(R4,{typeData:b,habitType:I})}),m.jsx("ul",{className:"space-y-2",children:I.map(N=>m.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:N.color}}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:N.name})]}),m.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((b[N.id]||0)/Object.values(b).reduce((P,F)=>P+F,0)*100).toFixed(1),"%"]})]},N.id))})]})]})]})]})}function kbe(){var p,v;const[t,e]=D.useState("habit"),[r,n]=D.useState([]),[i,a]=D.useState([]),{user:o}=D.useContext(Qn);D.useEffect(()=>{(async()=>{const{startOfWeek:x,endOfWeek:k}=s();if(t==="habit"){const g=[...await l(x,k)].sort((_,T)=>T.completedCount-_.completedCount);n(g)}else if(t==="savings"){const g=[...await c(x,k)].sort((_,T)=>T.totalSavings-_.totalSavings);a(g)}})()},[t]);const s=()=>{const b=new Date,x=new Date(b.setDate(b.getDate()-b.getDay())),k=new Date(b.setDate(b.getDate()-b.getDay()+6));return x.setHours(0,0,0,0),k.setHours(23,59,59,999),{startOfWeek:x,endOfWeek:k}},l=async(b,x)=>{const k=await _A();return await Promise.all(k.map(async g=>{const T=(await us(g.uid)).reduce((I,E)=>I+E.status.filter(S=>{const O=new Date(S.date);return S.completed&&O>=b&&O<=x}).length,0);return{...g,completedCount:T}}))},c=async(b,x)=>{const k=await _A(),y=new Date;return y.setHours(0,0,0,0),await Promise.all(k.map(async _=>{const I=(await us(_.uid)).reduce((E,S)=>{const O=S.amount,C=S.status.filter(R=>{const N=new Date(R.date);return!R.completed&&N>=b&&N<=x&&N<y}).length;return E+C*O},0);return{..._,totalSavings:I}}))},u=b=>{let x=Math.floor(b/100);return x>99&&(x=99),{level:x}},f=(b,x)=>[...b].sort((y,g)=>x==="habit"?g.completedCount-y.completedCount:g.totalSavings-y.totalSavings).slice(0,10).map((y,g)=>{const{level:_}=u(y.levelPoints);return m.jsxs("li",{className:"relative flex justify-between items-center py-2 px-4 bg-black-50 dark:bg-black-800 rounded-2xl hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsx("div",{className:"flex items-center gap-3",children:g<3?m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"absolute top-[-4px]",children:m.jsxs("div",{className:"w-10 h-[68px] flex justify-center items-center bg-primary relative",children:[m.jsx("p",{className:"font-normal text-center text-3xl leading-9 font-lobster text-alert",children:g+1}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:right-0 before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:left-0 before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[30px] before:left-5 before:w-0 before:h-0 before:border-l-0 before:border-r-[3px] before:border-b-[4px] before:border-l-transparent before:border-r-transparent before:border-b-primary-dark before:z-20"})]})}),m.jsx("img",{src:y.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full ml-14 object-cover outline outline-primary-dark dark:outline-primary"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-lg leading-7 text-black dark:text-black-0",children:y.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black-700 dark:text-black-200",children:["Lv.",_]})]})]}):m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black dark:text-black-0",children:g+1}),m.jsx("img",{src:y.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full object-cover outline outline-primary-dark dark:outline-primary"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-lg leading-7 text-black dark:text-black-0",children:y.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black-700 dark:text-black-200",children:["Lv.",_]})]})]})}),m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:x==="habit"?"累積數量":"累積存款"}),x==="habit"?m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:y.completedCount}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}):m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:y.totalSavings}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"元"})]})]})]},y.uid)}),h=(b,x,k)=>{const y=b.find(T=>T.uid===x.uid);if(!y)return null;const g=b.findIndex(T=>T.uid===x.uid)+1,{level:_}=u(y.levelPoints);return m.jsxs("div",{className:"flex justify-between py-2 px-4 bg-black-500 dark:bg-black-50 rounded-2xl",children:[m.jsxs("div",{className:"flex items-center gap-3 text-black-0 dark:text-black",children:[m.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black-0 dark:text-black",children:g}),m.jsx("img",{src:y.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full object-cover outline dark:outline-primary-dark outline-primary"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-lg leading-7 text-white dark:text-black",children:y.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black-200 dark:text-black-700",children:["Lv.",_]})]})]}),m.jsxs("div",{className:"flex flex-col items-end text-black-0 dark:text-black",children:[m.jsx("p",{className:"font-normal text-sm leading-5",children:k==="habit"?"累積數量":"累積存款"}),k==="habit"?m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:y.completedCount}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"次"})]}):m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:y.totalSavings}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"元"})]})]})]})};return m.jsxs("div",{className:"p-4 md:pt-10 mb:pb-6 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full pb-3",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${t==="habit"?"bg-primary":"bg-black-50"}`,onClick:()=>e("habit"),children:"習慣排行"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${t==="savings"?"bg-primary":"bg-black-50"}`,onClick:()=>e("savings"),children:"存款排行"})]}),t==="habit"&&m.jsxs("div",{className:"relative space-y-4",children:[m.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[m.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",s().startOfWeek.toLocaleDateString(),"～",s().endOfWeek.toLocaleDateString()," 期間"]}),m.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),m.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((p=r[0])==null?void 0:p.name)||"No.1"}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"成為累積最多次習慣的玩家"})]})]}),m.jsxs("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:[m.jsx(Vs.TbCircleCheck,{className:"w-8 h-8"}),m.jsx(Vs.TbCircleCheckFilled,{className:"w-8 h-8"}),m.jsx(Vs.TbCircleCheck,{className:"w-8 h-8"})]}),m.jsx("ul",{className:"space-y-4",children:f(r,"habit")}),m.jsx("div",{className:"sticky bottom-0 left-0 w-full pb-[88px] mb-[88px] md:pb-4 bg-light dark:bg-black-950",children:h(r,o,"habit")})]}),t==="savings"&&m.jsxs("div",{className:"relative space-y-4",children:[m.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[m.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",s().startOfWeek.toLocaleDateString(),"～",s().endOfWeek.toLocaleDateString()," 期間"]}),m.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),m.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((v=i[0])==null?void 0:v.name)||"No.1"}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"成為累積最多存款的玩家"})]})]}),m.jsxs("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:[m.jsx(Vs.TbCoin,{className:"w-8 h-8"}),m.jsx(Vs.TbCoinFilled,{className:"w-8 h-8"}),m.jsx(Vs.TbCoin,{className:"w-8 h-8"})]}),m.jsx("ul",{className:"space-y-4",children:f(i,"savings")}),m.jsx("div",{className:"sticky bottom-0 left-0 w-full mb-[88px] md:pb-4 bg-light dark:bg-black-950",children:h(i,o,"savings")})]})]})}const xw=({options:t,onChange:e,theme:r})=>{const[n,i]=D.useState(!1),a=o=>{e(o),i(!1)};return D.useEffect(()=>{const o=s=>{s.target.closest(".custom-select")===null&&i(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]),m.jsxs("div",{className:"relative inline-block custom-select",children:[m.jsx(wu.TbDots,{className:`w-6 h-6 text-black ${r==="dark"?"dark:text-black-0":""} cursor-pointer hover:text-alert`,onClick:()=>i(!n)}),n&&m.jsx("ul",{className:"absolute z-10 mt-1 w-fit -right-4 bg-white border border-black-500 rounded-2xl shadow-lg text-center text-nowrap overflow-hidden",children:t.map(o=>m.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>a(o.value),children:o.label},o.value))})]})};xw.propTypes={options:H.array.isRequired,value:H.string.isRequired,onChange:H.func.isRequired,theme:H.string.isRequired};const j4=({backgrounds:t,setPostBackground:e,isOpen:r,setIsOpen:n})=>m.jsx("div",{className:`absolute top-16 left-0 right-0 z-10 bg-black-0 border border-black-500 rounded-lg py-2 px-4 ${r?"block":"hidden"}`,children:m.jsx("div",{className:"flex gap-4 overflow-scroll",children:t.map((i,a)=>m.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>{e(i),n(!1)}},a))})});j4.propTypes={backgrounds:H.array.isRequired,setPostBackground:H.func.isRequired,isOpen:H.bool.isRequired,setIsOpen:H.func.isRequired};const D4=({postContent:t,setPostContent:e,postBackground:r,setPostBackground:n,handleAddPost:i,handlePostModal:a,user:o,isEditMode:s,handleUpdatePost:l,calculateTextColor:c})=>{const[u,f]=D.useState([]),[h,p]=D.useState(!1),[v,b]=D.useState(null);return D.useEffect(()=>{(async()=>{const k=await zD();f(k)})()},[]),D.useEffect(()=>{(async()=>{if(o&&o.uid){const k=await ii(o.uid);b(k)}})()},[o]),m.jsxs("div",{className:"space-y-4 relative",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10",children:v&&v.avatar?m.jsx("img",{src:v.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):m.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:"No Image"})}),m.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:v&&v.name?v.name:"Unknown"})]}),m.jsx(kt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:a})]}),m.jsxs("div",{className:"flex justify-between items-center gap-4",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 text-nowrap",children:"選擇背景顏色"}),m.jsx("div",{className:"flex gap-4 overflow-scroll",children:u.map((x,k)=>m.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0 border border-black-500",style:{backgroundImage:`url(${x})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>n(x)},k))})]}),m.jsx(j4,{backgrounds:u,setPostBackground:n,isOpen:h,setIsOpen:p}),m.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center"},children:m.jsx("textarea",{className:"w-full h-full bg-transparent border-none resize-none outline-none text-center placeholder-black font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8",placeholder:"輸入貼文內容...",value:t,onChange:x=>e(x.target.value),style:{color:c(r)}})}),m.jsxs("div",{className:"flex gap-4",children:[s&&m.jsx("button",{className:"py-1 w-full bg-black-100 rounded-lg font-medium text-sm leading-5 hover:bg-black-300",onClick:a,children:"取消修改"}),m.jsx("button",{className:"py-1 w-full bg-primary rounded-lg font-medium text-sm leading-5 hover:bg-primary-dark",onClick:s?l:i,children:s?"確認修改":"發佈貼文"})]})]})};D4.propTypes={postContent:H.string.isRequired,setPostContent:H.func.isRequired,postBackground:H.string.isRequired,setPostBackground:H.func.isRequired,handleAddPost:H.func.isRequired,handlePostModal:H.func.isRequired,user:H.object,isEditMode:H.bool,handleUpdatePost:H.func,calculateTextColor:H.func.isRequired};function Ebe(){const[t,e]=D.useState([]),[r,n]=D.useState("all"),[i]=D.useState([{label:"全部貼文",value:"all"},{label:"僅限自己",value:"personal"}]),[a,o]=D.useState({}),[s,l]=D.useState(""),[c,u]=D.useState({}),[f,h]=D.useState(!1),[p,v]=D.useState(null),[b,x]=D.useState(""),[k,y]=D.useState(""),[g,_]=D.useState([]),[T,I]=D.useState(!1),{user:E}=D.useContext(Qn),[S,O]=D.useState(null),[C,R]=D.useState(!1),[N,P]=D.useState(null),F=D.useRef(null),B=D.useRef(null);D.useEffect(()=>{(async()=>{const K=await Ih(),he=await Promise.all(K.map(async pe=>{const _e=await ii(pe.userID),tt=await Fs(pe.id);return{...pe,user:_e,comments:tt}}));e(he)})()},[]),D.useEffect(()=>{(async()=>{const K=await zD();_(K)})()},[]),D.useEffect(()=>{(async()=>{if(E&&E.uid){const K=await ii(E.uid);O(K)}})()},[E]),D.useEffect(()=>{const L=K=>{B.current&&!B.current.contains(K.target)&&B.current.closeMenu()};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[]);const W=r==="personal"?t.filter(L=>L.userID===E.uid):t,X=L=>{o(K=>({...K,[L]:!K[L]}))},U=async L=>{if(!s.trim()){re();return}const K=await ii(E.uid),he={content:s,userID:E.uid,userName:K.name,userAvatar:K.avatar};await yW(L,he),l("");const pe=await Fs(L);e(_e=>_e.map(tt=>tt.id===L?{...tt,comments:pe}:tt)),M()},Y=L=>{u(K=>({...K,[L]:""}))},te=(L,K)=>{if(t.find(_e=>_e.id===L).comments.find(_e=>_e.id===K).userID!==E.uid){ee();return}P(()=>async()=>{await bW(L,K);const _e=await Fs(L);e(tt=>tt.map(Hr=>Hr.id===L?{...Hr,comments:_e}:Hr)),q()}),R(!0)},ce=async L=>{if(t.find(he=>he.id===L).userID!==E.uid){ee();return}P(()=>async()=>{await gW(L),e(he=>he.filter(pe=>pe.id!==L)),ke()}),R(!0)},ae=(L,K=null)=>{if(K){const he=L.comments.find(pe=>pe.id===K);if(he.userID!==E.uid){ee();return}u(pe=>({...pe,[K]:he.content}))}else{if(L.userID!==E.uid){ee();return}v(L),h(!0)}},se=async(L,K,he=null)=>{if(he){const pe=c[he];if(!pe.trim()){re();return}await vW(L,he,{content:pe});const _e=await Fs(L);e(tt=>tt.map(Hr=>Hr.id===L?{...Hr,comments:_e}:Hr)),u(tt=>({...tt,[he]:""})),V()}else{await mW(L,K);const pe=await Ih();e(pe),h(!1),ie()}},Se=(L,K,he)=>{he==="edit"?ae(L,K):he==="delete"&&(K?te(L.id,K):ce(L.id))},Re=async L=>{try{await xW(L,E.uid);const K=await Ih(),he=await Promise.all(K.map(async pe=>{const _e=await ii(pe.userID),tt=await Fs(pe.id);return{...pe,user:_e,comments:tt}}));e(he)}catch(K){console.error(K)}},He=async L=>{try{await wW(L,E.uid);const K=await Ih(),he=await Promise.all(K.map(async pe=>{const _e=await ii(pe.userID),tt=await Fs(pe.id);return{...pe,user:_e,comments:tt}}));e(he)}catch(K){console.error(K)}},$e=L=>{const K=new Date,he=new Date(L*1e3),pe=Math.floor((K-he)/1e3);return pe<3600?"剛剛":pe<86400?`${Math.floor(pe/3600)} 小時前`:pe<259200?`${Math.floor(pe/86400)} 天前`:he.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})},gt=async()=>{if(!b.trim()){re();return}if(E){const L=await ii(E.uid),K={content:b,background:k,userID:E.uid,user:L,createdTime:{seconds:Math.floor(Date.now()/1e3)},likes:[],comments:[]};await pW(E.uid,K),e(pe=>[K,...pe]),x(""),y(""),et();const he=document.querySelector("textarea");he&&(he.style.height="auto")}},de=()=>S?m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:S.avatar,alt:"avatar",className:"w-12 h-12 object-cover rounded-full outline outline-primary-dark dark:outline-primary"}),m.jsx("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:S.name})]}):m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-black-500 rounded-full"}),m.jsx("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:"Unknown"})]}),xe=L=>{if(!L)return"black";const K=L.match(/\d+/g),he=parseInt(K[0],10),pe=parseInt(K[1],10),_e=parseInt(K[2],10);return(he*299+pe*587+_e*114)/10>186?"black":"white"},Te=()=>{I(!0)},Q=L=>{F.current&&!F.current.contains(L.target)&&I(!1)};D.useEffect(()=>(document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}),[]);const Fe=L=>{zl(L,{icon:m.jsx("img",{src:R1,alt:"Habit Piggy Logo",style:{width:"40px",height:"40px"}}),style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},Ae=L=>{zl.error(L,{style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},et=()=>Fe("今天也是快樂的貓咪日"),ie=()=>Fe("已更新貼文！"),ke=()=>Fe("已刪除貼文！"),M=()=>Fe("已新增留言！"),V=()=>Fe("已更新留言！"),q=()=>Fe("已刪除留言！"),re=()=>Ae("沒有內容不能發布喔！"),ee=()=>Ae("你沒有權限執行這個行為！");return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"貼文總覽"}),m.jsx("div",{className:"relative",ref:B,children:m.jsx(Pl,{options:i,value:r,onChange:n})})]}),m.jsx("div",{className:"relative",children:m.jsxs("div",{ref:F,className:"relative bg-black-50 dark:bg-black-800 p-4 rounded-xl space-y-2 md:space-y-3 z-0",onClick:Te,children:[m.jsx("div",{className:`absolute inset-0 rounded-xl -z-10 ${T?"block":"hidden"}`,style:{boxShadow:"0 0 8px 1px rgba(250, 173, 20, 1)"}}),de(),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 text-nowrap",children:"選擇背景顏色"}),m.jsx("div",{className:"flex gap-4 overflow-scroll",children:g.map((L,K)=>m.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0 border border-black-500",style:{backgroundImage:`url(${L})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>y(L)},K))})]}),m.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${k})`,backgroundSize:"cover",backgroundPosition:"center"},children:m.jsx("textarea",{className:"w-full h-fit bg-transparent border-none overflow-hidden resize-none outline-none text-center placeholder-black font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8 break-words whitespace-pre-wrap",placeholder:"輸入貼文內容...",value:b,onChange:L=>{x(L.target.value),L.target.style.height="auto",L.target.style.height=`${L.target.scrollHeight}px`},style:{color:xe(k)},rows:"1"})}),m.jsx("div",{className:"text-end",children:m.jsx("button",{className:"py-1 px-3 w-fit bg-primary rounded-lg font-medium text-sm leading-5 md:text-base md:leading-6 hover:bg-primary-dark",onClick:gt,children:"發佈貼文"})})]})}),m.jsx("ul",{className:"space-y-4",children:W.map(L=>m.jsxs("li",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-3 w-full",children:[m.jsxs("div",{className:"flex justify-between items-center w-full",children:[m.jsxs("div",{className:"flex gap-3 items-center",children:[m.jsx("div",{className:"w-12 h-12",children:L.user&&m.jsx("img",{src:L.user.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full outline outline-primary-dark dark:outline-primary"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:L.user?L.user.name:"Unknown"}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:$e(L.createdTime.seconds)})]})]}),m.jsx(xw,{ref:B,options:[{value:"edit",label:"編輯貼文"},{value:"delete",label:"刪除貼文"}],onChange:K=>Se(L,null,K),theme:"dark"})]}),m.jsx("div",{className:`w-full min-h-52 h-fit flex justify-center items-center p-4 rounded-xl font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8 ${L.background?"":"bg-slate-100"}`,style:L.background?{backgroundImage:`url(${L.background})`,backgroundSize:"cover",backgroundPosition:"center",color:xe(L.background),wordBreak:"break-word",whiteSpace:"pre-wrap"}:{color:xe(L.background),wordBreak:"break-word",whiteSpace:"pre-wrap"},children:m.jsx("p",{className:"text-center",children:L.content})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"flex gap-1",children:[L.likes&&L.likes.includes(E.uid)?m.jsx(wu.TbHeartFilled,{className:"w-6 h-6 cursor-pointer text-alert",onClick:()=>He(L.id)}):m.jsx(wu.TbHeart,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-alert",onClick:()=>Re(L.id)}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:L.likes?L.likes.length:0})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx(wu.TbMessageChatbot,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-black dark:hover:text-black-200",onClick:()=>X(L.id)}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:L.comments?L.comments.length:0})]})]}),m.jsxs("ul",{className:`space-y-3 ${a[L.id]?"block":"hidden"}`,children:[L.comments&&L.comments.map(K=>m.jsxs("li",{className:"flex justify-between items-center gap-3",children:[m.jsx("img",{src:K.userAvatar,alt:"user's avatar",className:"w-12 h-12 rounded-full object-cover"}),m.jsxs("div",{className:"bg-black-200 rounded-xl px-4 py-2 w-full flex justify-between items-center",children:[m.jsxs("div",{className:"w-full md:w-4/5",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("h3",{className:"font-medium text-sm leading-5 line-clamp-1",children:K.userName}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0-700",children:$e(K.updatedTime?K.updatedTime.seconds:K.createdTime.seconds)})]}),c[K.id]?m.jsxs("div",{className:"grid grid-cols-1 gap-x-2 md:flex md:items-center md:gap-2",children:[m.jsx("input",{type:"text",value:c[K.id],onChange:he=>u({...c,[K.id]:he.target.value}),className:"font-normal text-base leading-6 rounded px-2 py-1 w-full bg-black-0 text-black caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark my-1"}),m.jsxs("div",{className:"flex gap-x-2",children:[m.jsx("button",{className:"w-fit text-nowrap font-medium text-sm leading-5 bg-black-100 py-1 md:py-1.5 px-2 rounded hover:bg-black-300",onClick:()=>Y(K.id),children:"取消修改"}),m.jsx("button",{className:"w-fit text-nowrap font-medium text-sm leading-5 bg-primary py-1 md:py-1.5 px-2 rounded hover:bg-primary-dark",onClick:()=>se(L.id,null,K.id),children:"確認修改"})]})]}):m.jsx("p",{className:"font-normal text-base leading-6",children:K.content})]}),c[K.id]?null:m.jsx("div",{className:"flex flex-col",children:m.jsx(xw,{ref:B,options:[{value:"edit",label:"編輯留言"},{value:"delete",label:"刪除留言"}],onChange:he=>Se(L,K.id,he),theme:"light"})})]})]},K.id)),m.jsxs("li",{className:"flex justify-between items-center gap-2",children:[m.jsx("input",{type:"text",placeholder:"請輸入留言",className:"bg-black-100 text-black py-2 px-4 w-full rounded-2xl placeholder:text-black dark:text-black-0-500  caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark focus:bg-black-0",value:s,onChange:K=>l(K.target.value)}),m.jsx("div",{className:"w-10 h-10 bg-primary flex justify-center items-center rounded-full aspect-square cursor-pointer hover:bg-primary-dark",onClick:()=>U(L.id),children:m.jsx(wu.TbSend2,{className:"w-6 h-6 text-black"})})]})]})]},L.id))}),C&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-black-800 p-4 rounded-xl shadow-lg",children:[m.jsx("p",{className:"text-black dark:text-white mb-4",children:"你確定要執行這個操作嗎？"}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{className:"py-1 px-3 bg-gray-300 rounded-lg",onClick:()=>R(!1),children:"取消"}),m.jsx("button",{className:"py-1 px-3 bg-primary rounded-lg text-black",onClick:()=>{N(),R(!1)},children:"確認"})]})]})})]}),m.jsx(kn,{isOpen:f,onRequestClose:()=>h(!1),children:m.jsx(D4,{postContent:p?p.content:"",setPostContent:L=>v(K=>({...K,content:L})),postBackground:p?p.background:"",setPostBackground:L=>v(K=>({...K,background:L})),handlePostModal:()=>h(!1),user:E,isEditMode:!0,handleUpdatePost:()=>se(p.id,p),calculateTextColor:xe})})]})}const M4=({sortedAchievements:t,userAchievements:e,handleAchievementModal:r})=>m.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[m.jsx("ul",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:t.slice(0,6).map(n=>{const i=e.includes(n.id);return m.jsx("li",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${i?"opacity-100 border-primary-dark bg-light":"opacity-50 border-black-500 bg-black-100 dark:border-black-300"}`,children:m.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${i?"text-primary z-0":"text-black"}`,"data-stroke":i?n.name:"",children:n.name})},n.id)})}),m.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:r,children:"更多成就"}),m.jsxs("div",{className:"bg-primary py-1 px-4 w-fit absolute -top-12 left-1/2 transform -translate-x-1/2",children:[m.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert",children:"Achievement"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[12px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[12px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});M4.propTypes={sortedAchievements:H.array.isRequired,userAchievements:H.array.isRequired,handleAchievementModal:H.func.isRequired};const $4=({sortedBadges:t,userBadges:e,handleBadgeModal:r})=>m.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[m.jsx("ul",{className:"grid grid-cols-3 gap-4 md:grid-cols-6",children:t.slice(0,6).map((n,i)=>m.jsx("li",{className:"relative w-full h-fit",children:m.jsx("img",{src:n.image,alt:`Badge ${i}`,className:`w-full h-full object-cover ${e.includes(n.id)?"opacity-100":"opacity-30"}`})},n.id))}),m.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:r,children:"更多獎勵徽章"}),m.jsxs("div",{className:"bg-primary py-1 px-4 w-[150px] absolute -top-12 left-1/2 transform -translate-x-1/2",children:[m.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert text-center",children:"Badge"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[13px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[13px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});$4.propTypes={sortedBadges:H.array.isRequired,userBadges:H.array.isRequired,handleBadgeModal:H.func.isRequired};const L4=({handleAchievementModal:t,userAchievements:e,sortedAchievements:r})=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的成就"}),m.jsx(kt.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:t})]}),m.jsx("div",{className:"max-h-56 overflow-scroll",children:m.jsx("ul",{className:"grid grid-cols-2 gap-4",children:r.map(n=>{const i=e.includes(n.id);return m.jsxs("li",{children:[m.jsx("div",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${i?"opacity-100 border-primary-dark bg-light":"opacity-50 border-black-500 bg-black-100 text-black dark:border-black-300"}`,children:m.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${i?"text-primary z-0":"text-black"}`,"data-stroke":i?n.name:"",children:n.name})}),m.jsx("p",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:n.description})]},n.id)})})})]});L4.propTypes={handleAchievementModal:H.func.isRequired,achievements:H.array.isRequired,userAchievements:H.array.isRequired,sortedAchievements:H.array.isRequired};const F4=({handleBadgeModal:t,sortedBadges:e,userBadges:r})=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的獎勵徽章"}),m.jsx(kt.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:t})]}),m.jsx("div",{className:"max-h-56 overflow-scroll",children:m.jsx("ul",{className:"grid grid-cols-3 gap-4",children:e.map((n,i)=>m.jsxs("li",{className:"relative w-full h-fit",children:[m.jsx("img",{src:n.image,alt:`Badge ${i}`,className:`w-full h-full object-cover ${r.includes(n.id)?"opacity-100":"opacity-30"}`}),m.jsx("div",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:n.description})]},n.id))})})]});F4.propTypes={handleBadgeModal:H.func.isRequired,sortedBadges:H.array.isRequired,userBadges:H.array.isRequired};function Sbe(){const{user:t}=D.useContext(Qn),[e,r]=D.useState(!1),[n,i]=D.useState(!1),[a,o]=D.useState(!1),[s,l]=D.useState(!1),[c,u]=D.useState(!1),[f,h]=D.useState(!0),[p,v]=D.useState({uid:"",email:"",name:"",introduction:"",avatar:"",levelPoints:0,isAcceptReminder:!1,isDarkMode:!1,achievements:[],badges:[],habits:[]}),[b,x]=D.useState([]),[k,y]=D.useState(null),[g,_]=D.useState({category:0,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[]}),[T,I]=D.useState(0),[E,S]=D.useState(!1),[O,C]=D.useState(""),R=D.useRef(null),[N,P]=D.useState(null),[F,B]=D.useState("all"),[W,X]=D.useState([]),[U,Y]=D.useState([]),[te,ce]=D.useState([]),[ae,se]=D.useState([]),[Se,Re]=D.useState(El),[He]=D.useState([{label:"全部習慣",value:"all"},{label:"進行中",value:"in-progress"},{label:"已結束",value:"finished"}]),$e=[{id:0,name:"生產力",icon:Sr.TbRocket},{id:1,name:"個人成長",icon:Sr.TbBook},{id:2,name:"運動健身",icon:Sr.TbWalk},{id:3,name:"飲食健康",icon:Sr.TbBowlChopsticks},{id:4,name:"心靈成長",icon:Sr.TbMoodHeart},{id:5,name:"手作興趣",icon:Sr.TbHandGrab},{id:6,name:"財務管理",icon:Sr.TbCash},{id:7,name:"環境生活",icon:Sr.TbPlant}],gt=D.useRef(null);D.useEffect(()=>{(async()=>{if(t){const we=await ii(t.uid);we&&v(we),K(),xe(),Te(t.uid),Q(),Fe(t.uid),await de(t.uid)}})()},[t]),D.useEffect(()=>{const ue=new Date;P({year:ue.getFullYear(),month:ue.getMonth(),day:ue.getDate()})},[]),D.useEffect(()=>{const ue=we=>{gt.current&&!gt.current.contains(we.target)&&gt.current.closeMenu()};return document.addEventListener("mousedown",ue),()=>{document.removeEventListener("mousedown",ue)}},[]);const de=async ue=>{const we=["habit","savings","level"];for(const Ce of we){const Le=await pp(ue,Ce);await mp(ue,Ce,Le)}},xe=async()=>{const ue=await _W();X(ue)},Te=async ue=>{const we=await kW(ue);Y(we)},Q=async()=>{const ue=await EW();ce(ue)},Fe=async ue=>{const we=await SW(ue);se(we)},Ae=()=>{r(!e)},et=()=>{i(!n)},ie=ue=>{_({category:ue.category,title:ue.title,frequency:ue.frequency,amount:ue.amount,startDate:ue.startDate,endDate:ue.endDate,status:ue.status,type:ue.type}),o(!a),i(!1)},ke=()=>{l(!s)},M=()=>{u(!c)},V=async ue=>{if(t&&t.uid)try{await T1(t.uid,ue),v(ue),Eo()}catch(we){console.error("更新資料失敗",we)}},q=async ue=>{await V(ue),Ae()},re=async ue=>{const{name:we,value:Ce,files:Le}=ue.target;if(we==="avatar"&&Le&&Le[0]){const st=ue.target.files[0],Ge=["image/jpeg","image/jpg","image/png","image/gif"];if(!st||!Ge.includes(st.type))return;try{const er=await BD(t.uid,st);v(jt=>({...jt,avatar:er}))}catch(er){console.error("上傳頭像失敗",er)}}else v(we==="isDarkMode"||we==="isAcceptReminder"?st=>({...st,[we]:Ce==="true"}):st=>({...st,[we]:Ce}))},ee=ue=>{const{name:we,value:Ce}=ue.target;if(we==="frequency"){let Le;Ce==="specificDays"?Le={type:Ce,days:g.frequency.days||[]}:Ce==="weekly"?Le={type:Ce,day:g.frequency.day||0}:Le={type:Ce};const st=L(g.startDate,g.endDate,Le);_(Ge=>({...Ge,frequency:Le,status:st}))}else if(we==="startDate"||we==="endDate"){const Le={...g,[we]:Ce},st=L(Le.startDate,Le.endDate,Le.frequency);_(Ge=>({...Ge,[we]:Ce,status:st}))}else _(Le=>({...Le,[we]:Ce,status:L(g.startDate,g.endDate,g.frequency)}))},L=(ue,we,Ce)=>{const Le=new Date(ue),st=new Date(we),Ge=[];if(Ce.type==="daily")for(let er=Le;er<=st;er.setDate(er.getDate()+1))Ge.push({date:new Date(er).toDateString(),completed:!1});else if(Ce.type==="weekly"){const er=Ce.day;for(let jt=new Date(Le);jt<=st;jt.setDate(jt.getDate()+1))jt.getDay()===er&&Ge.push({date:new Date(jt).toDateString(),completed:!1})}else if(Ce.type==="specificDays"){const er=Object.values(Ce.days);for(let jt=Le;jt<=st;jt.setDate(jt.getDate()+1))er.includes(jt.getDay())&&Ge.push({date:new Date(jt).toDateString(),completed:!1})}return Ge},K=async()=>{if(t)try{const ue=await us(t.uid);x(ue)}catch(ue){console.error("Error fetching habits: ",ue)}},he=ue=>{C(ue),S(!0)},pe=async()=>{if(t&&k){const ue=new Date(g.startDate);if(new Date(g.endDate)<=ue){Ti();return}const Le={...k,...g,id:k.id,status:L(g.startDate,g.endDate,g.frequency)};await Wb(t.uid,k.id,Le),await kl(t.uid),await Vu(t.uid),K(),o(!1),i(!1),Nc()}else console.error("User not authenticated or habit not selected")},_e=async()=>{if(t&&k){await UD(t.uid,k.id),await kl(t.uid),await Vu(t.uid);const ue=await us(t.uid);x(ue),ue.filter(Ce=>Ce.category===k.category).length===0&&await qD(t.uid,k.category),K(),o(!1),i(!1),Rc()}else console.error("User not authenticated or habit not selected")},tt=ue=>{if(P(ue),O){const we=`${ue.year}-${String(ue.month+1).padStart(2,"0")}-${String(ue.day).padStart(2,"0")}`;_(Ce=>({...Ce,[O]:we})),S(!1),C("")}},Hr=ue=>{const we=new Date;return we.setHours(0,0,0,0),ue.status.filter(Le=>{const st=new Date(Le.date);return st.setHours(0,0,0,0),st<we&&!Le.completed}).length*ue.amount},ha=ue=>{y(ue),I(Hr(ue)),i(!0)},ko=[...b.filter(ue=>{const we=new Date;we.setHours(0,0,0,0);const Ce=new Date(ue.endDate);return Ce.setHours(0,0,0,0),F==="in-progress"?Ce>=we:F==="finished"?Ce<we:!0})].sort((ue,we)=>new Date(we.endDate)-new Date(ue.endDate)),ma=((ue,we)=>[...ue].sort((Ce,Le)=>{const st=we.includes(Ce.id),Ge=we.includes(Le.id);if(st&&!Ge)return-1;if(!st&&Ge)return 1;if(!st&&!Ge){const er={habit:1,savings:2,streak:3},jt=er[Ce.condition.type]||4,ga=er[Le.condition.type]||4;if(jt!==ga)return jt-ga;if(Ce.condition.count!==Le.condition.count)return(Ce.condition.count||0)-(Le.condition.count||0);if(Ce.condition.amount!==Le.condition.amount)return(Ce.condition.amount||0)-(Le.condition.amount||0);if(Ce.condition.percent!==Le.condition.percent)return(Ce.condition.percent||0)-(Le.condition.percent||0)}return 0}))(W,U),Si=((ue,we)=>[...ue].sort((Ce,Le)=>{const st=we.includes(Ce.id),Ge=we.includes(Le.id);return st&&!Ge?-1:!st&&Ge?1:0}))(te,ae),Hy=ue=>{let we=Math.floor(ue/100);const Ce=ue%100;return we>99&&(we=99),{level:we,points:Ce}},{level:Ky,points:Os}=Hy(p.levelPoints);D.useEffect(()=>{const ue=setInterval(()=>{Re(we=>we===El?ZD:El)},250);return()=>clearInterval(ue)},[]);const Cs=ue=>{zl(ue,{icon:m.jsx("img",{src:R1,alt:"Habit Piggy Logo",style:{width:"40px",height:"40px"}}),style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},zd=ue=>{zl.error(ue,{style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},Eo=()=>Cs("你知道嗎？每個人都有兩顆腎臟"),Nc=()=>Cs("人要時時刻刻做好準備！"),Rc=()=>Cs("這段感情只有我在付出🥲"),Ti=()=>zd("結束日期必須晚於開始日期喔！");return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${f?"bg-primary":"bg-black-50"}`,onClick:()=>h(!0),children:"會員管理"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${f?"bg-black-50":"bg-primary"}`,onClick:()=>h(!1),children:"歷史習慣"})]}),f?m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"會員管理"}),m.jsx(JD.TbSettings,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:Ae})]}):m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"歷史習慣"}),m.jsx("div",{className:"relative",ref:gt,children:m.jsx(Pl,{options:He,value:F,onChange:B})})]}),f?m.jsxs("div",{className:"space-y-14",children:[m.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl",children:[m.jsx("div",{className:"flex justify-between items-start mb-2",children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("img",{src:p.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full outline object-cover outline-primary-dark dark:outline-primary"}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:p.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:["Lv.",Ky]})]})]})}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 mb-4",children:p.introduction}),m.jsxs("div",{className:"w-full h-6 bg-light dark:bg-black-950 text-center rounded-2xl text-black dark:text-black-0 relative",children:[m.jsx("div",{className:"bg-primary-dark h-full rounded-2xl relative",style:{width:`${Os}%`},children:m.jsx("img",{src:Se,alt:"habit piggy",className:"w-14 h-14 absolute top-2/3 transform -translate-y-2/3 z-20 object-cover",style:{right:"-20px"}})}),m.jsxs("span",{className:"absolute inset-0 flex items-center justify-center",children:[Os,"%"]})]})]}),m.jsx(M4,{sortedAchievements:ma,userAchievements:U,handleAchievementModal:ke}),m.jsx($4,{sortedBadges:Si,userBadges:ae,handleBadgeModal:M})]}):m.jsx(N1,{habits:ko,habitCategories:$e,handleDetailClick:ha})]}),m.jsx(kn,{isOpen:e,onClose:Ae,children:m.jsx(A1,{profileData:p,handleChange:re,handleSaveAndClose:q,handleSettingModal:Ae})}),m.jsx(kn,{isOpen:n,onClose:et,children:m.jsx(O1,{selectedHabit:k,handleDetailModal:et,uncompletedFine:T,handleEditModal:ie,habitCategories:$e})}),m.jsx(kn,{isOpen:a,onClose:ie,children:m.jsx(C1,{habitData:g,handleHabitChange:ee,handleUpdateHabit:pe,handleFocus:he,showMonthCalendar:E,calendarTarget:O,calendarRef:R,handleEditModal:ie,handleDeleteHabit:_e,habitCategories:$e,setHabitData:_,monthCalendarDate:N,handleMonthCalendarSelectDate:tt,setCalendarTarget:C,setShowMonthCalendar:S,generateStatusArray:L})}),m.jsx(kn,{isOpen:s,onClose:ke,children:m.jsx(L4,{handleAchievementModal:ke,userAchievements:U,sortedAchievements:ma})}),m.jsx(kn,{isOpen:c,onClose:M,children:m.jsx(F4,{handleBadgeModal:M,badges:te,userBadges:ae,sortedBadges:Si})})]})}function Tbe(){return m.jsx("div",{children:m.jsx("h1",{children:"Error"})})}function V4({children:t,isModalOpen:e,modalContent:r}){const n=vs(),i=Sg(),{setUser:a,isDarkMode:o}=D.useContext(Qn),[s,l]=D.useState(!1),c=async()=>{await VD(),a(null),i("/")},u=()=>{l(!s)},f=()=>{window.innerWidth>=1720?l(!0):l(!1)},h=()=>{window.innerWidth<1720&&s&&l(!s)};return D.useEffect(()=>(f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)),[]),m.jsxs("div",{className:`font-huninn bg-light dark:bg-black-950 relative min-h-screen ${o?"dark":""}`,children:[n.pathname!=="/"?m.jsxs("nav",{className:`pt-2 pb-3 px-4 bg-black-50 dark:bg-black-800 fixed inset-x-0 bottom-0 flex gap-x-4 z-50 border-t border-primary md:p-4 md:flex-col md:justify-between md:border-t-0 md:border-r md:h-full transition-all duration-200 ease-in-out ${s?"md:w-[240px]":"md:w-20"}`,children:[m.jsxs("div",{className:`hidden md:flex md:items-center ${s?"md:justify-between":"md:justify-center"}`,children:[m.jsx("p",{className:`text-black dark:text-black-0 font-lobster font-normal text-2xl leading-8 ml-6 hidden text-nowrap ${s?"md:block":""}`,children:"Habit Piggy"}),m.jsx(SA.TbLayoutSidebarRight,{className:"w-6 h-6 md:w-8 md:h-8 text-black dark:text-black-0 hover:text-alert cursor-pointer",onClick:u})]}),m.jsxs("ul",{className:"grid grid-cols-5 items-center w-full md:grid-cols-1 md:gap-4 transition-all duration-200 ease-in-out",children:[m.jsx($s,{to:"/home",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/home"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/home"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/home"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(eu.TbHome2,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/home"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/home"&&s?"":"md:text-black"} ${n.pathname==="/home"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"主頁"})]})}),m.jsx($s,{to:"/savings",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/savings"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/savings"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/savings"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(eu.TbCoin,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/savings"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/savings"&&s?"":"md:text-black"} ${n.pathname==="/savings"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"存款"})]})}),m.jsx($s,{to:"/rank",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/rank"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/rank"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/rank"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(eu.TbMedal2,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/rank"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/rank"&&s?"":"md:text-black"} ${n.pathname==="/rank"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"排行"})]})}),m.jsx($s,{to:"/posts",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/posts"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/posts"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/posts"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(eu.TbMessage,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/posts"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/posts"&&s?"":"md:text-black"} ${n.pathname==="/posts"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"貼文"})]})}),m.jsx($s,{to:"/member",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/member"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/member"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/member"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(eu.TbMoodSmile,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/member"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/member"&&s?"":"md:text-black"} ${n.pathname==="/member"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"會員"})]})})]}),m.jsx($s,{to:"/",className:`hidden md:block ${n.pathname==="/"?"invisible":""}`,onClick:()=>{c(),h()},children:m.jsxs("div",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":"hover:bg-primary-light"}`,children:m.jsx(SA.TbLogout,{className:`w-6 h-6 md:w-8 md:h-8 dark:text-black-0 ${s?"md:text-black":""}`})}),m.jsx("p",{className:`text-black dark:text-black-0 ${s?"text-base leading-6 text-nowrap":"hidden"}`,children:"登出"})]})})]}):null,m.jsx("div",{className:`w-full md:max-w-screen-lg xl:max-w-[1160px] md:pl-20 lg:px-20 xl:px-0 my-0 mx-auto flex flex-col md:flex-row min-h-screen relative ${s&&window.innerWidth<1536?"blur-sm":""}`,children:m.jsx("div",{className:"mt-0 mb-[86px] md:mb-0 w-full p-0 relative",children:t})}),e&&m.jsx(kn,{isOpen:e,children:r}),m.jsx(uK,{})]})}V4.propTypes={children:H.node,isModalOpen:H.bool.isRequired,modalContent:H.node};const Gs=({children:t})=>{const{user:e,loading:r}=D.useContext(Qn);if(!r)return e?t:m.jsx(KN,{to:"/"})};Gs.propTypes={children:H.node.isRequired};function Abe(){return m.jsx(GD,{children:m.jsx(NF,{children:m.jsx(V4,{children:m.jsxs(SF,{children:[m.jsx(_a,{path:"/",element:m.jsx(xH,{})}),m.jsx(_a,{path:"/home",element:m.jsx(Gs,{children:m.jsx(fK,{})})}),m.jsx(_a,{path:"/savings",element:m.jsx(Gs,{children:m.jsx(_be,{})})}),m.jsx(_a,{path:"/rank",element:m.jsx(Gs,{children:m.jsx(kbe,{})})}),m.jsx(_a,{path:"/posts",element:m.jsx(Gs,{children:m.jsx(Ebe,{})})}),m.jsx(_a,{path:"/member",element:m.jsx(Gs,{children:m.jsx(Sbe,{})})}),m.jsx(_a,{path:"*",element:m.jsx(Tbe,{})})]})})})})}$N(document.getElementById("root")).render(m.jsx(D.StrictMode,{children:m.jsx(Abe,{})}));
