function D4(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function it(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nO={exports:{}},Wm={},iO={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=Symbol.for("react.element"),M4=Symbol.for("react.portal"),$4=Symbol.for("react.fragment"),L4=Symbol.for("react.strict_mode"),F4=Symbol.for("react.profiler"),V4=Symbol.for("react.provider"),U4=Symbol.for("react.context"),B4=Symbol.for("react.forward_ref"),z4=Symbol.for("react.suspense"),W4=Symbol.for("react.memo"),q4=Symbol.for("react.lazy"),oE=Symbol.iterator;function H4(t){return t===null||typeof t!="object"?null:(t=oE&&t[oE]||t["@@iterator"],typeof t=="function"?t:null)}var aO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oO=Object.assign,sO={};function Jl(t,e,r){this.props=t,this.context=e,this.refs=sO,this.updater=r||aO}Jl.prototype.isReactComponent={};Jl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lO(){}lO.prototype=Jl.prototype;function Gw(t,e,r){this.props=t,this.context=e,this.refs=sO,this.updater=r||aO}var Xw=Gw.prototype=new lO;Xw.constructor=Gw;oO(Xw,Jl.prototype);Xw.isPureReactComponent=!0;var sE=Array.isArray,cO=Object.prototype.hasOwnProperty,Yw={current:null},uO={key:!0,ref:!0,__self:!0,__source:!0};function fO(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)cO.call(e,n)&&!uO.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:td,type:t,key:a,ref:o,props:i,_owner:Yw.current}}function K4(t,e){return{$$typeof:td,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qw(t){return typeof t=="object"&&t!==null&&t.$$typeof===td}function G4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var lE=/\/+/g;function $y(t,e){return typeof t=="object"&&t!==null&&t.key!=null?G4(""+t.key):e.toString(36)}function Rh(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case td:case M4:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+$y(o,0):n,sE(i)?(r="",t!=null&&(r=t.replace(lE,"$&/")+"/"),Rh(i,e,r,"",function(c){return c})):i!=null&&(Qw(i)&&(i=K4(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",sE(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+$y(a,s);o+=Rh(a,e,r,l,i)}else if(l=H4(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+$y(a,s++),o+=Rh(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kd(t,e,r){if(t==null)return t;var n=[],i=0;return Rh(t,n,"","",function(a){return e.call(r,a,i++)}),n}function X4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ur={current:null},jh={transition:null},Y4={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:jh,ReactCurrentOwner:Yw};function dO(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Kd,forEach:function(t,e,r){Kd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Kd(t,function(){e++}),e},toArray:function(t){return Kd(t,function(e){return e})||[]},only:function(t){if(!Qw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Jl;Fe.Fragment=$4;Fe.Profiler=F4;Fe.PureComponent=Gw;Fe.StrictMode=L4;Fe.Suspense=z4;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y4;Fe.act=dO;Fe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=oO({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Yw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)cO.call(e,l)&&!uO.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:td,type:t.type,key:i,ref:a,props:n,_owner:o}};Fe.createContext=function(t){return t={$$typeof:U4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:V4,_context:t},t.Consumer=t};Fe.createElement=fO;Fe.createFactory=function(t){var e=fO.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:B4,render:t}};Fe.isValidElement=Qw;Fe.lazy=function(t){return{$$typeof:q4,_payload:{_status:-1,_result:t},_init:X4}};Fe.memo=function(t,e){return{$$typeof:W4,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=jh.transition;jh.transition={};try{t()}finally{jh.transition=e}};Fe.unstable_act=dO;Fe.useCallback=function(t,e){return Ur.current.useCallback(t,e)};Fe.useContext=function(t){return Ur.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Ur.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Ur.current.useEffect(t,e)};Fe.useId=function(){return Ur.current.useId()};Fe.useImperativeHandle=function(t,e,r){return Ur.current.useImperativeHandle(t,e,r)};Fe.useInsertionEffect=function(t,e){return Ur.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Ur.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Ur.current.useMemo(t,e)};Fe.useReducer=function(t,e,r){return Ur.current.useReducer(t,e,r)};Fe.useRef=function(t){return Ur.current.useRef(t)};Fe.useState=function(t){return Ur.current.useState(t)};Fe.useSyncExternalStore=function(t,e,r){return Ur.current.useSyncExternalStore(t,e,r)};Fe.useTransition=function(){return Ur.current.useTransition()};Fe.version="18.3.1";iO.exports=Fe;var D=iO.exports;const $=it(D),Q4=D4({__proto__:null,default:$},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J4=D,Z4=Symbol.for("react.element"),e3=Symbol.for("react.fragment"),t3=Object.prototype.hasOwnProperty,r3=J4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n3={key:!0,ref:!0,__self:!0,__source:!0};function hO(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)t3.call(e,n)&&!n3.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Z4,type:t,key:a,ref:o,props:i,_owner:r3.current}}Wm.Fragment=e3;Wm.jsx=hO;Wm.jsxs=hO;nO.exports=Wm;var m=nO.exports,pO={exports:{}},fn={},mO={exports:{}},gO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,Y){var re=F.length;F.push(Y);e:for(;0<re;){var de=re-1>>>1,te=F[de];if(0<i(te,Y))F[de]=Y,F[re]=te,re=de;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var Y=F[0],re=F.pop();if(re!==Y){F[0]=re;e:for(var de=0,te=F.length,he=te>>>1;de<he;){var Ee=2*(de+1)-1,je=F[Ee],Q=Ee+1,ne=F[Q];if(0>i(je,re))Q<te&&0>i(ne,je)?(F[de]=ne,F[Q]=re,de=Q):(F[de]=je,F[Ee]=re,de=Ee);else if(Q<te&&0>i(ne,re))F[de]=ne,F[Q]=re,de=Q;else break e}}return Y}function i(F,Y){var re=F.sortIndex-Y.sortIndex;return re!==0?re:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var Y=r(c);Y!==null;){if(Y.callback===null)n(c);else if(Y.startTime<=F)n(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=r(c)}}function E(F){if(y=!1,w(F),!g)if(r(l)!==null)g=!0,B(T);else{var Y=r(c);Y!==null&&X(E,Y.startTime-F)}}function T(F,Y){g=!1,y&&(y=!1,_(k),k=-1),p=!0;var re=h;try{for(w(Y),f=r(l);f!==null&&(!(f.expirationTime>Y)||F&&!R());){var de=f.callback;if(typeof de=="function"){f.callback=null,h=f.priorityLevel;var te=de(f.expirationTime<=Y);Y=t.unstable_now(),typeof te=="function"?f.callback=te:f===r(l)&&n(l),w(Y)}else n(l);f=r(l)}if(f!==null)var he=!0;else{var Ee=r(c);Ee!==null&&X(E,Ee.startTime-Y),he=!1}return he}finally{f=null,h=re,p=!1}}var I=!1,S=null,k=-1,P=5,O=-1;function R(){return!(t.unstable_now()-O<P)}function N(){if(S!==null){var F=t.unstable_now();O=F;var Y=!0;try{Y=S(!0,F)}finally{Y?C():(I=!1,S=null)}}else I=!1}var C;if(typeof v=="function")C=function(){v(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=N,C=function(){z.postMessage(null)}}else C=function(){b(N,0)};function B(F){S=F,I||(I=!0,C())}function X(F,Y){k=b(function(){F(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,B(T))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var re=h;h=Y;try{return F()}finally{h=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var re=h;h=F;try{return Y()}finally{h=re}},t.unstable_scheduleCallback=function(F,Y,re){var de=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?de+re:de):re=de,F){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=re+te,F={id:u++,callback:Y,priorityLevel:F,startTime:re,expirationTime:te,sortIndex:-1},re>de?(F.sortIndex=re,e(c,F),r(l)===null&&F===r(c)&&(y?(_(k),k=-1):y=!0,X(E,re-de))):(F.sortIndex=te,e(l,F),g||p||(g=!0,B(T))),F},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(F){var Y=h;return function(){var re=h;h=Y;try{return F.apply(this,arguments)}finally{h=re}}}})(gO);mO.exports=gO;var i3=mO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3=D,un=i3;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yO=new Set,Vu={};function fs(t,e){wl(t,e),wl(t+"Capture",e)}function wl(t,e){for(Vu[t]=e,t=0;t<e.length;t++)yO.add(e[t])}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r0=Object.prototype.hasOwnProperty,o3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cE={},uE={};function s3(t){return r0.call(uE,t)?!0:r0.call(cE,t)?!1:o3.test(t)?uE[t]=!0:(cE[t]=!0,!1)}function l3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c3(t,e,r,n){if(e===null||typeof e>"u"||l3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Br(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mr[t]=new Br(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mr[e]=new Br(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mr[t]=new Br(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mr[t]=new Br(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mr[t]=new Br(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mr[t]=new Br(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mr[t]=new Br(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mr[t]=new Br(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mr[t]=new Br(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jw=/[\-:]([a-z])/g;function Zw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jw,Zw);mr[e]=new Br(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jw,Zw);mr[e]=new Br(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jw,Zw);mr[e]=new Br(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mr[t]=new Br(t,1,!1,t.toLowerCase(),null,!1,!1)});mr.xlinkHref=new Br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mr[t]=new Br(t,1,!1,t.toLowerCase(),null,!0,!0)});function ex(t,e,r,n){var i=mr.hasOwnProperty(e)?mr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c3(e,r,i,n)&&(r=null),n||i===null?s3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ia=a3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gd=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),tx=Symbol.for("react.strict_mode"),n0=Symbol.for("react.profiler"),vO=Symbol.for("react.provider"),bO=Symbol.for("react.context"),rx=Symbol.for("react.forward_ref"),i0=Symbol.for("react.suspense"),a0=Symbol.for("react.suspense_list"),nx=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),wO=Symbol.for("react.offscreen"),fE=Symbol.iterator;function Rc(t){return t===null||typeof t!="object"?null:(t=fE&&t[fE]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,Ly;function tu(t){if(Ly===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ly=e&&e[1]||""}return`
`+Ly+t}var Fy=!1;function Vy(t,e){if(!t||Fy)return"";Fy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Fy=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?tu(t):""}function u3(t){switch(t.tag){case 5:return tu(t.type);case 16:return tu("Lazy");case 13:return tu("Suspense");case 19:return tu("SuspenseList");case 0:case 2:case 15:return t=Vy(t.type,!1),t;case 11:return t=Vy(t.type.render,!1),t;case 1:return t=Vy(t.type,!0),t;default:return""}}function o0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zs:return"Fragment";case Bs:return"Portal";case n0:return"Profiler";case tx:return"StrictMode";case i0:return"Suspense";case a0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bO:return(t.displayName||"Context")+".Consumer";case vO:return(t._context.displayName||"Context")+".Provider";case rx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nx:return e=t.displayName||null,e!==null?e:o0(t.type)||"Memo";case va:e=t._payload,t=t._init;try{return o0(t(e))}catch{}}return null}function f3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return o0(e);case 8:return e===tx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d3(t){var e=xO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xd(t){t._valueTracker||(t._valueTracker=d3(t))}function _O(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=xO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function np(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function s0(t,e){var r=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function dE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Qa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kO(t,e){e=e.checked,e!=null&&ex(t,"checked",e,!1)}function l0(t,e){kO(t,e);var r=Qa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?c0(t,e.type,r):e.hasOwnProperty("defaultValue")&&c0(t,e.type,Qa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function c0(t,e,r){(e!=="number"||np(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ru=Array.isArray;function ol(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Qa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function u0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(se(92));if(ru(r)){if(1<r.length)throw Error(se(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qa(r)}}function EO(t,e){var r=Qa(e.value),n=Qa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function mE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function SO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function f0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?SO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yd,TO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yd=Yd||document.createElement("div"),Yd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var pu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h3=["Webkit","ms","Moz","O"];Object.keys(pu).forEach(function(t){h3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pu[e]=pu[t]})});function AO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||pu.hasOwnProperty(t)&&pu[t]?(""+e).trim():e+"px"}function PO(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=AO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var p3=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d0(t,e){if(e){if(p3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function h0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p0=null;function ix(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var m0=null,sl=null,ll=null;function gE(t){if(t=id(t)){if(typeof m0!="function")throw Error(se(280));var e=t.stateNode;e&&(e=Xm(e),m0(t.stateNode,t.type,e))}}function IO(t){sl?ll?ll.push(t):ll=[t]:sl=t}function OO(){if(sl){var t=sl,e=ll;if(ll=sl=null,gE(t),e)for(t=0;t<e.length;t++)gE(e[t])}}function CO(t,e){return t(e)}function NO(){}var Uy=!1;function RO(t,e,r){if(Uy)return t(e,r);Uy=!0;try{return CO(t,e,r)}finally{Uy=!1,(sl!==null||ll!==null)&&(NO(),OO())}}function Bu(t,e){var r=t.stateNode;if(r===null)return null;var n=Xm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(se(231,e,typeof r));return r}var g0=!1;if(Hi)try{var jc={};Object.defineProperty(jc,"passive",{get:function(){g0=!0}}),window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{g0=!1}function m3(t,e,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var mu=!1,ip=null,ap=!1,y0=null,g3={onError:function(t){mu=!0,ip=t}};function y3(t,e,r,n,i,a,o,s,l){mu=!1,ip=null,m3.apply(g3,arguments)}function v3(t,e,r,n,i,a,o,s,l){if(y3.apply(this,arguments),mu){if(mu){var c=ip;mu=!1,ip=null}else throw Error(se(198));ap||(ap=!0,y0=c)}}function ds(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function jO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yE(t){if(ds(t)!==t)throw Error(se(188))}function b3(t){var e=t.alternate;if(!e){if(e=ds(t),e===null)throw Error(se(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return yE(i),t;if(a===n)return yE(i),e;a=a.sibling}throw Error(se(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(se(189))}}if(r.alternate!==n)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?t:e}function DO(t){return t=b3(t),t!==null?MO(t):null}function MO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MO(t);if(e!==null)return e;t=t.sibling}return null}var $O=un.unstable_scheduleCallback,vE=un.unstable_cancelCallback,w3=un.unstable_shouldYield,x3=un.unstable_requestPaint,Ft=un.unstable_now,_3=un.unstable_getCurrentPriorityLevel,ax=un.unstable_ImmediatePriority,LO=un.unstable_UserBlockingPriority,op=un.unstable_NormalPriority,k3=un.unstable_LowPriority,FO=un.unstable_IdlePriority,qm=null,oi=null;function E3(t){if(oi&&typeof oi.onCommitFiberRoot=="function")try{oi.onCommitFiberRoot(qm,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:A3,S3=Math.log,T3=Math.LN2;function A3(t){return t>>>=0,t===0?32:31-(S3(t)/T3|0)|0}var Qd=64,Jd=4194304;function nu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=nu(s):(a&=o,a!==0&&(n=nu(a)))}else o=r&~i,o!==0?n=nu(o):a!==0&&(n=nu(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Un(e),i=1<<r,n|=t[r],e&=~i;return n}function P3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I3(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Un(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=P3(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function v0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VO(){var t=Qd;return Qd<<=1,!(Qd&4194240)&&(Qd=64),t}function By(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function rd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=r}function O3(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Un(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function ox(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Un(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var nt=0;function UO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var BO,sx,zO,WO,qO,b0=!1,Zd=[],Ma=null,$a=null,La=null,zu=new Map,Wu=new Map,_a=[],C3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bE(t,e){switch(t){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":zu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(e.pointerId)}}function Dc(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=id(e),e!==null&&sx(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function N3(t,e,r,n,i){switch(e){case"focusin":return Ma=Dc(Ma,t,e,r,n,i),!0;case"dragenter":return $a=Dc($a,t,e,r,n,i),!0;case"mouseover":return La=Dc(La,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return zu.set(a,Dc(zu.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Wu.set(a,Dc(Wu.get(a)||null,t,e,r,n,i)),!0}return!1}function HO(t){var e=Ro(t.target);if(e!==null){var r=ds(e);if(r!==null){if(e=r.tag,e===13){if(e=jO(r),e!==null){t.blockedOn=e,qO(t.priority,function(){zO(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=w0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);p0=n,r.target.dispatchEvent(n),p0=null}else return e=id(r),e!==null&&sx(e),t.blockedOn=r,!1;e.shift()}return!0}function wE(t,e,r){Dh(t)&&r.delete(e)}function R3(){b0=!1,Ma!==null&&Dh(Ma)&&(Ma=null),$a!==null&&Dh($a)&&($a=null),La!==null&&Dh(La)&&(La=null),zu.forEach(wE),Wu.forEach(wE)}function Mc(t,e){t.blockedOn===e&&(t.blockedOn=null,b0||(b0=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,R3)))}function qu(t){function e(i){return Mc(i,t)}if(0<Zd.length){Mc(Zd[0],t);for(var r=1;r<Zd.length;r++){var n=Zd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ma!==null&&Mc(Ma,t),$a!==null&&Mc($a,t),La!==null&&Mc(La,t),zu.forEach(e),Wu.forEach(e),r=0;r<_a.length;r++)n=_a[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<_a.length&&(r=_a[0],r.blockedOn===null);)HO(r),r.blockedOn===null&&_a.shift()}var cl=ia.ReactCurrentBatchConfig,lp=!0;function j3(t,e,r,n){var i=nt,a=cl.transition;cl.transition=null;try{nt=1,lx(t,e,r,n)}finally{nt=i,cl.transition=a}}function D3(t,e,r,n){var i=nt,a=cl.transition;cl.transition=null;try{nt=4,lx(t,e,r,n)}finally{nt=i,cl.transition=a}}function lx(t,e,r,n){if(lp){var i=w0(t,e,r,n);if(i===null)Jy(t,e,n,cp,r),bE(t,n);else if(N3(i,t,e,r,n))n.stopPropagation();else if(bE(t,n),e&4&&-1<C3.indexOf(t)){for(;i!==null;){var a=id(i);if(a!==null&&BO(a),a=w0(t,e,r,n),a===null&&Jy(t,e,n,cp,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Jy(t,e,n,null,r)}}var cp=null;function w0(t,e,r,n){if(cp=null,t=ix(n),t=Ro(t),t!==null)if(e=ds(t),e===null)t=null;else if(r=e.tag,r===13){if(t=jO(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cp=t,null}function KO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_3()){case ax:return 1;case LO:return 4;case op:case k3:return 16;case FO:return 536870912;default:return 16}default:return 16}}var Ca=null,cx=null,Mh=null;function GO(){if(Mh)return Mh;var t,e=cx,r=e.length,n,i="value"in Ca?Ca.value:Ca.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Mh=i.slice(t,1<n?1-n:void 0)}function $h(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function eh(){return!0}function xE(){return!1}function dn(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?eh:xE,this.isPropagationStopped=xE,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=eh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=eh)},persist:function(){},isPersistent:eh}),e}var Zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ux=dn(Zl),nd=Ot({},Zl,{view:0,detail:0}),M3=dn(nd),zy,Wy,$c,Hm=Ot({},nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$c&&($c&&t.type==="mousemove"?(zy=t.screenX-$c.screenX,Wy=t.screenY-$c.screenY):Wy=zy=0,$c=t),zy)},movementY:function(t){return"movementY"in t?t.movementY:Wy}}),_E=dn(Hm),$3=Ot({},Hm,{dataTransfer:0}),L3=dn($3),F3=Ot({},nd,{relatedTarget:0}),qy=dn(F3),V3=Ot({},Zl,{animationName:0,elapsedTime:0,pseudoElement:0}),U3=dn(V3),B3=Ot({},Zl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z3=dn(B3),W3=Ot({},Zl,{data:0}),kE=dn(W3),q3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=K3[t])?!!e[t]:!1}function fx(){return G3}var X3=Ot({},nd,{key:function(t){if(t.key){var e=q3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$h(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fx,charCode:function(t){return t.type==="keypress"?$h(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$h(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y3=dn(X3),Q3=Ot({},Hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EE=dn(Q3),J3=Ot({},nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fx}),Z3=dn(J3),e5=Ot({},Zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),t5=dn(e5),r5=Ot({},Hm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n5=dn(r5),i5=[9,13,27,32],dx=Hi&&"CompositionEvent"in window,gu=null;Hi&&"documentMode"in document&&(gu=document.documentMode);var a5=Hi&&"TextEvent"in window&&!gu,XO=Hi&&(!dx||gu&&8<gu&&11>=gu),SE=" ",TE=!1;function YO(t,e){switch(t){case"keyup":return i5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ws=!1;function o5(t,e){switch(t){case"compositionend":return QO(e);case"keypress":return e.which!==32?null:(TE=!0,SE);case"textInput":return t=e.data,t===SE&&TE?null:t;default:return null}}function s5(t,e){if(Ws)return t==="compositionend"||!dx&&YO(t,e)?(t=GO(),Mh=cx=Ca=null,Ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XO&&e.locale!=="ko"?null:e.data;default:return null}}var l5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l5[t.type]:e==="textarea"}function JO(t,e,r,n){IO(n),e=up(e,"onChange"),0<e.length&&(r=new ux("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var yu=null,Hu=null;function c5(t){cC(t,0)}function Km(t){var e=Ks(t);if(_O(e))return t}function u5(t,e){if(t==="change")return e}var ZO=!1;if(Hi){var Hy;if(Hi){var Ky="oninput"in document;if(!Ky){var PE=document.createElement("div");PE.setAttribute("oninput","return;"),Ky=typeof PE.oninput=="function"}Hy=Ky}else Hy=!1;ZO=Hy&&(!document.documentMode||9<document.documentMode)}function IE(){yu&&(yu.detachEvent("onpropertychange",eC),Hu=yu=null)}function eC(t){if(t.propertyName==="value"&&Km(Hu)){var e=[];JO(e,Hu,t,ix(t)),RO(c5,e)}}function f5(t,e,r){t==="focusin"?(IE(),yu=e,Hu=r,yu.attachEvent("onpropertychange",eC)):t==="focusout"&&IE()}function d5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Km(Hu)}function h5(t,e){if(t==="click")return Km(e)}function p5(t,e){if(t==="input"||t==="change")return Km(e)}function m5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:m5;function Ku(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!r0.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function OE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function CE(t,e){var r=OE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=OE(r)}}function tC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rC(){for(var t=window,e=np();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=np(t.document)}return e}function hx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function g5(t){var e=rC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&tC(r.ownerDocument.documentElement,r)){if(n!==null&&hx(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=CE(r,a);var o=CE(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y5=Hi&&"documentMode"in document&&11>=document.documentMode,qs=null,x0=null,vu=null,_0=!1;function NE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_0||qs==null||qs!==np(n)||(n=qs,"selectionStart"in n&&hx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vu&&Ku(vu,n)||(vu=n,n=up(x0,"onSelect"),0<n.length&&(e=new ux("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=qs)))}function th(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Hs={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},Gy={},nC={};Hi&&(nC=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Gm(t){if(Gy[t])return Gy[t];if(!Hs[t])return t;var e=Hs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in nC)return Gy[t]=e[r];return t}var iC=Gm("animationend"),aC=Gm("animationiteration"),oC=Gm("animationstart"),sC=Gm("transitionend"),lC=new Map,RE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(t,e){lC.set(t,e),fs(e,[t])}for(var Xy=0;Xy<RE.length;Xy++){var Yy=RE[Xy],v5=Yy.toLowerCase(),b5=Yy[0].toUpperCase()+Yy.slice(1);no(v5,"on"+b5)}no(iC,"onAnimationEnd");no(aC,"onAnimationIteration");no(oC,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(sC,"onTransitionEnd");wl("onMouseEnter",["mouseout","mouseover"]);wl("onMouseLeave",["mouseout","mouseover"]);wl("onPointerEnter",["pointerout","pointerover"]);wl("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w5=new Set("cancel close invalid load scroll toggle".split(" ").concat(iu));function jE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,v3(n,e,void 0,t),t.currentTarget=null}function cC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;jE(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;jE(i,s,c),a=l}}}if(ap)throw t=y0,ap=!1,y0=null,t}function mt(t,e){var r=e[A0];r===void 0&&(r=e[A0]=new Set);var n=t+"__bubble";r.has(n)||(uC(e,t,2,!1),r.add(n))}function Qy(t,e,r){var n=0;e&&(n|=4),uC(r,t,n,e)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Gu(t){if(!t[rh]){t[rh]=!0,yO.forEach(function(r){r!=="selectionchange"&&(w5.has(r)||Qy(r,!1,t),Qy(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rh]||(e[rh]=!0,Qy("selectionchange",!1,e))}}function uC(t,e,r,n){switch(KO(e)){case 1:var i=j3;break;case 4:i=D3;break;default:i=lx}r=i.bind(null,e,r,t),i=void 0,!g0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Jy(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ro(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}RO(function(){var c=a,u=ix(r),f=[];e:{var h=lC.get(t);if(h!==void 0){var p=ux,g=t;switch(t){case"keypress":if($h(r)===0)break e;case"keydown":case"keyup":p=Y3;break;case"focusin":g="focus",p=qy;break;case"focusout":g="blur",p=qy;break;case"beforeblur":case"afterblur":p=qy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_E;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=L3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Z3;break;case iC:case aC:case oC:p=U3;break;case sC:p=t5;break;case"scroll":p=M3;break;case"wheel":p=n5;break;case"copy":case"cut":case"paste":p=z3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=EE}var y=(e&4)!==0,b=!y&&t==="scroll",_=y?h!==null?h+"Capture":null:h;y=[];for(var v=c,w;v!==null;){w=v;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,_!==null&&(E=Bu(v,_),E!=null&&y.push(Xu(v,E,w)))),b)break;v=v.return}0<y.length&&(h=new p(h,g,null,r,u),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==p0&&(g=r.relatedTarget||r.fromElement)&&(Ro(g)||g[Ki]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Ro(g):null,g!==null&&(b=ds(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=_E,E="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=EE,E="onPointerLeave",_="onPointerEnter",v="pointer"),b=p==null?h:Ks(p),w=g==null?h:Ks(g),h=new y(E,v+"leave",p,r,u),h.target=b,h.relatedTarget=w,E=null,Ro(u)===c&&(y=new y(_,v+"enter",g,r,u),y.target=w,y.relatedTarget=b,E=y),b=E,p&&g)t:{for(y=p,_=g,v=0,w=y;w;w=Is(w))v++;for(w=0,E=_;E;E=Is(E))w++;for(;0<v-w;)y=Is(y),v--;for(;0<w-v;)_=Is(_),w--;for(;v--;){if(y===_||_!==null&&y===_.alternate)break t;y=Is(y),_=Is(_)}y=null}else y=null;p!==null&&DE(f,h,p,y,!1),g!==null&&b!==null&&DE(f,b,g,y,!0)}}e:{if(h=c?Ks(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=u5;else if(AE(h))if(ZO)T=p5;else{T=d5;var I=f5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=h5);if(T&&(T=T(t,c))){JO(f,T,r,u);break e}I&&I(t,h,c),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&c0(h,"number",h.value)}switch(I=c?Ks(c):window,t){case"focusin":(AE(I)||I.contentEditable==="true")&&(qs=I,x0=c,vu=null);break;case"focusout":vu=x0=qs=null;break;case"mousedown":_0=!0;break;case"contextmenu":case"mouseup":case"dragend":_0=!1,NE(f,r,u);break;case"selectionchange":if(y5)break;case"keydown":case"keyup":NE(f,r,u)}var S;if(dx)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ws?YO(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(XO&&r.locale!=="ko"&&(Ws||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ws&&(S=GO()):(Ca=u,cx="value"in Ca?Ca.value:Ca.textContent,Ws=!0)),I=up(c,k),0<I.length&&(k=new kE(k,t,null,r,u),f.push({event:k,listeners:I}),S?k.data=S:(S=QO(r),S!==null&&(k.data=S)))),(S=a5?o5(t,r):s5(t,r))&&(c=up(c,"onBeforeInput"),0<c.length&&(u=new kE("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=S))}cC(f,e)})}function Xu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function up(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Bu(t,r),a!=null&&n.unshift(Xu(t,a,i)),a=Bu(t,e),a!=null&&n.push(Xu(t,a,i))),t=t.return}return n}function Is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DE(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=Bu(r,a),l!=null&&o.unshift(Xu(r,l,s))):i||(l=Bu(r,a),l!=null&&o.push(Xu(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var x5=/\r\n?/g,_5=/\u0000|\uFFFD/g;function ME(t){return(typeof t=="string"?t:""+t).replace(x5,`
`).replace(_5,"")}function nh(t,e,r){if(e=ME(e),ME(t)!==e&&r)throw Error(se(425))}function fp(){}var k0=null,E0=null;function S0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var T0=typeof setTimeout=="function"?setTimeout:void 0,k5=typeof clearTimeout=="function"?clearTimeout:void 0,$E=typeof Promise=="function"?Promise:void 0,E5=typeof queueMicrotask=="function"?queueMicrotask:typeof $E<"u"?function(t){return $E.resolve(null).then(t).catch(S5)}:T0;function S5(t){setTimeout(function(){throw t})}function Zy(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),qu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);qu(e)}function Fa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ec=Math.random().toString(36).slice(2),ti="__reactFiber$"+ec,Yu="__reactProps$"+ec,Ki="__reactContainer$"+ec,A0="__reactEvents$"+ec,T5="__reactListeners$"+ec,A5="__reactHandles$"+ec;function Ro(t){var e=t[ti];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ki]||r[ti]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=LE(t);t!==null;){if(r=t[ti])return r;t=LE(t)}return e}t=r,r=t.parentNode}return null}function id(t){return t=t[ti]||t[Ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function Xm(t){return t[Yu]||null}var P0=[],Gs=-1;function io(t){return{current:t}}function wt(t){0>Gs||(t.current=P0[Gs],P0[Gs]=null,Gs--)}function dt(t,e){Gs++,P0[Gs]=t.current,t.current=e}var Ja={},Ir=io(Ja),Xr=io(!1),Ko=Ja;function xl(t,e){var r=t.type.contextTypes;if(!r)return Ja;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yr(t){return t=t.childContextTypes,t!=null}function dp(){wt(Xr),wt(Ir)}function FE(t,e,r){if(Ir.current!==Ja)throw Error(se(168));dt(Ir,e),dt(Xr,r)}function fC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(se(108,f3(t)||"Unknown",i));return Ot({},r,n)}function hp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ja,Ko=Ir.current,dt(Ir,t),dt(Xr,Xr.current),!0}function VE(t,e,r){var n=t.stateNode;if(!n)throw Error(se(169));r?(t=fC(t,e,Ko),n.__reactInternalMemoizedMergedChildContext=t,wt(Xr),wt(Ir),dt(Ir,t)):wt(Xr),dt(Xr,r)}var Ii=null,Ym=!1,ev=!1;function dC(t){Ii===null?Ii=[t]:Ii.push(t)}function P5(t){Ym=!0,dC(t)}function ao(){if(!ev&&Ii!==null){ev=!0;var t=0,e=nt;try{var r=Ii;for(nt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ii=null,Ym=!1}catch(i){throw Ii!==null&&(Ii=Ii.slice(t+1)),$O(ax,ao),i}finally{nt=e,ev=!1}}return null}var Xs=[],Ys=0,pp=null,mp=0,vn=[],bn=0,Go=null,Ci=1,Ni="";function To(t,e){Xs[Ys++]=mp,Xs[Ys++]=pp,pp=t,mp=e}function hC(t,e,r){vn[bn++]=Ci,vn[bn++]=Ni,vn[bn++]=Go,Go=t;var n=Ci;t=Ni;var i=32-Un(n)-1;n&=~(1<<i),r+=1;var a=32-Un(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ci=1<<32-Un(e)+i|r<<i|n,Ni=a+t}else Ci=1<<a|r<<i|n,Ni=t}function px(t){t.return!==null&&(To(t,1),hC(t,1,0))}function mx(t){for(;t===pp;)pp=Xs[--Ys],Xs[Ys]=null,mp=Xs[--Ys],Xs[Ys]=null;for(;t===Go;)Go=vn[--bn],vn[bn]=null,Ni=vn[--bn],vn[bn]=null,Ci=vn[--bn],vn[bn]=null}var ln=null,on=null,Et=!1,Ln=null;function pC(t,e){var r=kn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function UE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,on=Fa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Go!==null?{id:Ci,overflow:Ni}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=kn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ln=t,on=null,!0):!1;default:return!1}}function I0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function O0(t){if(Et){var e=on;if(e){var r=e;if(!UE(t,e)){if(I0(t))throw Error(se(418));e=Fa(r.nextSibling);var n=ln;e&&UE(t,e)?pC(n,r):(t.flags=t.flags&-4097|2,Et=!1,ln=t)}}else{if(I0(t))throw Error(se(418));t.flags=t.flags&-4097|2,Et=!1,ln=t}}}function BE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function ih(t){if(t!==ln)return!1;if(!Et)return BE(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!S0(t.type,t.memoizedProps)),e&&(e=on)){if(I0(t))throw mC(),Error(se(418));for(;e;)pC(t,e),e=Fa(e.nextSibling)}if(BE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){on=Fa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}on=null}}else on=ln?Fa(t.stateNode.nextSibling):null;return!0}function mC(){for(var t=on;t;)t=Fa(t.nextSibling)}function _l(){on=ln=null,Et=!1}function gx(t){Ln===null?Ln=[t]:Ln.push(t)}var I5=ia.ReactCurrentBatchConfig;function Lc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var n=r.stateNode}if(!n)throw Error(se(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,t))}return t}function ah(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zE(t){var e=t._init;return e(t._payload)}function gC(t){function e(_,v){if(t){var w=_.deletions;w===null?(_.deletions=[v],_.flags|=16):w.push(v)}}function r(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function n(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=za(_,v),_.index=0,_.sibling=null,_}function a(_,v,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<v?(_.flags|=2,v):w):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,v,w,E){return v===null||v.tag!==6?(v=sv(w,_.mode,E),v.return=_,v):(v=i(v,w),v.return=_,v)}function l(_,v,w,E){var T=w.type;return T===zs?u(_,v,w.props.children,E,w.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===va&&zE(T)===v.type)?(E=i(v,w.props),E.ref=Lc(_,v,w),E.return=_,E):(E=Wh(w.type,w.key,w.props,null,_.mode,E),E.ref=Lc(_,v,w),E.return=_,E)}function c(_,v,w,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=lv(w,_.mode,E),v.return=_,v):(v=i(v,w.children||[]),v.return=_,v)}function u(_,v,w,E,T){return v===null||v.tag!==7?(v=Bo(w,_.mode,E,T),v.return=_,v):(v=i(v,w),v.return=_,v)}function f(_,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=sv(""+v,_.mode,w),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gd:return w=Wh(v.type,v.key,v.props,null,_.mode,w),w.ref=Lc(_,null,v),w.return=_,w;case Bs:return v=lv(v,_.mode,w),v.return=_,v;case va:var E=v._init;return f(_,E(v._payload),w)}if(ru(v)||Rc(v))return v=Bo(v,_.mode,w,null),v.return=_,v;ah(_,v)}return null}function h(_,v,w,E){var T=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:s(_,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gd:return w.key===T?l(_,v,w,E):null;case Bs:return w.key===T?c(_,v,w,E):null;case va:return T=w._init,h(_,v,T(w._payload),E)}if(ru(w)||Rc(w))return T!==null?null:u(_,v,w,E,null);ah(_,w)}return null}function p(_,v,w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return _=_.get(w)||null,s(v,_,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gd:return _=_.get(E.key===null?w:E.key)||null,l(v,_,E,T);case Bs:return _=_.get(E.key===null?w:E.key)||null,c(v,_,E,T);case va:var I=E._init;return p(_,v,w,I(E._payload),T)}if(ru(E)||Rc(E))return _=_.get(w)||null,u(v,_,E,T,null);ah(v,E)}return null}function g(_,v,w,E){for(var T=null,I=null,S=v,k=v=0,P=null;S!==null&&k<w.length;k++){S.index>k?(P=S,S=null):P=S.sibling;var O=h(_,S,w[k],E);if(O===null){S===null&&(S=P);break}t&&S&&O.alternate===null&&e(_,S),v=a(O,v,k),I===null?T=O:I.sibling=O,I=O,S=P}if(k===w.length)return r(_,S),Et&&To(_,k),T;if(S===null){for(;k<w.length;k++)S=f(_,w[k],E),S!==null&&(v=a(S,v,k),I===null?T=S:I.sibling=S,I=S);return Et&&To(_,k),T}for(S=n(_,S);k<w.length;k++)P=p(S,_,k,w[k],E),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?k:P.key),v=a(P,v,k),I===null?T=P:I.sibling=P,I=P);return t&&S.forEach(function(R){return e(_,R)}),Et&&To(_,k),T}function y(_,v,w,E){var T=Rc(w);if(typeof T!="function")throw Error(se(150));if(w=T.call(w),w==null)throw Error(se(151));for(var I=T=null,S=v,k=v=0,P=null,O=w.next();S!==null&&!O.done;k++,O=w.next()){S.index>k?(P=S,S=null):P=S.sibling;var R=h(_,S,O.value,E);if(R===null){S===null&&(S=P);break}t&&S&&R.alternate===null&&e(_,S),v=a(R,v,k),I===null?T=R:I.sibling=R,I=R,S=P}if(O.done)return r(_,S),Et&&To(_,k),T;if(S===null){for(;!O.done;k++,O=w.next())O=f(_,O.value,E),O!==null&&(v=a(O,v,k),I===null?T=O:I.sibling=O,I=O);return Et&&To(_,k),T}for(S=n(_,S);!O.done;k++,O=w.next())O=p(S,_,k,O.value,E),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?k:O.key),v=a(O,v,k),I===null?T=O:I.sibling=O,I=O);return t&&S.forEach(function(N){return e(_,N)}),Et&&To(_,k),T}function b(_,v,w,E){if(typeof w=="object"&&w!==null&&w.type===zs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gd:e:{for(var T=w.key,I=v;I!==null;){if(I.key===T){if(T=w.type,T===zs){if(I.tag===7){r(_,I.sibling),v=i(I,w.props.children),v.return=_,_=v;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===va&&zE(T)===I.type){r(_,I.sibling),v=i(I,w.props),v.ref=Lc(_,I,w),v.return=_,_=v;break e}r(_,I);break}else e(_,I);I=I.sibling}w.type===zs?(v=Bo(w.props.children,_.mode,E,w.key),v.return=_,_=v):(E=Wh(w.type,w.key,w.props,null,_.mode,E),E.ref=Lc(_,v,w),E.return=_,_=E)}return o(_);case Bs:e:{for(I=w.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(_,v.sibling),v=i(v,w.children||[]),v.return=_,_=v;break e}else{r(_,v);break}else e(_,v);v=v.sibling}v=lv(w,_.mode,E),v.return=_,_=v}return o(_);case va:return I=w._init,b(_,v,I(w._payload),E)}if(ru(w))return g(_,v,w,E);if(Rc(w))return y(_,v,w,E);ah(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(_,v.sibling),v=i(v,w),v.return=_,_=v):(r(_,v),v=sv(w,_.mode,E),v.return=_,_=v),o(_)):r(_,v)}return b}var kl=gC(!0),yC=gC(!1),gp=io(null),yp=null,Qs=null,yx=null;function vx(){yx=Qs=yp=null}function bx(t){var e=gp.current;wt(gp),t._currentValue=e}function C0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ul(t,e){yp=t,yx=Qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kr=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(yx!==t)if(t={context:t,memoizedValue:e,next:null},Qs===null){if(yp===null)throw Error(se(308));Qs=t,yp.dependencies={lanes:0,firstContext:t}}else Qs=Qs.next=t;return e}var jo=null;function wx(t){jo===null?jo=[t]:jo.push(t)}function vC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,wx(e)):(r.next=i.next,i.next=r),e.interleaved=r,Gi(t,n)}function Gi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ba=!1;function xx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Va(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Gi(t,r)}return i=n.interleaved,i===null?(e.next=e,wx(n)):(e.next=i.next,i.next=e),n.interleaved=e,Gi(t,r)}function Lh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ox(t,r)}}function WE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function vp(t,e,r,n){var i=t.updateQueue;ba=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Ot({},f,h);break e;case 2:ba=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Yo|=o,t.lanes=o,t.memoizedState=f}}function qE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(se(191,i));i.call(n)}}}var ad={},si=io(ad),Qu=io(ad),Ju=io(ad);function Do(t){if(t===ad)throw Error(se(174));return t}function _x(t,e){switch(dt(Ju,e),dt(Qu,t),dt(si,ad),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:f0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=f0(e,t)}wt(si),dt(si,e)}function El(){wt(si),wt(Qu),wt(Ju)}function wC(t){Do(Ju.current);var e=Do(si.current),r=f0(e,t.type);e!==r&&(dt(Qu,t),dt(si,r))}function kx(t){Qu.current===t&&(wt(si),wt(Qu))}var Pt=io(0);function bp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tv=[];function Ex(){for(var t=0;t<tv.length;t++)tv[t]._workInProgressVersionPrimary=null;tv.length=0}var Fh=ia.ReactCurrentDispatcher,rv=ia.ReactCurrentBatchConfig,Xo=0,It=null,Gt=null,nr=null,wp=!1,bu=!1,Zu=0,O5=0;function br(){throw Error(se(321))}function Sx(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Wn(t[r],e[r]))return!1;return!0}function Tx(t,e,r,n,i,a){if(Xo=a,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=t===null||t.memoizedState===null?j5:D5,t=r(n,i),bu){a=0;do{if(bu=!1,Zu=0,25<=a)throw Error(se(301));a+=1,nr=Gt=null,e.updateQueue=null,Fh.current=M5,t=r(n,i)}while(bu)}if(Fh.current=xp,e=Gt!==null&&Gt.next!==null,Xo=0,nr=Gt=It=null,wp=!1,e)throw Error(se(300));return t}function Ax(){var t=Zu!==0;return Zu=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?It.memoizedState=nr=t:nr=nr.next=t,nr}function In(){if(Gt===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var e=nr===null?It.memoizedState:nr.next;if(e!==null)nr=e,Gt=t;else{if(t===null)throw Error(se(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},nr===null?It.memoizedState=nr=t:nr=nr.next=t}return nr}function ef(t,e){return typeof e=="function"?e(t):e}function nv(t){var e=In(),r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=t;var n=Gt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Xo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,It.lanes|=u,Yo|=u}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,Wn(n,e.memoizedState)||(Kr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,It.lanes|=a,Yo|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function iv(t){var e=In(),r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Wn(a,e.memoizedState)||(Kr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function xC(){}function _C(t,e){var r=It,n=In(),i=e(),a=!Wn(n.memoizedState,i);if(a&&(n.memoizedState=i,Kr=!0),n=n.queue,Px(SC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||nr!==null&&nr.memoizedState.tag&1){if(r.flags|=2048,tf(9,EC.bind(null,r,n,i,e),void 0,null),ar===null)throw Error(se(349));Xo&30||kC(r,e,i)}return i}function kC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function EC(t,e,r,n){e.value=r,e.getSnapshot=n,TC(e)&&AC(t)}function SC(t,e,r){return r(function(){TC(e)&&AC(t)})}function TC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Wn(t,r)}catch{return!0}}function AC(t){var e=Gi(t,1);e!==null&&Bn(e,t,1,-1)}function HE(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ef,lastRenderedState:t},e.queue=t,t=t.dispatch=R5.bind(null,It,t),[e.memoizedState,t]}function tf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function PC(){return In().memoizedState}function Vh(t,e,r,n){var i=Jn();It.flags|=t,i.memoizedState=tf(1|e,r,void 0,n===void 0?null:n)}function Qm(t,e,r,n){var i=In();n=n===void 0?null:n;var a=void 0;if(Gt!==null){var o=Gt.memoizedState;if(a=o.destroy,n!==null&&Sx(n,o.deps)){i.memoizedState=tf(e,r,a,n);return}}It.flags|=t,i.memoizedState=tf(1|e,r,a,n)}function KE(t,e){return Vh(8390656,8,t,e)}function Px(t,e){return Qm(2048,8,t,e)}function IC(t,e){return Qm(4,2,t,e)}function OC(t,e){return Qm(4,4,t,e)}function CC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NC(t,e,r){return r=r!=null?r.concat([t]):null,Qm(4,4,CC.bind(null,e,t),r)}function Ix(){}function RC(t,e){var r=In();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Sx(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function jC(t,e){var r=In();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Sx(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function DC(t,e,r){return Xo&21?(Wn(r,e)||(r=VO(),It.lanes|=r,Yo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kr=!0),t.memoizedState=r)}function C5(t,e){var r=nt;nt=r!==0&&4>r?r:4,t(!0);var n=rv.transition;rv.transition={};try{t(!1),e()}finally{nt=r,rv.transition=n}}function MC(){return In().memoizedState}function N5(t,e,r){var n=Ba(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$C(t))LC(e,r);else if(r=vC(t,e,r,n),r!==null){var i=Fr();Bn(r,t,n,i),FC(r,e,n)}}function R5(t,e,r){var n=Ba(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($C(t))LC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Wn(s,o)){var l=e.interleaved;l===null?(i.next=i,wx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=vC(t,e,i,n),r!==null&&(i=Fr(),Bn(r,t,n,i),FC(r,e,n))}}function $C(t){var e=t.alternate;return t===It||e!==null&&e===It}function LC(t,e){bu=wp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function FC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ox(t,r)}}var xp={readContext:Pn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},j5={readContext:Pn,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:KE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Vh(4194308,4,CC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Vh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vh(4,2,t,e)},useMemo:function(t,e){var r=Jn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Jn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=N5.bind(null,It,t),[n.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:HE,useDebugValue:Ix,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=HE(!1),e=t[0];return t=C5.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=It,i=Jn();if(Et){if(r===void 0)throw Error(se(407));r=r()}else{if(r=e(),ar===null)throw Error(se(349));Xo&30||kC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,KE(SC.bind(null,n,a,t),[t]),n.flags|=2048,tf(9,EC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Jn(),e=ar.identifierPrefix;if(Et){var r=Ni,n=Ci;r=(n&~(1<<32-Un(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Zu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=O5++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D5={readContext:Pn,useCallback:RC,useContext:Pn,useEffect:Px,useImperativeHandle:NC,useInsertionEffect:IC,useLayoutEffect:OC,useMemo:jC,useReducer:nv,useRef:PC,useState:function(){return nv(ef)},useDebugValue:Ix,useDeferredValue:function(t){var e=In();return DC(e,Gt.memoizedState,t)},useTransition:function(){var t=nv(ef)[0],e=In().memoizedState;return[t,e]},useMutableSource:xC,useSyncExternalStore:_C,useId:MC,unstable_isNewReconciler:!1},M5={readContext:Pn,useCallback:RC,useContext:Pn,useEffect:Px,useImperativeHandle:NC,useInsertionEffect:IC,useLayoutEffect:OC,useMemo:jC,useReducer:iv,useRef:PC,useState:function(){return iv(ef)},useDebugValue:Ix,useDeferredValue:function(t){var e=In();return Gt===null?e.memoizedState=t:DC(e,Gt.memoizedState,t)},useTransition:function(){var t=iv(ef)[0],e=In().memoizedState;return[t,e]},useMutableSource:xC,useSyncExternalStore:_C,useId:MC,unstable_isNewReconciler:!1};function Dn(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function N0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ot({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jm={isMounted:function(t){return(t=t._reactInternals)?ds(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fr(),i=Ba(t),a=Vi(n,i);a.payload=e,r!=null&&(a.callback=r),e=Va(t,a,i),e!==null&&(Bn(e,t,i,n),Lh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fr(),i=Ba(t),a=Vi(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Va(t,a,i),e!==null&&(Bn(e,t,i,n),Lh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fr(),n=Ba(t),i=Vi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Va(t,i,n),e!==null&&(Bn(e,t,n,r),Lh(e,t,n))}};function GE(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Ku(r,n)||!Ku(i,a):!0}function VC(t,e,r){var n=!1,i=Ja,a=e.contextType;return typeof a=="object"&&a!==null?a=Pn(a):(i=Yr(e)?Ko:Ir.current,n=e.contextTypes,a=(n=n!=null)?xl(t,i):Ja),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function XE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Jm.enqueueReplaceState(e,e.state,null)}function R0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},xx(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Pn(a):(a=Yr(e)?Ko:Ir.current,i.context=xl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(N0(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jm.enqueueReplaceState(i,i.state,null),vp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sl(t,e){try{var r="",n=e;do r+=u3(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function av(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function j0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var $5=typeof WeakMap=="function"?WeakMap:Map;function UC(t,e,r){r=Vi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){kp||(kp=!0,W0=n),j0(t,e)},r}function BC(t,e,r){r=Vi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){j0(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){j0(t,e),typeof n!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function YE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new $5;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Q5.bind(null,t,e,r),e.then(t,t))}function QE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Vi(-1,1),e.tag=2,Va(r,e,1))),r.lanes|=1),t)}var L5=ia.ReactCurrentOwner,Kr=!1;function Rr(t,e,r,n){e.child=t===null?yC(e,null,r,n):kl(e,t.child,r,n)}function ZE(t,e,r,n,i){r=r.render;var a=e.ref;return ul(e,i),n=Tx(t,e,r,n,a,i),r=Ax(),t!==null&&!Kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(Et&&r&&px(e),e.flags|=1,Rr(t,e,n,i),e.child)}function eS(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!$x(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,zC(t,e,a,n,i)):(t=Wh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ku,r(o,n)&&t.ref===e.ref)return Xi(t,e,i)}return e.flags|=1,t=za(a,n),t.ref=e.ref,t.return=e,e.child=t}function zC(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Ku(a,n)&&t.ref===e.ref)if(Kr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Kr=!0);else return e.lanes=t.lanes,Xi(t,e,i)}return D0(t,e,r,n,i)}function WC(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Zs,rn),rn|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dt(Zs,rn),rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,dt(Zs,rn),rn|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,dt(Zs,rn),rn|=n;return Rr(t,e,i,r),e.child}function qC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function D0(t,e,r,n,i){var a=Yr(r)?Ko:Ir.current;return a=xl(e,a),ul(e,i),r=Tx(t,e,r,n,a,i),n=Ax(),t!==null&&!Kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(Et&&n&&px(e),e.flags|=1,Rr(t,e,r,i),e.child)}function tS(t,e,r,n,i){if(Yr(r)){var a=!0;hp(e)}else a=!1;if(ul(e,i),e.stateNode===null)Uh(t,e),VC(e,r,n),R0(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Pn(c):(c=Yr(r)?Ko:Ir.current,c=xl(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&XE(e,o,n,c),ba=!1;var h=e.memoizedState;o.state=h,vp(e,n,o,i),l=e.memoizedState,s!==n||h!==l||Xr.current||ba?(typeof u=="function"&&(N0(e,r,u,n),l=e.memoizedState),(s=ba||GE(e,r,s,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,bC(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Dn(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=Yr(r)?Ko:Ir.current,l=xl(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&XE(e,o,n,l),ba=!1,h=e.memoizedState,o.state=h,vp(e,n,o,i);var g=e.memoizedState;s!==f||h!==g||Xr.current||ba?(typeof p=="function"&&(N0(e,r,p,n),g=e.memoizedState),(c=ba||GE(e,r,c,n,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return M0(t,e,r,n,a,i)}function M0(t,e,r,n,i,a){qC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&VE(e,r,!1),Xi(t,e,a);n=e.stateNode,L5.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=kl(e,t.child,null,a),e.child=kl(e,null,s,a)):Rr(t,e,s,a),e.memoizedState=n.state,i&&VE(e,r,!0),e.child}function HC(t){var e=t.stateNode;e.pendingContext?FE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FE(t,e.context,!1),_x(t,e.containerInfo)}function rS(t,e,r,n,i){return _l(),gx(i),e.flags|=256,Rr(t,e,r,n),e.child}var $0={dehydrated:null,treeContext:null,retryLane:0};function L0(t){return{baseLanes:t,cachePool:null,transitions:null}}function KC(t,e,r){var n=e.pendingProps,i=Pt.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dt(Pt,i&1),t===null)return O0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=tg(o,n,0,null),t=Bo(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=L0(r),e.memoizedState=$0,t):Ox(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return F5(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=za(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=za(s,a):(a=Bo(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?L0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=$0,n}return a=t.child,t=a.sibling,n=za(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ox(t,e){return e=tg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oh(t,e,r,n){return n!==null&&gx(n),kl(e,t.child,null,r),t=Ox(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function F5(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=av(Error(se(422))),oh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=tg({mode:"visible",children:n.children},i,0,null),a=Bo(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&kl(e,t.child,null,o),e.child.memoizedState=L0(o),e.memoizedState=$0,a);if(!(e.mode&1))return oh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(se(419)),n=av(a,n,void 0),oh(t,e,o,n)}if(s=(o&t.childLanes)!==0,Kr||s){if(n=ar,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Gi(t,i),Bn(n,t,i,-1))}return Mx(),n=av(Error(se(421))),oh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=J5.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,on=Fa(i.nextSibling),ln=e,Et=!0,Ln=null,t!==null&&(vn[bn++]=Ci,vn[bn++]=Ni,vn[bn++]=Go,Ci=t.id,Ni=t.overflow,Go=e),e=Ox(e,n.children),e.flags|=4096,e)}function nS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),C0(t.return,e,r)}function ov(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function GC(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Rr(t,e,n.children,r),n=Pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nS(t,r,e);else if(t.tag===19)nS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(dt(Pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&bp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ov(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ov(e,!0,r,null,a);break;case"together":ov(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Yo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,r=za(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=za(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function V5(t,e,r){switch(e.tag){case 3:HC(e),_l();break;case 5:wC(e);break;case 1:Yr(e.type)&&hp(e);break;case 4:_x(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;dt(gp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(dt(Pt,Pt.current&1),e.flags|=128,null):r&e.child.childLanes?KC(t,e,r):(dt(Pt,Pt.current&1),t=Xi(t,e,r),t!==null?t.sibling:null);dt(Pt,Pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return GC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(Pt,Pt.current),n)break;return null;case 22:case 23:return e.lanes=0,WC(t,e,r)}return Xi(t,e,r)}var XC,F0,YC,QC;XC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};F0=function(){};YC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Do(si.current);var a=null;switch(r){case"input":i=s0(t,i),n=s0(t,n),a=[];break;case"select":i=Ot({},i,{value:void 0}),n=Ot({},n,{value:void 0}),a=[];break;case"textarea":i=u0(t,i),n=u0(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=fp)}d0(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vu.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&mt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};QC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Fc(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function wr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function U5(t,e,r){var n=e.pendingProps;switch(mx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(e),null;case 1:return Yr(e.type)&&dp(),wr(e),null;case 3:return n=e.stateNode,El(),wt(Xr),wt(Ir),Ex(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ih(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(K0(Ln),Ln=null))),F0(t,e),wr(e),null;case 5:kx(e);var i=Do(Ju.current);if(r=e.type,t!==null&&e.stateNode!=null)YC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(se(166));return wr(e),null}if(t=Do(si.current),ih(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[ti]=e,n[Yu]=a,t=(e.mode&1)!==0,r){case"dialog":mt("cancel",n),mt("close",n);break;case"iframe":case"object":case"embed":mt("load",n);break;case"video":case"audio":for(i=0;i<iu.length;i++)mt(iu[i],n);break;case"source":mt("error",n);break;case"img":case"image":case"link":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"input":dE(n,a),mt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},mt("invalid",n);break;case"textarea":pE(n,a),mt("invalid",n)}d0(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&nh(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&nh(n.textContent,s,t),i=["children",""+s]):Vu.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&mt("scroll",n)}switch(r){case"input":Xd(n),hE(n,a,!0);break;case"textarea":Xd(n),mE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=fp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=SO(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ti]=e,t[Yu]=n,XC(t,e,!1,!1),e.stateNode=t;e:{switch(o=h0(r,n),r){case"dialog":mt("cancel",t),mt("close",t),i=n;break;case"iframe":case"object":case"embed":mt("load",t),i=n;break;case"video":case"audio":for(i=0;i<iu.length;i++)mt(iu[i],t);i=n;break;case"source":mt("error",t),i=n;break;case"img":case"image":case"link":mt("error",t),mt("load",t),i=n;break;case"details":mt("toggle",t),i=n;break;case"input":dE(t,n),i=s0(t,n),mt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ot({},n,{value:void 0}),mt("invalid",t);break;case"textarea":pE(t,n),i=u0(t,n),mt("invalid",t);break;default:i=n}d0(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?PO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TO(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Uu(t,l):typeof l=="number"&&Uu(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vu.hasOwnProperty(a)?l!=null&&a==="onScroll"&&mt("scroll",t):l!=null&&ex(t,a,l,o))}switch(r){case"input":Xd(t),hE(t,n,!1);break;case"textarea":Xd(t),mE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Qa(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ol(t,!!n.multiple,a,!1):n.defaultValue!=null&&ol(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wr(e),null;case 6:if(t&&e.stateNode!=null)QC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(se(166));if(r=Do(Ju.current),Do(si.current),ih(e)){if(n=e.stateNode,r=e.memoizedProps,n[ti]=e,(a=n.nodeValue!==r)&&(t=ln,t!==null))switch(t.tag){case 3:nh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nh(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ti]=e,e.stateNode=n}return wr(e),null;case 13:if(wt(Pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&on!==null&&e.mode&1&&!(e.flags&128))mC(),_l(),e.flags|=98560,a=!1;else if(a=ih(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(se(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(se(317));a[ti]=e}else _l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wr(e),a=!1}else Ln!==null&&(K0(Ln),Ln=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?Xt===0&&(Xt=3):Mx())),e.updateQueue!==null&&(e.flags|=4),wr(e),null);case 4:return El(),F0(t,e),t===null&&Gu(e.stateNode.containerInfo),wr(e),null;case 10:return bx(e.type._context),wr(e),null;case 17:return Yr(e.type)&&dp(),wr(e),null;case 19:if(wt(Pt),a=e.memoizedState,a===null)return wr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Fc(a,!1);else{if(Xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bp(t),o!==null){for(e.flags|=128,Fc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return dt(Pt,Pt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ft()>Tl&&(e.flags|=128,n=!0,Fc(a,!1),e.lanes=4194304)}else{if(!n)if(t=bp(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Fc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Et)return wr(e),null}else 2*Ft()-a.renderingStartTime>Tl&&r!==1073741824&&(e.flags|=128,n=!0,Fc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ft(),e.sibling=null,r=Pt.current,dt(Pt,n?r&1|2:r&1),e):(wr(e),null);case 22:case 23:return Dx(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?rn&1073741824&&(wr(e),e.subtreeFlags&6&&(e.flags|=8192)):wr(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function B5(t,e){switch(mx(e),e.tag){case 1:return Yr(e.type)&&dp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return El(),wt(Xr),wt(Ir),Ex(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kx(e),null;case 13:if(wt(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));_l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(Pt),null;case 4:return El(),null;case 10:return bx(e.type._context),null;case 22:case 23:return Dx(),null;case 24:return null;default:return null}}var sh=!1,Sr=!1,z5=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Js(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){jt(t,e,n)}else r.current=null}function V0(t,e,r){try{r()}catch(n){jt(t,e,n)}}var iS=!1;function W5(t,e){if(k0=lp,t=rC(),hx(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===i&&(s=o),h===a&&++u===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(E0={focusedElem:t,selectionRange:r},lp=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:Dn(e.type,y),b);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(E){jt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return g=iS,iS=!1,g}function wu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&V0(e,r,a)}i=i.next}while(i!==n)}}function Zm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function U0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function JC(t){var e=t.alternate;e!==null&&(t.alternate=null,JC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ti],delete e[Yu],delete e[A0],delete e[T5],delete e[A5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZC(t){return t.tag===5||t.tag===3||t.tag===4}function aS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function B0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=fp));else if(n!==4&&(t=t.child,t!==null))for(B0(t,e,r),t=t.sibling;t!==null;)B0(t,e,r),t=t.sibling}function z0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(z0(t,e,r),t=t.sibling;t!==null;)z0(t,e,r),t=t.sibling}var ur=null,Mn=!1;function ma(t,e,r){for(r=r.child;r!==null;)eN(t,e,r),r=r.sibling}function eN(t,e,r){if(oi&&typeof oi.onCommitFiberUnmount=="function")try{oi.onCommitFiberUnmount(qm,r)}catch{}switch(r.tag){case 5:Sr||Js(r,e);case 6:var n=ur,i=Mn;ur=null,ma(t,e,r),ur=n,Mn=i,ur!==null&&(Mn?(t=ur,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ur.removeChild(r.stateNode));break;case 18:ur!==null&&(Mn?(t=ur,r=r.stateNode,t.nodeType===8?Zy(t.parentNode,r):t.nodeType===1&&Zy(t,r),qu(t)):Zy(ur,r.stateNode));break;case 4:n=ur,i=Mn,ur=r.stateNode.containerInfo,Mn=!0,ma(t,e,r),ur=n,Mn=i;break;case 0:case 11:case 14:case 15:if(!Sr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&V0(r,e,o),i=i.next}while(i!==n)}ma(t,e,r);break;case 1:if(!Sr&&(Js(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){jt(r,e,s)}ma(t,e,r);break;case 21:ma(t,e,r);break;case 22:r.mode&1?(Sr=(n=Sr)||r.memoizedState!==null,ma(t,e,r),Sr=n):ma(t,e,r);break;default:ma(t,e,r)}}function oS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new z5),e.forEach(function(n){var i=Z5.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Rn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:ur=s.stateNode,Mn=!1;break e;case 3:ur=s.stateNode.containerInfo,Mn=!0;break e;case 4:ur=s.stateNode.containerInfo,Mn=!0;break e}s=s.return}if(ur===null)throw Error(se(160));eN(a,o,i),ur=null,Mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){jt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tN(e,t),e=e.sibling}function tN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(e,t),Yn(t),n&4){try{wu(3,t,t.return),Zm(3,t)}catch(y){jt(t,t.return,y)}try{wu(5,t,t.return)}catch(y){jt(t,t.return,y)}}break;case 1:Rn(e,t),Yn(t),n&512&&r!==null&&Js(r,r.return);break;case 5:if(Rn(e,t),Yn(t),n&512&&r!==null&&Js(r,r.return),t.flags&32){var i=t.stateNode;try{Uu(i,"")}catch(y){jt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&kO(i,a),h0(s,o);var c=h0(s,a);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?PO(i,f):u==="dangerouslySetInnerHTML"?TO(i,f):u==="children"?Uu(i,f):ex(i,u,f,c)}switch(s){case"input":l0(i,a);break;case"textarea":EO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ol(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?ol(i,!!a.multiple,a.defaultValue,!0):ol(i,!!a.multiple,a.multiple?[]:"",!1))}i[Yu]=a}catch(y){jt(t,t.return,y)}}break;case 6:if(Rn(e,t),Yn(t),n&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){jt(t,t.return,y)}}break;case 3:if(Rn(e,t),Yn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qu(e.containerInfo)}catch(y){jt(t,t.return,y)}break;case 4:Rn(e,t),Yn(t);break;case 13:Rn(e,t),Yn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Rx=Ft())),n&4&&oS(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Sr=(c=Sr)||u,Rn(e,t),Sr=c):Rn(e,t),Yn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ye=t,u=t.child;u!==null;){for(f=ye=u;ye!==null;){switch(h=ye,p=h.child,h.tag){case 0:case 11:case 14:case 15:wu(4,h,h.return);break;case 1:Js(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){jt(n,r,y)}}break;case 5:Js(h,h.return);break;case 22:if(h.memoizedState!==null){lS(f);continue}}p!==null?(p.return=h,ye=p):lS(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=AO("display",o))}catch(y){jt(t,t.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){jt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rn(e,t),Yn(t),n&4&&oS(t);break;case 21:break;default:Rn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ZC(r)){var n=r;break e}r=r.return}throw Error(se(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Uu(i,""),n.flags&=-33);var a=aS(t);z0(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=aS(t);B0(t,s,o);break;default:throw Error(se(161))}}catch(l){jt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function q5(t,e,r){ye=t,rN(t)}function rN(t,e,r){for(var n=(t.mode&1)!==0;ye!==null;){var i=ye,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||sh;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Sr;s=sh;var c=Sr;if(sh=o,(Sr=l)&&!c)for(ye=i;ye!==null;)o=ye,l=o.child,o.tag===22&&o.memoizedState!==null?cS(i):l!==null?(l.return=o,ye=l):cS(i);for(;a!==null;)ye=a,rN(a),a=a.sibling;ye=i,sh=s,Sr=c}sS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ye=a):sS(t)}}function sS(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sr||Zm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Sr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Dn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&qE(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}qE(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&qu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Sr||e.flags&512&&U0(e)}catch(h){jt(e,e.return,h)}}if(e===t){ye=null;break}if(r=e.sibling,r!==null){r.return=e.return,ye=r;break}ye=e.return}}function lS(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ye=r;break}ye=e.return}}function cS(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Zm(4,e)}catch(l){jt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){jt(e,i,l)}}var a=e.return;try{U0(e)}catch(l){jt(e,a,l)}break;case 5:var o=e.return;try{U0(e)}catch(l){jt(e,o,l)}}}catch(l){jt(e,e.return,l)}if(e===t){ye=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ye=s;break}ye=e.return}}var H5=Math.ceil,_p=ia.ReactCurrentDispatcher,Cx=ia.ReactCurrentOwner,Sn=ia.ReactCurrentBatchConfig,Ke=0,ar=null,Bt=null,hr=0,rn=0,Zs=io(0),Xt=0,rf=null,Yo=0,eg=0,Nx=0,xu=null,qr=null,Rx=0,Tl=1/0,Ai=null,kp=!1,W0=null,Ua=null,lh=!1,Na=null,Ep=0,_u=0,q0=null,Bh=-1,zh=0;function Fr(){return Ke&6?Ft():Bh!==-1?Bh:Bh=Ft()}function Ba(t){return t.mode&1?Ke&2&&hr!==0?hr&-hr:I5.transition!==null?(zh===0&&(zh=VO()),zh):(t=nt,t!==0||(t=window.event,t=t===void 0?16:KO(t.type)),t):1}function Bn(t,e,r,n){if(50<_u)throw _u=0,q0=null,Error(se(185));rd(t,r,n),(!(Ke&2)||t!==ar)&&(t===ar&&(!(Ke&2)&&(eg|=r),Xt===4&&ka(t,hr)),Qr(t,n),r===1&&Ke===0&&!(e.mode&1)&&(Tl=Ft()+500,Ym&&ao()))}function Qr(t,e){var r=t.callbackNode;I3(t,e);var n=sp(t,t===ar?hr:0);if(n===0)r!==null&&vE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&vE(r),e===1)t.tag===0?P5(uS.bind(null,t)):dC(uS.bind(null,t)),E5(function(){!(Ke&6)&&ao()}),r=null;else{switch(UO(n)){case 1:r=ax;break;case 4:r=LO;break;case 16:r=op;break;case 536870912:r=FO;break;default:r=op}r=uN(r,nN.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function nN(t,e){if(Bh=-1,zh=0,Ke&6)throw Error(se(327));var r=t.callbackNode;if(fl()&&t.callbackNode!==r)return null;var n=sp(t,t===ar?hr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Sp(t,n);else{e=n;var i=Ke;Ke|=2;var a=aN();(ar!==t||hr!==e)&&(Ai=null,Tl=Ft()+500,Uo(t,e));do try{X5();break}catch(s){iN(t,s)}while(!0);vx(),_p.current=a,Ke=i,Bt!==null?e=0:(ar=null,hr=0,e=Xt)}if(e!==0){if(e===2&&(i=v0(t),i!==0&&(n=i,e=H0(t,i))),e===1)throw r=rf,Uo(t,0),ka(t,n),Qr(t,Ft()),r;if(e===6)ka(t,n);else{if(i=t.current.alternate,!(n&30)&&!K5(i)&&(e=Sp(t,n),e===2&&(a=v0(t),a!==0&&(n=a,e=H0(t,a))),e===1))throw r=rf,Uo(t,0),ka(t,n),Qr(t,Ft()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(se(345));case 2:Ao(t,qr,Ai);break;case 3:if(ka(t,n),(n&130023424)===n&&(e=Rx+500-Ft(),10<e)){if(sp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Fr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=T0(Ao.bind(null,t,qr,Ai),e);break}Ao(t,qr,Ai);break;case 4:if(ka(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Un(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*H5(n/1960))-n,10<n){t.timeoutHandle=T0(Ao.bind(null,t,qr,Ai),n);break}Ao(t,qr,Ai);break;case 5:Ao(t,qr,Ai);break;default:throw Error(se(329))}}}return Qr(t,Ft()),t.callbackNode===r?nN.bind(null,t):null}function H0(t,e){var r=xu;return t.current.memoizedState.isDehydrated&&(Uo(t,e).flags|=256),t=Sp(t,e),t!==2&&(e=qr,qr=r,e!==null&&K0(e)),t}function K0(t){qr===null?qr=t:qr.push.apply(qr,t)}function K5(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Wn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ka(t,e){for(e&=~Nx,e&=~eg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Un(e),n=1<<r;t[r]=-1,e&=~n}}function uS(t){if(Ke&6)throw Error(se(327));fl();var e=sp(t,0);if(!(e&1))return Qr(t,Ft()),null;var r=Sp(t,e);if(t.tag!==0&&r===2){var n=v0(t);n!==0&&(e=n,r=H0(t,n))}if(r===1)throw r=rf,Uo(t,0),ka(t,e),Qr(t,Ft()),r;if(r===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ao(t,qr,Ai),Qr(t,Ft()),null}function jx(t,e){var r=Ke;Ke|=1;try{return t(e)}finally{Ke=r,Ke===0&&(Tl=Ft()+500,Ym&&ao())}}function Qo(t){Na!==null&&Na.tag===0&&!(Ke&6)&&fl();var e=Ke;Ke|=1;var r=Sn.transition,n=nt;try{if(Sn.transition=null,nt=1,t)return t()}finally{nt=n,Sn.transition=r,Ke=e,!(Ke&6)&&ao()}}function Dx(){rn=Zs.current,wt(Zs)}function Uo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,k5(r)),Bt!==null)for(r=Bt.return;r!==null;){var n=r;switch(mx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&dp();break;case 3:El(),wt(Xr),wt(Ir),Ex();break;case 5:kx(n);break;case 4:El();break;case 13:wt(Pt);break;case 19:wt(Pt);break;case 10:bx(n.type._context);break;case 22:case 23:Dx()}r=r.return}if(ar=t,Bt=t=za(t.current,null),hr=rn=e,Xt=0,rf=null,Nx=eg=Yo=0,qr=xu=null,jo!==null){for(e=0;e<jo.length;e++)if(r=jo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}jo=null}return t}function iN(t,e){do{var r=Bt;try{if(vx(),Fh.current=xp,wp){for(var n=It.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}wp=!1}if(Xo=0,nr=Gt=It=null,bu=!1,Zu=0,Cx.current=null,r===null||r.return===null){Xt=1,rf=e,Bt=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=hr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=QE(o);if(p!==null){p.flags&=-257,JE(p,o,s,a,e),p.mode&1&&YE(a,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){YE(a,c,e),Mx();break e}l=Error(se(426))}}else if(Et&&s.mode&1){var b=QE(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),JE(b,o,s,a,e),gx(Sl(l,s));break e}}a=l=Sl(l,s),Xt!==4&&(Xt=2),xu===null?xu=[a]:xu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var _=UC(a,l,e);WE(a,_);break e;case 1:s=l;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ua===null||!Ua.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=BC(a,s,e);WE(a,E);break e}}a=a.return}while(a!==null)}sN(r)}catch(T){e=T,Bt===r&&r!==null&&(Bt=r=r.return);continue}break}while(!0)}function aN(){var t=_p.current;return _p.current=xp,t===null?xp:t}function Mx(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),ar===null||!(Yo&268435455)&&!(eg&268435455)||ka(ar,hr)}function Sp(t,e){var r=Ke;Ke|=2;var n=aN();(ar!==t||hr!==e)&&(Ai=null,Uo(t,e));do try{G5();break}catch(i){iN(t,i)}while(!0);if(vx(),Ke=r,_p.current=n,Bt!==null)throw Error(se(261));return ar=null,hr=0,Xt}function G5(){for(;Bt!==null;)oN(Bt)}function X5(){for(;Bt!==null&&!w3();)oN(Bt)}function oN(t){var e=cN(t.alternate,t,rn);t.memoizedProps=t.pendingProps,e===null?sN(t):Bt=e,Cx.current=null}function sN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=B5(r,e),r!==null){r.flags&=32767,Bt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xt=6,Bt=null;return}}else if(r=U5(r,e,rn),r!==null){Bt=r;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Xt===0&&(Xt=5)}function Ao(t,e,r){var n=nt,i=Sn.transition;try{Sn.transition=null,nt=1,Y5(t,e,r,n)}finally{Sn.transition=i,nt=n}return null}function Y5(t,e,r,n){do fl();while(Na!==null);if(Ke&6)throw Error(se(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(O3(t,a),t===ar&&(Bt=ar=null,hr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lh||(lh=!0,uN(op,function(){return fl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Sn.transition,Sn.transition=null;var o=nt;nt=1;var s=Ke;Ke|=4,Cx.current=null,W5(t,r),tN(r,t),g5(E0),lp=!!k0,E0=k0=null,t.current=r,q5(r),x3(),Ke=s,nt=o,Sn.transition=a}else t.current=r;if(lh&&(lh=!1,Na=t,Ep=i),a=t.pendingLanes,a===0&&(Ua=null),E3(r.stateNode),Qr(t,Ft()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(kp)throw kp=!1,t=W0,W0=null,t;return Ep&1&&t.tag!==0&&fl(),a=t.pendingLanes,a&1?t===q0?_u++:(_u=0,q0=t):_u=0,ao(),null}function fl(){if(Na!==null){var t=UO(Ep),e=Sn.transition,r=nt;try{if(Sn.transition=null,nt=16>t?16:t,Na===null)var n=!1;else{if(t=Na,Na=null,Ep=0,Ke&6)throw Error(se(331));var i=Ke;for(Ke|=4,ye=t.current;ye!==null;){var a=ye,o=a.child;if(ye.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ye=c;ye!==null;){var u=ye;switch(u.tag){case 0:case 11:case 15:wu(8,u,a)}var f=u.child;if(f!==null)f.return=u,ye=f;else for(;ye!==null;){u=ye;var h=u.sibling,p=u.return;if(JC(u),u===c){ye=null;break}if(h!==null){h.return=p,ye=h;break}ye=p}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ye=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ye=o;else e:for(;ye!==null;){if(a=ye,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wu(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,ye=_;break e}ye=a.return}}var v=t.current;for(ye=v;ye!==null;){o=ye;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ye=w;else e:for(o=v;ye!==null;){if(s=ye,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Zm(9,s)}}catch(T){jt(s,s.return,T)}if(s===o){ye=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,ye=E;break e}ye=s.return}}if(Ke=i,ao(),oi&&typeof oi.onPostCommitFiberRoot=="function")try{oi.onPostCommitFiberRoot(qm,t)}catch{}n=!0}return n}finally{nt=r,Sn.transition=e}}return!1}function fS(t,e,r){e=Sl(r,e),e=UC(t,e,1),t=Va(t,e,1),e=Fr(),t!==null&&(rd(t,1,e),Qr(t,e))}function jt(t,e,r){if(t.tag===3)fS(t,t,r);else for(;e!==null;){if(e.tag===3){fS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ua===null||!Ua.has(n))){t=Sl(r,t),t=BC(e,t,1),e=Va(e,t,1),t=Fr(),e!==null&&(rd(e,1,t),Qr(e,t));break}}e=e.return}}function Q5(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fr(),t.pingedLanes|=t.suspendedLanes&r,ar===t&&(hr&r)===r&&(Xt===4||Xt===3&&(hr&130023424)===hr&&500>Ft()-Rx?Uo(t,0):Nx|=r),Qr(t,e)}function lN(t,e){e===0&&(t.mode&1?(e=Jd,Jd<<=1,!(Jd&130023424)&&(Jd=4194304)):e=1);var r=Fr();t=Gi(t,e),t!==null&&(rd(t,e,r),Qr(t,r))}function J5(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),lN(t,r)}function Z5(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(se(314))}n!==null&&n.delete(e),lN(t,r)}var cN;cN=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xr.current)Kr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Kr=!1,V5(t,e,r);Kr=!!(t.flags&131072)}else Kr=!1,Et&&e.flags&1048576&&hC(e,mp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Uh(t,e),t=e.pendingProps;var i=xl(e,Ir.current);ul(e,r),i=Tx(null,e,n,t,i,r);var a=Ax();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yr(n)?(a=!0,hp(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xx(e),i.updater=Jm,e.stateNode=i,i._reactInternals=e,R0(e,n,t,r),e=M0(null,e,n,!0,a,r)):(e.tag=0,Et&&a&&px(e),Rr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Uh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=t6(n),t=Dn(n,t),i){case 0:e=D0(null,e,n,t,r);break e;case 1:e=tS(null,e,n,t,r);break e;case 11:e=ZE(null,e,n,t,r);break e;case 14:e=eS(null,e,n,Dn(n.type,t),r);break e}throw Error(se(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Dn(n,i),D0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Dn(n,i),tS(t,e,n,i,r);case 3:e:{if(HC(e),t===null)throw Error(se(387));n=e.pendingProps,a=e.memoizedState,i=a.element,bC(t,e),vp(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Sl(Error(se(423)),e),e=rS(t,e,n,r,i);break e}else if(n!==i){i=Sl(Error(se(424)),e),e=rS(t,e,n,r,i);break e}else for(on=Fa(e.stateNode.containerInfo.firstChild),ln=e,Et=!0,Ln=null,r=yC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_l(),n===i){e=Xi(t,e,r);break e}Rr(t,e,n,r)}e=e.child}return e;case 5:return wC(e),t===null&&O0(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,S0(n,i)?o=null:a!==null&&S0(n,a)&&(e.flags|=32),qC(t,e),Rr(t,e,o,r),e.child;case 6:return t===null&&O0(e),null;case 13:return KC(t,e,r);case 4:return _x(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=kl(e,null,n,r):Rr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Dn(n,i),ZE(t,e,n,i,r);case 7:return Rr(t,e,e.pendingProps,r),e.child;case 8:return Rr(t,e,e.pendingProps.children,r),e.child;case 12:return Rr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,dt(gp,n._currentValue),n._currentValue=o,a!==null)if(Wn(a.value,o)){if(a.children===i.children&&!Xr.current){e=Xi(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Vi(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),C0(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(se(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),C0(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Rr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ul(e,r),i=Pn(i),n=n(i),e.flags|=1,Rr(t,e,n,r),e.child;case 14:return n=e.type,i=Dn(n,e.pendingProps),i=Dn(n.type,i),eS(t,e,n,i,r);case 15:return zC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Dn(n,i),Uh(t,e),e.tag=1,Yr(n)?(t=!0,hp(e)):t=!1,ul(e,r),VC(e,n,i),R0(e,n,i,r),M0(null,e,n,!0,t,r);case 19:return GC(t,e,r);case 22:return WC(t,e,r)}throw Error(se(156,e.tag))};function uN(t,e){return $O(t,e)}function e6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,r,n){return new e6(t,e,r,n)}function $x(t){return t=t.prototype,!(!t||!t.isReactComponent)}function t6(t){if(typeof t=="function")return $x(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rx)return 11;if(t===nx)return 14}return 2}function za(t,e){var r=t.alternate;return r===null?(r=kn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Wh(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")$x(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zs:return Bo(r.children,i,a,e);case tx:o=8,i|=8;break;case n0:return t=kn(12,r,e,i|2),t.elementType=n0,t.lanes=a,t;case i0:return t=kn(13,r,e,i),t.elementType=i0,t.lanes=a,t;case a0:return t=kn(19,r,e,i),t.elementType=a0,t.lanes=a,t;case wO:return tg(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vO:o=10;break e;case bO:o=9;break e;case rx:o=11;break e;case nx:o=14;break e;case va:o=16,n=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=kn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Bo(t,e,r,n){return t=kn(7,t,n,e),t.lanes=r,t}function tg(t,e,r,n){return t=kn(22,t,n,e),t.elementType=wO,t.lanes=r,t.stateNode={isHidden:!1},t}function sv(t,e,r){return t=kn(6,t,null,e),t.lanes=r,t}function lv(t,e,r){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function r6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=By(0),this.expirationTimes=By(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=By(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lx(t,e,r,n,i,a,o,s,l){return t=new r6(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=kn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},xx(a),t}function n6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function fN(t){if(!t)return Ja;t=t._reactInternals;e:{if(ds(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var r=t.type;if(Yr(r))return fC(t,r,e)}return e}function dN(t,e,r,n,i,a,o,s,l){return t=Lx(r,n,!0,t,i,a,o,s,l),t.context=fN(null),r=t.current,n=Fr(),i=Ba(r),a=Vi(n,i),a.callback=e??null,Va(r,a,i),t.current.lanes=i,rd(t,i,n),Qr(t,n),t}function rg(t,e,r,n){var i=e.current,a=Fr(),o=Ba(i);return r=fN(r),e.context===null?e.context=r:e.pendingContext=r,e=Vi(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Va(i,e,o),t!==null&&(Bn(t,i,o,a),Lh(t,i,o)),o}function Tp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Fx(t,e){dS(t,e),(t=t.alternate)&&dS(t,e)}function i6(){return null}var hN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vx(t){this._internalRoot=t}ng.prototype.render=Vx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));rg(t,e,null,null)};ng.prototype.unmount=Vx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qo(function(){rg(null,t,null,null)}),e[Ki]=null}};function ng(t){this._internalRoot=t}ng.prototype.unstable_scheduleHydration=function(t){if(t){var e=WO();t={blockedOn:null,target:t,priority:e};for(var r=0;r<_a.length&&e!==0&&e<_a[r].priority;r++);_a.splice(r,0,t),r===0&&HO(t)}};function Ux(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ig(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hS(){}function a6(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Tp(o);a.call(c)}}var o=dN(e,n,t,0,null,!1,!1,"",hS);return t._reactRootContainer=o,t[Ki]=o.current,Gu(t.nodeType===8?t.parentNode:t),Qo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=Tp(l);s.call(c)}}var l=Lx(t,0,!1,null,null,!1,!1,"",hS);return t._reactRootContainer=l,t[Ki]=l.current,Gu(t.nodeType===8?t.parentNode:t),Qo(function(){rg(e,l,r,n)}),l}function ag(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Tp(o);s.call(l)}}rg(e,o,t,i)}else o=a6(r,e,t,i,n);return Tp(o)}BO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=nu(e.pendingLanes);r!==0&&(ox(e,r|1),Qr(e,Ft()),!(Ke&6)&&(Tl=Ft()+500,ao()))}break;case 13:Qo(function(){var n=Gi(t,1);if(n!==null){var i=Fr();Bn(n,t,1,i)}}),Fx(t,1)}};sx=function(t){if(t.tag===13){var e=Gi(t,134217728);if(e!==null){var r=Fr();Bn(e,t,134217728,r)}Fx(t,134217728)}};zO=function(t){if(t.tag===13){var e=Ba(t),r=Gi(t,e);if(r!==null){var n=Fr();Bn(r,t,e,n)}Fx(t,e)}};WO=function(){return nt};qO=function(t,e){var r=nt;try{return nt=t,e()}finally{nt=r}};m0=function(t,e,r){switch(e){case"input":if(l0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Xm(n);if(!i)throw Error(se(90));_O(n),l0(n,i)}}}break;case"textarea":EO(t,r);break;case"select":e=r.value,e!=null&&ol(t,!!r.multiple,e,!1)}};CO=jx;NO=Qo;var o6={usingClientEntryPoint:!1,Events:[id,Ks,Xm,IO,OO,jx]},Vc={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s6={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=DO(t),t===null?null:t.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||i6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{qm=ch.inject(s6),oi=ch}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o6;fn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ux(e))throw Error(se(200));return n6(t,e,null,r)};fn.createRoot=function(t,e){if(!Ux(t))throw Error(se(299));var r=!1,n="",i=hN;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lx(t,1,!1,null,null,r,!1,n,i),t[Ki]=e.current,Gu(t.nodeType===8?t.parentNode:t),new Vx(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=DO(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return Qo(t)};fn.hydrate=function(t,e,r){if(!ig(e))throw Error(se(200));return ag(null,t,e,!0,r)};fn.hydrateRoot=function(t,e,r){if(!Ux(t))throw Error(se(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=hN;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=dN(e,null,t,1,r??null,i,!1,a,o),t[Ki]=e.current,Gu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ng(e)};fn.render=function(t,e,r){if(!ig(e))throw Error(se(200));return ag(null,t,e,!1,r)};fn.unmountComponentAtNode=function(t){if(!ig(t))throw Error(se(40));return t._reactRootContainer?(Qo(function(){ag(null,null,t,!1,function(){t._reactRootContainer=null,t[Ki]=null})}),!0):!1};fn.unstable_batchedUpdates=jx;fn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ig(r))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return ag(t,e,r,!1,n)};fn.version="18.3.1-next-f1338f8080-20240426";function pN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pN)}catch(t){console.error(t)}}pN(),pO.exports=fn;var l6=pO.exports,mN,pS=l6;mN=pS.createRoot,pS.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nf.apply(this,arguments)}var Ra;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ra||(Ra={}));const mS="popstate";function c6(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return G0("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ap(i)}return f6(e,r,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u6(){return Math.random().toString(36).substr(2,8)}function gS(t,e){return{usr:t.state,key:t.key,idx:e}}function G0(t,e,r,n){return r===void 0&&(r=null),nf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tc(e):e,{state:r,key:e&&e.key||n||u6()})}function Ap(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function tc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function f6(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Ra.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(nf({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=Ra.Pop;let b=u(),_=b==null?null:b-c;c=b,l&&l({action:s,location:y.location,delta:_})}function h(b,_){s=Ra.Push;let v=G0(y.location,b,_);c=u()+1;let w=gS(v,c),E=y.createHref(v);try{o.pushState(w,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}a&&l&&l({action:s,location:y.location,delta:1})}function p(b,_){s=Ra.Replace;let v=G0(y.location,b,_);c=u();let w=gS(v,c),E=y.createHref(v);o.replaceState(w,"",E),a&&l&&l({action:s,location:y.location,delta:0})}function g(b){let _=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:Ap(b);return v=v.replace(/ $/,"%20"),Vt(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let y={get action(){return s},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mS,f),l=b,()=>{i.removeEventListener(mS,f),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let _=g(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(b){return o.go(b)}};return y}var yS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yS||(yS={}));function d6(t,e,r){return r===void 0&&(r="/"),h6(t,e,r,!1)}function h6(t,e,r,n){let i=typeof e=="string"?tc(e):e,a=Bx(i.pathname||"/",r);if(a==null)return null;let o=yN(t);p6(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=S6(a);s=k6(o[l],c,n)}return s}function yN(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Vt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Wa([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Vt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yN(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:x6(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of vN(a.path))i(a,o,l)}),e}function vN(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=vN(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function p6(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:_6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const m6=/^:[\w-]+$/,g6=3,y6=2,v6=1,b6=10,w6=-2,vS=t=>t==="*";function x6(t,e){let r=t.split("/"),n=r.length;return r.some(vS)&&(n+=w6),e&&(n+=y6),r.filter(i=>!vS(i)).reduce((i,a)=>i+(m6.test(a)?g6:a===""?v6:b6),n)}function _6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function k6(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=bS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=bS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Wa([a,f.pathname]),pathnameBase:I6(Wa([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Wa([a,f.pathnameBase]))}return o}function bS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=E6(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=s[f]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[f];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function E6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),gN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function S6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function T6(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?tc(t):t;return{pathname:r?r.startsWith("/")?r:A6(r,e):e,search:O6(n),hash:C6(i)}}function A6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function cv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function zx(t,e){let r=P6(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Wx(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=tc(t):(i=nf({},t),Vt(!i.pathname||!i.pathname.includes("?"),cv("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),cv("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),cv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=T6(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Wa=t=>t.join("/").replace(/\/\/+/g,"/"),I6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,C6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function N6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bN=["post","put","patch","delete"];new Set(bN);const R6=["get",...bN];new Set(R6);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},af.apply(this,arguments)}const qx=D.createContext(null),j6=D.createContext(null),oo=D.createContext(null),og=D.createContext(null),so=D.createContext({outlet:null,matches:[],isDataRoute:!1}),wN=D.createContext(null);function D6(t,e){let{relative:r}=e===void 0?{}:e;rc()||Vt(!1);let{basename:n,navigator:i}=D.useContext(oo),{hash:a,pathname:o,search:s}=_N(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Wa([n,o])),i.createHref({pathname:l,search:s,hash:a})}function rc(){return D.useContext(og)!=null}function hs(){return rc()||Vt(!1),D.useContext(og).location}function xN(t){D.useContext(oo).static||D.useLayoutEffect(t)}function Hx(){let{isDataRoute:t}=D.useContext(so);return t?G6():M6()}function M6(){rc()||Vt(!1);let t=D.useContext(qx),{basename:e,future:r,navigator:n}=D.useContext(oo),{matches:i}=D.useContext(so),{pathname:a}=hs(),o=JSON.stringify(zx(i,r.v7_relativeSplatPath)),s=D.useRef(!1);return xN(()=>{s.current=!0}),D.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=Wx(c,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wa([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,o,a,t])}function _N(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=D.useContext(oo),{matches:i}=D.useContext(so),{pathname:a}=hs(),o=JSON.stringify(zx(i,n.v7_relativeSplatPath));return D.useMemo(()=>Wx(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function $6(t,e){return L6(t,e)}function L6(t,e,r,n){rc()||Vt(!1);let{navigator:i}=D.useContext(oo),{matches:a}=D.useContext(so),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=hs(),u;if(e){var f;let b=typeof e=="string"?tc(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Vt(!1),u=b}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=d6(t,{pathname:p}),y=z6(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:Wa([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Wa([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return e&&y?D.createElement(og.Provider,{value:{location:af({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ra.Pop}},y):y}function F6(){let t=K6(),e=N6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,null)}const V6=D.createElement(F6,null);class U6 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?D.createElement(so.Provider,{value:this.props.routeContext},D.createElement(wN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B6(t){let{routeContext:e,match:r,children:n}=t,i=D.useContext(qx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(so.Provider,{value:e},n)}function z6(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||Vt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,g=!1,y=null,b=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||V6,l&&(c<0&&h===0?(g=!0,b=null):c===h&&(g=!0,b=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),v=()=>{let w;return p?w=y:g?w=b:f.route.Component?w=D.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,D.createElement(B6,{match:f,routeContext:{outlet:u,matches:_,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?D.createElement(U6,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var kN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kN||{}),Pp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Pp||{});function W6(t){let e=D.useContext(qx);return e||Vt(!1),e}function q6(t){let e=D.useContext(j6);return e||Vt(!1),e}function H6(t){let e=D.useContext(so);return e||Vt(!1),e}function EN(t){let e=H6(),r=e.matches[e.matches.length-1];return r.route.id||Vt(!1),r.route.id}function K6(){var t;let e=D.useContext(wN),r=q6(Pp.UseRouteError),n=EN(Pp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function G6(){let{router:t}=W6(kN.UseNavigateStable),e=EN(Pp.UseNavigateStable),r=D.useRef(!1);return xN(()=>{r.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,af({fromRouteId:e},a)))},[t,e])}function Kx(t){let{to:e,replace:r,state:n,relative:i}=t;rc()||Vt(!1);let{future:a,static:o}=D.useContext(oo),{matches:s}=D.useContext(so),{pathname:l}=hs(),c=Hx(),u=Wx(e,zx(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return D.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function ya(t){Vt(!1)}function X6(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ra.Pop,navigator:a,static:o=!1,future:s}=t;rc()&&Vt(!1);let l=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:a,static:o,future:af({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=tc(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,y=D.useMemo(()=>{let b=Bx(u,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:g},navigationType:i}},[l,u,f,h,p,g,i]);return y==null?null:D.createElement(oo.Provider,{value:c},D.createElement(og.Provider,{children:r,value:y}))}function Y6(t){let{children:e,location:r}=t;return $6(X0(e),r)}new Promise(()=>{});function X0(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let a=[...e,i];if(n.type===D.Fragment){r.push.apply(r,X0(n.props.children,a));return}n.type!==ya&&Vt(!1),!n.props.index||!n.props.children||Vt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=X0(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y0.apply(this,arguments)}function Q6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function J6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z6(t,e){return t.button===0&&(!e||e==="_self")&&!J6(t)}const eF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tF="6";try{window.__reactRouterVersion=tF}catch{}const rF="startTransition",wS=Q4[rF];function nF(t){let{basename:e,children:r,future:n,window:i}=t,a=D.useRef();a.current==null&&(a.current=c6({window:i,v5Compat:!0}));let o=a.current,[s,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=D.useCallback(f=>{c&&wS?wS(()=>l(f)):l(f)},[l,c]);return D.useLayoutEffect(()=>o.listen(u),[o,u]),D.createElement(X6,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const iF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Os=D.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,unstable_viewTransition:f}=e,h=Q6(e,eF),{basename:p}=D.useContext(oo),g,y=!1;if(typeof c=="string"&&aF.test(c)&&(g=c,iF))try{let w=new URL(window.location.href),E=c.startsWith("//")?new URL(w.protocol+c):new URL(c),T=Bx(E.pathname,p);E.origin===w.origin&&T!=null?c=T+E.search+E.hash:y=!0}catch{}let b=D6(c,{relative:i}),_=oF(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:f});function v(w){n&&n(w),w.defaultPrevented||_(w)}return D.createElement("a",Y0({},h,{href:g||b,onClick:y||a?n:v,ref:r,target:l}))});var xS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xS||(xS={}));var _S;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_S||(_S={}));function oF(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=Hx(),c=hs(),u=_N(t,{relative:o});return D.useCallback(f=>{if(Z6(f,r)){f.preventDefault();let h=n!==void 0?n:Ap(c)===Ap(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[c,l,u,n,i,r,t,a,o,s])}var od=t=>t.type==="checkbox",el=t=>t instanceof Date,jr=t=>t==null;const SN=t=>typeof t=="object";var qt=t=>!jr(t)&&!Array.isArray(t)&&SN(t)&&!el(t),sF=t=>qt(t)&&t.target?od(t.target)?t.target.checked:t.target.value:t,lF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,cF=(t,e)=>t.has(lF(e)),uF=t=>{const e=t.constructor&&t.constructor.prototype;return qt(e)&&e.hasOwnProperty("isPrototypeOf")},Gx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yn(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Gx&&(t instanceof Blob||t instanceof FileList))&&(r||qt(t)))if(e=r?[]:{},!r&&!uF(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=yn(t[n]));else return t;return e}var sg=t=>Array.isArray(t)?t.filter(Boolean):[],$t=t=>t===void 0,we=(t,e,r)=>{if(!e||!qt(t))return r;const n=sg(e.split(/[,[\].]+?/)).reduce((i,a)=>jr(i)?i:i[a],t);return $t(n)||n===t?$t(t[e])?r:t[e]:n},Zn=t=>typeof t=="boolean",Xx=t=>/^\w*$/.test(t),TN=t=>sg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),gt=(t,e,r)=>{let n=-1;const i=Xx(e)?[e]:TN(e),a=i.length,o=a-1;for(;++n<a;){const s=i[n];let l=r;if(n!==o){const c=t[s];l=qt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(s==="__proto__")return;t[s]=l,t=t[s]}return t};const kS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ti={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};$.createContext(null);var fF=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Fn.all&&(e._proxyFormState[o]=!n||Fn.all),t[o]}});return i},Wr=t=>qt(t)&&!Object.keys(t).length,dF=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Wr(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===Fn.all)},qh=t=>Array.isArray(t)?t:[t];function hF(t){const e=$.useRef(t);e.current=t,$.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var ri=t=>typeof t=="string",pF=(t,e,r,n,i)=>ri(t)?(n&&e.watch.add(t),we(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),we(r,a))):(n&&(e.watchAll=!0),r),mF=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},ES=t=>({isOnSubmit:!t||t===Fn.onSubmit,isOnBlur:t===Fn.onBlur,isOnChange:t===Fn.onChange,isOnAll:t===Fn.all,isOnTouch:t===Fn.onTouched}),SS=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const ku=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=we(t,i);if(a){const{_f:o,...s}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(ku(s,e))break}else if(qt(s)&&ku(s,e))break}}};var gF=(t,e,r)=>{const n=qh(we(t,r));return gt(n,"root",e[r]),gt(t,r,n),t},Yx=t=>t.type==="file",Ri=t=>typeof t=="function",Ip=t=>{if(!Gx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Hh=t=>ri(t),Qx=t=>t.type==="radio",Op=t=>t instanceof RegExp;const TS={value:!1,isValid:!1},AS={value:!0,isValid:!0};var AN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$t(t[0].attributes.value)?$t(t[0].value)||t[0].value===""?AS:{value:t[0].value,isValid:!0}:AS:TS}return TS};const PS={isValid:!1,value:null};var PN=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,PS):PS;function IS(t,e,r="validate"){if(Hh(t)||Array.isArray(t)&&t.every(Hh)||Zn(t)&&!t)return{type:r,message:Hh(t)?t:"",ref:e}}var Cs=t=>qt(t)&&!Op(t)?t:{value:t,message:""},OS=async(t,e,r,n,i)=>{const{ref:a,refs:o,required:s,maxLength:l,minLength:c,min:u,max:f,pattern:h,validate:p,name:g,valueAsNumber:y,mount:b,disabled:_}=t._f,v=we(e,g);if(!b||_)return{};const w=o?o[0]:a,E=N=>{n&&w.reportValidity&&(w.setCustomValidity(Zn(N)?"":N||""),w.reportValidity())},T={},I=Qx(a),S=od(a),k=I||S,P=(y||Yx(a))&&$t(a.value)&&$t(v)||Ip(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,O=mF.bind(null,g,r,T),R=(N,C,L,z=Ti.maxLength,B=Ti.minLength)=>{const X=N?C:L;T[g]={type:N?z:B,message:X,ref:a,...O(N?z:B,X)}};if(i?!Array.isArray(v)||!v.length:s&&(!k&&(P||jr(v))||Zn(v)&&!v||S&&!AN(o).isValid||I&&!PN(o).isValid)){const{value:N,message:C}=Hh(s)?{value:!!s,message:s}:Cs(s);if(N&&(T[g]={type:Ti.required,message:C,ref:w,...O(Ti.required,C)},!r))return E(C),T}if(!P&&(!jr(u)||!jr(f))){let N,C;const L=Cs(f),z=Cs(u);if(!jr(v)&&!isNaN(v)){const B=a.valueAsNumber||v&&+v;jr(L.value)||(N=B>L.value),jr(z.value)||(C=B<z.value)}else{const B=a.valueAsDate||new Date(v),X=re=>new Date(new Date().toDateString()+" "+re),F=a.type=="time",Y=a.type=="week";ri(L.value)&&v&&(N=F?X(v)>X(L.value):Y?v>L.value:B>new Date(L.value)),ri(z.value)&&v&&(C=F?X(v)<X(z.value):Y?v<z.value:B<new Date(z.value))}if((N||C)&&(R(!!N,L.message,z.message,Ti.max,Ti.min),!r))return E(T[g].message),T}if((l||c)&&!P&&(ri(v)||i&&Array.isArray(v))){const N=Cs(l),C=Cs(c),L=!jr(N.value)&&v.length>+N.value,z=!jr(C.value)&&v.length<+C.value;if((L||z)&&(R(L,N.message,C.message),!r))return E(T[g].message),T}if(h&&!P&&ri(v)){const{value:N,message:C}=Cs(h);if(Op(N)&&!v.match(N)&&(T[g]={type:Ti.pattern,message:C,ref:a,...O(Ti.pattern,C)},!r))return E(C),T}if(p){if(Ri(p)){const N=await p(v,e),C=IS(N,w);if(C&&(T[g]={...C,...O(Ti.validate,C.message)},!r))return E(C.message),T}else if(qt(p)){let N={};for(const C in p){if(!Wr(N)&&!r)break;const L=IS(await p[C](v,e),w,C);L&&(N={...L,...O(C,L.message)},E(L.message),r&&(T[g]=N))}if(!Wr(N)&&(T[g]={ref:w,...N},!r))return T}}return E(!0),T};function yF(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=$t(t)?n++:t[e[n++]];return t}function vF(t){for(const e in t)if(t.hasOwnProperty(e)&&!$t(t[e]))return!1;return!0}function Kt(t,e){const r=Array.isArray(e)?e:Xx(e)?[e]:TN(e),n=r.length===1?t:yF(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(qt(n)&&Wr(n)||Array.isArray(n)&&vF(n))&&Kt(t,r.slice(0,-1)),t}var uv=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},Cp=t=>jr(t)||!SN(t);function Ea(t,e){if(Cp(t)||Cp(e))return t===e;if(el(t)&&el(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(el(a)&&el(o)||qt(a)&&qt(o)||Array.isArray(a)&&Array.isArray(o)?!Ea(a,o):a!==o)return!1}}return!0}var IN=t=>t.type==="select-multiple",bF=t=>Qx(t)||od(t),fv=t=>Ip(t)&&t.isConnected,ON=t=>{for(const e in t)if(Ri(t[e]))return!0;return!1};function Np(t,e={}){const r=Array.isArray(t);if(qt(t)||r)for(const n in t)Array.isArray(t[n])||qt(t[n])&&!ON(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Np(t[n],e[n])):jr(t[n])||(e[n]=!0);return e}function CN(t,e,r){const n=Array.isArray(t);if(qt(t)||n)for(const i in t)Array.isArray(t[i])||qt(t[i])&&!ON(t[i])?$t(e)||Cp(r[i])?r[i]=Array.isArray(t[i])?Np(t[i],[]):{...Np(t[i])}:CN(t[i],jr(e)?{}:e[i],r[i]):r[i]=!Ea(t[i],e[i]);return r}var uh=(t,e)=>CN(t,e,Np(e)),NN=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>$t(t)?t:e?t===""?NaN:t&&+t:r&&ri(t)?new Date(t):n?n(t):t;function dv(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Yx(e)?e.files:Qx(e)?PN(t.refs).value:IN(e)?[...e.selectedOptions].map(({value:r})=>r):od(e)?AN(t.refs).value:NN($t(e.value)?t.ref.value:e.value,t)}var wF=(t,e,r,n)=>{const i={};for(const a of t){const o=we(e,a);o&&gt(i,a,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Uc=t=>$t(t)?t:Op(t)?t.source:qt(t)?Op(t.value)?t.value.source:t.value:t;const CS="AsyncFunction";var xF=t=>(!t||!t.validate)&&!!(Ri(t.validate)&&t.validate.constructor.name===CS||qt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===CS)),_F=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function NS(t,e,r){const n=we(t,r);if(n||Xx(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=we(e,a),s=we(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:r}}var kF=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,EF=(t,e)=>!sg(we(t,e)).length&&Kt(t,e);const SF={mode:Fn.onSubmit,reValidateMode:Fn.onChange,shouldFocusError:!0};function TF(t={}){let e={...SF,...t},r={submitCount:0,isDirty:!1,isLoading:Ri(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=qt(e.defaultValues)||qt(e.values)?yn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:yn(i),o={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:uv(),array:uv(),state:uv()},h=ES(e.mode),p=ES(e.reValidateMode),g=e.criteriaMode===Fn.all,y=M=>U=>{clearTimeout(c),c=setTimeout(M,U)},b=async M=>{if(u.isValid||M){const U=e.resolver?Wr((await k()).errors):await O(n,!0);U!==r.isValid&&f.state.next({isValid:U})}},_=(M,U)=>{(u.isValidating||u.validatingFields)&&((M||Array.from(s.mount)).forEach(q=>{q&&(U?gt(r.validatingFields,q,U):Kt(r.validatingFields,q))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Wr(r.validatingFields)}))},v=(M,U=[],q,ue,ce=!0,ae=!0)=>{if(ue&&q){if(o.action=!0,ae&&Array.isArray(we(n,M))){const be=q(we(n,M),ue.argA,ue.argB);ce&&gt(n,M,be)}if(ae&&Array.isArray(we(r.errors,M))){const be=q(we(r.errors,M),ue.argA,ue.argB);ce&&gt(r.errors,M,be),EF(r.errors,M)}if(u.touchedFields&&ae&&Array.isArray(we(r.touchedFields,M))){const be=q(we(r.touchedFields,M),ue.argA,ue.argB);ce&&gt(r.touchedFields,M,be)}u.dirtyFields&&(r.dirtyFields=uh(i,a)),f.state.next({name:M,isDirty:N(M,U),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else gt(a,M,U)},w=(M,U)=>{gt(r.errors,M,U),f.state.next({errors:r.errors})},E=M=>{r.errors=M,f.state.next({errors:r.errors,isValid:!1})},T=(M,U,q,ue)=>{const ce=we(n,M);if(ce){const ae=we(a,M,$t(q)?we(i,M):q);$t(ae)||ue&&ue.defaultChecked||U?gt(a,M,U?ae:dv(ce._f)):z(M,ae),o.mount&&b()}},I=(M,U,q,ue,ce)=>{let ae=!1,be=!1;const Be={name:M},$e=!!(we(n,M)&&we(n,M)._f&&we(n,M)._f.disabled);if(!q||ue){u.isDirty&&(be=r.isDirty,r.isDirty=Be.isDirty=N(),ae=be!==Be.isDirty);const Ve=$e||Ea(we(i,M),U);be=!!(!$e&&we(r.dirtyFields,M)),Ve||$e?Kt(r.dirtyFields,M):gt(r.dirtyFields,M,!0),Be.dirtyFields=r.dirtyFields,ae=ae||u.dirtyFields&&be!==!Ve}if(q){const Ve=we(r.touchedFields,M);Ve||(gt(r.touchedFields,M,q),Be.touchedFields=r.touchedFields,ae=ae||u.touchedFields&&Ve!==q)}return ae&&ce&&f.state.next(Be),ae?Be:{}},S=(M,U,q,ue)=>{const ce=we(r.errors,M),ae=u.isValid&&Zn(U)&&r.isValid!==U;if(t.delayError&&q?(l=y(()=>w(M,q)),l(t.delayError)):(clearTimeout(c),l=null,q?gt(r.errors,M,q):Kt(r.errors,M)),(q?!Ea(ce,q):ce)||!Wr(ue)||ae){const be={...ue,...ae&&Zn(U)?{isValid:U}:{},errors:r.errors,name:M};r={...r,...be},f.state.next(be)}},k=async M=>{_(M,!0);const U=await e.resolver(a,e.context,wF(M||s.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return _(M),U},P=async M=>{const{errors:U}=await k(M);if(M)for(const q of M){const ue=we(U,q);ue?gt(r.errors,q,ue):Kt(r.errors,q)}else r.errors=U;return U},O=async(M,U,q={valid:!0})=>{for(const ue in M){const ce=M[ue];if(ce){const{_f:ae,...be}=ce;if(ae){const Be=s.array.has(ae.name),$e=ce._f&&xF(ce._f);$e&&u.validatingFields&&_([ue],!0);const Ve=await OS(ce,a,g,e.shouldUseNativeValidation&&!U,Be);if($e&&u.validatingFields&&_([ue]),Ve[ae.name]&&(q.valid=!1,U))break;!U&&(we(Ve,ae.name)?Be?gF(r.errors,Ve,ae.name):gt(r.errors,ae.name,Ve[ae.name]):Kt(r.errors,ae.name))}!Wr(be)&&await O(be,U,q)}}return q.valid},R=()=>{for(const M of s.unMount){const U=we(n,M);U&&(U._f.refs?U._f.refs.every(q=>!fv(q)):!fv(U._f.ref))&&Q(M)}s.unMount=new Set},N=(M,U)=>(M&&U&&gt(a,M,U),!Ea(de(),i)),C=(M,U,q)=>pF(M,s,{...o.mount?a:$t(U)?i:ri(M)?{[M]:U}:U},q,U),L=M=>sg(we(o.mount?a:i,M,t.shouldUnregister?we(i,M,[]):[])),z=(M,U,q={})=>{const ue=we(n,M);let ce=U;if(ue){const ae=ue._f;ae&&(!ae.disabled&&gt(a,M,NN(U,ae)),ce=Ip(ae.ref)&&jr(U)?"":U,IN(ae.ref)?[...ae.ref.options].forEach(be=>be.selected=ce.includes(be.value)):ae.refs?od(ae.ref)?ae.refs.length>1?ae.refs.forEach(be=>(!be.defaultChecked||!be.disabled)&&(be.checked=Array.isArray(ce)?!!ce.find(Be=>Be===be.value):ce===be.value)):ae.refs[0]&&(ae.refs[0].checked=!!ce):ae.refs.forEach(be=>be.checked=be.value===ce):Yx(ae.ref)?ae.ref.value="":(ae.ref.value=ce,ae.ref.type||f.values.next({name:M,values:{...a}})))}(q.shouldDirty||q.shouldTouch)&&I(M,ce,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&re(M)},B=(M,U,q)=>{for(const ue in U){const ce=U[ue],ae=`${M}.${ue}`,be=we(n,ae);(s.array.has(M)||!Cp(ce)||be&&!be._f)&&!el(ce)?B(ae,ce,q):z(ae,ce,q)}},X=(M,U,q={})=>{const ue=we(n,M),ce=s.array.has(M),ae=yn(U);gt(a,M,ae),ce?(f.array.next({name:M,values:{...a}}),(u.isDirty||u.dirtyFields)&&q.shouldDirty&&f.state.next({name:M,dirtyFields:uh(i,a),isDirty:N(M,ae)})):ue&&!ue._f&&!jr(ae)?B(M,ae,q):z(M,ae,q),SS(M,s)&&f.state.next({...r}),f.values.next({name:o.mount?M:void 0,values:{...a}})},F=async M=>{o.mount=!0;const U=M.target;let q=U.name,ue=!0;const ce=we(n,q),ae=()=>U.type?dv(ce._f):sF(M),be=Be=>{ue=Number.isNaN(Be)||Ea(Be,we(a,q,Be))};if(ce){let Be,$e;const Ve=ae(),zr=M.type===kS.BLUR||M.type===kS.FOCUS_OUT,la=!_F(ce._f)&&!e.resolver&&!we(r.errors,q)&&!ce._f.deps||kF(zr,we(r.touchedFields,q),r.isSubmitted,p,h),ca=SS(q,s,zr);gt(a,q,Ve),zr?(ce._f.onBlur&&ce._f.onBlur(M),l&&l(0)):ce._f.onChange&&ce._f.onChange(M);const vo=I(q,Ve,zr,!1),_i=!Wr(vo)||ca;if(!zr&&f.values.next({name:q,type:M.type,values:{...a}}),la)return u.isValid&&(t.mode==="onBlur"?zr&&b():b()),_i&&f.state.next({name:q,...ca?{}:vo});if(!zr&&ca&&f.state.next({...r}),e.resolver){const{errors:bo}=await k([q]);if(be(Ve),ue){const Es=NS(r.errors,n,q),ua=NS(bo,n,Es.name||q);Be=ua.error,q=ua.name,$e=Wr(bo)}}else _([q],!0),Be=(await OS(ce,a,g,e.shouldUseNativeValidation))[q],_([q]),be(Ve),ue&&(Be?$e=!1:u.isValid&&($e=await O(n,!0)));ue&&(ce._f.deps&&re(ce._f.deps),S(q,$e,Be,vo))}},Y=(M,U)=>{if(we(r.errors,U)&&M.focus)return M.focus(),1},re=async(M,U={})=>{let q,ue;const ce=qh(M);if(e.resolver){const ae=await P($t(M)?M:ce);q=Wr(ae),ue=M?!ce.some(be=>we(ae,be)):q}else M?(ue=(await Promise.all(ce.map(async ae=>{const be=we(n,ae);return await O(be&&be._f?{[ae]:be}:be)}))).every(Boolean),!(!ue&&!r.isValid)&&b()):ue=q=await O(n);return f.state.next({...!ri(M)||u.isValid&&q!==r.isValid?{}:{name:M},...e.resolver||!M?{isValid:q}:{},errors:r.errors}),U.shouldFocus&&!ue&&ku(n,Y,M?ce:s.mount),ue},de=M=>{const U={...o.mount?a:i};return $t(M)?U:ri(M)?we(U,M):M.map(q=>we(U,q))},te=(M,U)=>({invalid:!!we((U||r).errors,M),isDirty:!!we((U||r).dirtyFields,M),error:we((U||r).errors,M),isValidating:!!we(r.validatingFields,M),isTouched:!!we((U||r).touchedFields,M)}),he=M=>{M&&qh(M).forEach(U=>Kt(r.errors,U)),f.state.next({errors:M?r.errors:{}})},Ee=(M,U,q)=>{const ue=(we(n,M,{_f:{}})._f||{}).ref,ce=we(r.errors,M)||{},{ref:ae,message:be,type:Be,...$e}=ce;gt(r.errors,M,{...$e,...U,ref:ue}),f.state.next({name:M,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&ue&&ue.focus&&ue.focus()},je=(M,U)=>Ri(M)?f.values.subscribe({next:q=>M(C(void 0,U),q)}):C(M,U,!0),Q=(M,U={})=>{for(const q of M?qh(M):s.mount)s.mount.delete(q),s.array.delete(q),U.keepValue||(Kt(n,q),Kt(a,q)),!U.keepError&&Kt(r.errors,q),!U.keepDirty&&Kt(r.dirtyFields,q),!U.keepTouched&&Kt(r.touchedFields,q),!U.keepIsValidating&&Kt(r.validatingFields,q),!e.shouldUnregister&&!U.keepDefaultValue&&Kt(i,q);f.values.next({values:{...a}}),f.state.next({...r,...U.keepDirty?{isDirty:N()}:{}}),!U.keepIsValid&&b()},ne=({disabled:M,name:U,field:q,fields:ue,value:ce})=>{if(Zn(M)&&o.mount||M){const ae=M?void 0:$t(ce)?dv(q?q._f:we(ue,U)._f):ce;gt(a,U,ae),I(U,ae,!1,!1,!0)}},J=(M,U={})=>{let q=we(n,M);const ue=Zn(U.disabled)||Zn(t.disabled);return gt(n,M,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:M}},name:M,mount:!0,...U}}),s.mount.add(M),q?ne({field:q,disabled:Zn(U.disabled)?U.disabled:t.disabled,name:M,value:U.value}):T(M,!0,U.value),{...ue?{disabled:U.disabled||t.disabled}:{},...e.progressive?{required:!!U.required,min:Uc(U.min),max:Uc(U.max),minLength:Uc(U.minLength),maxLength:Uc(U.maxLength),pattern:Uc(U.pattern)}:{},name:M,onChange:F,onBlur:F,ref:ce=>{if(ce){J(M,U),q=we(n,M);const ae=$t(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,be=bF(ae),Be=q._f.refs||[];if(be?Be.find($e=>$e===ae):ae===q._f.ref)return;gt(n,M,{_f:{...q._f,...be?{refs:[...Be.filter(fv),ae,...Array.isArray(we(i,M))?[{}]:[]],ref:{type:ae.type,name:M}}:{ref:ae}}}),T(M,!1,void 0,ae)}else q=we(n,M,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(cF(s.array,M)&&o.action)&&s.unMount.add(M)}}},H=()=>e.shouldFocusError&&ku(n,Y,s.mount),oe=M=>{Zn(M)&&(f.state.next({disabled:M}),ku(n,(U,q)=>{const ue=we(n,q);ue&&(U.disabled=ue._f.disabled||M,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(ce=>{ce.disabled=ue._f.disabled||M}))},0,!1))},le=(M,U)=>async q=>{let ue;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let ce=yn(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:be}=await k();r.errors=ae,ce=be}else await O(n);if(Kt(r.errors,"root"),Wr(r.errors)){f.state.next({errors:{}});try{await M(ce,q)}catch(ae){ue=ae}}else U&&await U({...r.errors},q),H(),setTimeout(H);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wr(r.errors)&&!ue,submitCount:r.submitCount+1,errors:r.errors}),ue)throw ue},K=(M,U={})=>{we(n,M)&&($t(U.defaultValue)?X(M,yn(we(i,M))):(X(M,U.defaultValue),gt(i,M,yn(U.defaultValue))),U.keepTouched||Kt(r.touchedFields,M),U.keepDirty||(Kt(r.dirtyFields,M),r.isDirty=U.defaultValue?N(M,yn(we(i,M))):N()),U.keepError||(Kt(r.errors,M),u.isValid&&b()),f.state.next({...r}))},Se=(M,U={})=>{const q=M?yn(M):i,ue=yn(q),ce=Wr(M),ae=ce?i:ue;if(U.keepDefaultValues||(i=q),!U.keepValues){if(U.keepDirtyValues)for(const be of s.mount)we(r.dirtyFields,be)?gt(ae,be,we(a,be)):X(be,we(ae,be));else{if(Gx&&$t(M))for(const be of s.mount){const Be=we(n,be);if(Be&&Be._f){const $e=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(Ip($e)){const Ve=$e.closest("form");if(Ve){Ve.reset();break}}}}n={}}a=t.shouldUnregister?U.keepDefaultValues?yn(i):{}:yn(ae),f.array.next({values:{...ae}}),f.values.next({values:{...ae}})}s={mount:U.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:U.keepSubmitCount?r.submitCount:0,isDirty:ce?!1:U.keepDirty?r.isDirty:!!(U.keepDefaultValues&&!Ea(M,i)),isSubmitted:U.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ce?{}:U.keepDirtyValues?U.keepDefaultValues&&a?uh(i,a):r.dirtyFields:U.keepDefaultValues&&M?uh(i,M):U.keepDirty?r.dirtyFields:{},touchedFields:U.keepTouched?r.touchedFields:{},errors:U.keepErrors?r.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xe=(M,U)=>Se(Ri(M)?M(a):M,U);return{control:{register:J,unregister:Q,getFieldState:te,handleSubmit:le,setError:Ee,_executeSchema:k,_getWatch:C,_getDirty:N,_updateValid:b,_removeUnmounted:R,_updateFieldArray:v,_updateDisabledField:ne,_getFieldArray:L,_reset:Se,_resetDefaultValues:()=>Ri(e.defaultValues)&&e.defaultValues().then(M=>{xe(M,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:M=>{r={...r,...M}},_disableForm:oe,_subjects:f,_proxyFormState:u,_setErrors:E,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(M){o=M},get _defaultValues(){return i},get _names(){return s},set _names(M){s=M},get _formState(){return r},set _formState(M){r=M},get _options(){return e},set _options(M){e={...e,...M}}},trigger:re,register:J,handleSubmit:le,watch:je,setValue:X,getValues:de,reset:xe,resetField:K,clearErrors:he,unregister:Q,setError:Ee,setFocus:(M,U={})=>{const q=we(n,M),ue=q&&q._f;if(ue){const ce=ue.refs?ue.refs[0]:ue.ref;ce.focus&&(ce.focus(),U.shouldSelect&&ce.select())}},getFieldState:te}}function AF(t={}){const e=$.useRef(),r=$.useRef(),[n,i]=$.useState({isDirty:!1,isValidating:!1,isLoading:Ri(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ri(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...TF(t),formState:n});const a=e.current.control;return a._options=t,hF({subject:a._subjects.state,next:o=>{dF(o,a._proxyFormState,a._updateFormState)&&i({...a._formState})}}),$.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),$.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),$.useEffect(()=>{t.values&&!Ea(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),$.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),$.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),$.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=fF(n,a),e.current}var RS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},PF=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},jN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||f==null)throw new IF;const h=a<<2|s>>4;if(n.push(h),c!==64){const p=s<<4&240|c>>2;if(n.push(p),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OF=function(t){const e=RN(t);return jN.encodeByteArray(e,!0)},Rp=function(t){return OF(t).replace(/\./g,"")},DN=function(t){try{return jN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=()=>CF().__FIREBASE_DEFAULTS__,RF=()=>{if(typeof process>"u"||typeof RS>"u")return;const t=RS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DN(t[1]);return e&&JSON.parse(e)},lg=()=>{try{return NF()||RF()||jF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MN=t=>{var e,r;return(r=(e=lg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},$N=t=>{const e=MN(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},LN=()=>{var t;return(t=lg())===null||t===void 0?void 0:t.config},FN=t=>{var e;return(e=lg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rp(JSON.stringify(r)),Rp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function $F(){var t;const e=(t=lg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VF(){const t=Or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UF(){return!$F()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BF(){try{return typeof indexedDB=="object"}catch{return!1}}function zF(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="FirebaseError";class yi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=WF,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sd.prototype.create)}}class sd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?qF(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new yi(i,s,n)}}function qF(t,e){return t.replace(HF,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const HF=/\{\$([^}]+)}/g;function KF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(jS(a)&&jS(o)){if(!jp(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function jS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ou(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function GF(t,e){const r=new XF(t,e);return r.subscribe.bind(r)}class XF{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");YF(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=hv),i.error===void 0&&(i.error=hv),i.complete===void 0&&(i.complete=hv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YF(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function hv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Za{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new DF;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZF(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:JF(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JF(t){return t===Po?void 0:t}function ZF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new QF(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const tV={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},rV=ze.INFO,nV={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},iV=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=nV[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jx{constructor(e){this.name=e,this._logLevel=rV,this._logHandler=iV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const aV=(t,e)=>e.some(r=>t instanceof r);let DS,MS;function oV(){return DS||(DS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sV(){return MS||(MS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UN=new WeakMap,Q0=new WeakMap,BN=new WeakMap,pv=new WeakMap,Zx=new WeakMap;function lV(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(qa(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&UN.set(r,t)}).catch(()=>{}),Zx.set(e,t),e}function cV(t){if(Q0.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Q0.set(t,e)}let J0={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Q0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BN.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return qa(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uV(t){J0=t(J0)}function fV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(mv(this),e,...r);return BN.set(n,e.sort?e.sort():[e]),qa(n)}:sV().includes(t)?function(...e){return t.apply(mv(this),e),qa(UN.get(this))}:function(...e){return qa(t.apply(mv(this),e))}}function dV(t){return typeof t=="function"?fV(t):(t instanceof IDBTransaction&&cV(t),aV(t,oV())?new Proxy(t,J0):t)}function qa(t){if(t instanceof IDBRequest)return lV(t);if(pv.has(t))return pv.get(t);const e=dV(t);return e!==t&&(pv.set(t,e),Zx.set(e,t)),e}const mv=t=>Zx.get(t);function hV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=qa(o);return n&&o.addEventListener("upgradeneeded",l=>{n(qa(o.result),l.oldVersion,l.newVersion,qa(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const pV=["get","getKey","getAll","getAllKeys","count"],mV=["put","add","delete","clear"],gv=new Map;function $S(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gv.get(e))return gv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=mV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||pV.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return gv.set(e,a),a}uV(t=>({...t,get:(e,r,n)=>$S(e,r)||t.get(e,r,n),has:(e,r)=>!!$S(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(yV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function yV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Z0="@firebase/app",LS="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new Jx("@firebase/app"),vV="@firebase/app-compat",bV="@firebase/analytics-compat",wV="@firebase/analytics",xV="@firebase/app-check-compat",_V="@firebase/app-check",kV="@firebase/auth",EV="@firebase/auth-compat",SV="@firebase/database",TV="@firebase/database-compat",AV="@firebase/functions",PV="@firebase/functions-compat",IV="@firebase/installations",OV="@firebase/installations-compat",CV="@firebase/messaging",NV="@firebase/messaging-compat",RV="@firebase/performance",jV="@firebase/performance-compat",DV="@firebase/remote-config",MV="@firebase/remote-config-compat",$V="@firebase/storage",LV="@firebase/storage-compat",FV="@firebase/firestore",VV="@firebase/vertexai-preview",UV="@firebase/firestore-compat",BV="firebase",zV="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="[DEFAULT]",WV={[Z0]:"fire-core",[vV]:"fire-core-compat",[wV]:"fire-analytics",[bV]:"fire-analytics-compat",[_V]:"fire-app-check",[xV]:"fire-app-check-compat",[kV]:"fire-auth",[EV]:"fire-auth-compat",[SV]:"fire-rtdb",[TV]:"fire-rtdb-compat",[AV]:"fire-fn",[PV]:"fire-fn-compat",[IV]:"fire-iid",[OV]:"fire-iid-compat",[CV]:"fire-fcm",[NV]:"fire-fcm-compat",[RV]:"fire-perf",[jV]:"fire-perf-compat",[DV]:"fire-rc",[MV]:"fire-rc-compat",[$V]:"fire-gcs",[LV]:"fire-gcs-compat",[FV]:"fire-fst",[UV]:"fire-fst-compat",[VV]:"fire-vertex","fire-js":"fire-js",[BV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new Map,qV=new Map,tb=new Map;function FS(t,e){try{t.container.addComponent(e)}catch(r){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Jo(t){const e=t.name;if(tb.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;tb.set(e,t);for(const r of Dp.values())FS(r,t);for(const r of qV.values())FS(r,t);return!0}function cg(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ni(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new sd("app","Firebase",HV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=zV;function zN(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:eb,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ha.create("bad-app-name",{appName:String(i)});if(r||(r=LN()),!r)throw Ha.create("no-options");const a=Dp.get(i);if(a){if(jp(r,a.options)&&jp(n,a.config))return a;throw Ha.create("duplicate-app",{appName:i})}const o=new eV(i);for(const l of tb.values())o.addComponent(l);const s=new KV(r,n,o);return Dp.set(i,s),s}function e_(t=eb){const e=Dp.get(t);if(!e&&t===eb&&LN())return zN();if(!e)throw Ha.create("no-app",{appName:t});return e}function li(t,e,r){var n;let i=(n=WV[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(s.join(" "));return}Jo(new Za(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="firebase-heartbeat-database",XV=1,of="firebase-heartbeat-store";let yv=null;function WN(){return yv||(yv=hV(GV,XV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(of)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ha.create("idb-open",{originalErrorMessage:t.message})})),yv}async function YV(t){try{const r=(await WN()).transaction(of),n=await r.objectStore(of).get(qN(t));return await r.done,n}catch(e){if(e instanceof yi)Yi.warn(e.message);else{const r=Ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yi.warn(r.message)}}}async function VS(t,e){try{const n=(await WN()).transaction(of,"readwrite");await n.objectStore(of).put(e,qN(t)),await n.done}catch(r){if(r instanceof yi)Yi.warn(r.message);else{const n=Ha.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Yi.warn(n.message)}}}function qN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=1024,JV=30*24*60*60*1e3;class ZV{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new tU(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=US();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=JV}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Yi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=US(),{heartbeatsToSend:n,unsentEntries:i}=eU(this._heartbeatsCache.heartbeats),a=Rp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Yi.warn(r),""}}}function US(){return new Date().toISOString().substring(0,10)}function eU(t,e=QV){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),BS(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),BS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class tU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BF()?zF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await YV(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return VS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return VS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function BS(t){return Rp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){Jo(new Za("platform-logger",e=>new gV(e),"PRIVATE")),Jo(new Za("heartbeat",e=>new ZV(e),"PRIVATE")),li(Z0,LS,t),li(Z0,LS,"esm2017"),li("fire-js","")}rU("");function t_(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function HN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nU=HN,KN=new sd("auth","Firebase",HN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=new Jx("@firebase/auth");function iU(t,...e){Mp.logLevel<=ze.WARN&&Mp.warn(`Auth (${ps}): ${t}`,...e)}function Kh(t,...e){Mp.logLevel<=ze.ERROR&&Mp.error(`Auth (${ps}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw r_(t,...e)}function ci(t,...e){return r_(t,...e)}function GN(t,e,r){const n=Object.assign(Object.assign({},nU()),{[e]:r});return new sd("auth","Firebase",n).create(e,{appName:t.name})}function Ui(t){return GN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return KN.create(t,...e)}function Ae(t,e,...r){if(!t)throw r_(e,...r)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kh(e),new Error(e)}function Qi(t,e){t||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aU(){return zS()==="http:"||zS()==="https:"}function zS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aU()||LF()||"connection"in navigator)?navigator.onLine:!0}function sU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,r){this.shortDelay=e,this.longDelay=r,Qi(r>e,"Short delay should be less than long delay!"),this.isMobile=MF()||FF()}get(){return oU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t,e){Qi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=new cd(3e4,6e4);function lo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function co(t,e,r,n,i={}){return YN(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=ld(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),XN.fetch()(QN(t,t.config.apiHost,r,s),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},a))})}async function YN(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},lU),e);try{const i=new fU(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw fh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fh(t,"user-disabled",o);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw GN(t,u,c);qn(t,u)}}catch(i){if(i instanceof yi)throw i;qn(t,"network-request-failed",{message:String(i)})}}async function ud(t,e,r,n,i={}){const a=await co(t,e,r,n,i);return"mfaPendingCredential"in a&&qn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function QN(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?n_(t.config,i):`${t.config.apiScheme}://${i}`}function uU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ci(this.auth,"network-request-failed")),cU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ci(t,e,n);return i.customData._tokenResponse=r,i}function WS(t){return t!==void 0&&t.enterprise!==void 0}class dU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return uU(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hU(t,e){return co(t,"GET","/v2/recaptchaConfig",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e){return co(t,"POST","/v1/accounts:delete",e)}async function JN(t,e){return co(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mU(t,e=!1){const r=Ct(t),n=await r.getIdToken(e),i=i_(n);Ae(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Eu(vv(i.auth_time)),issuedAtTime:Eu(vv(i.iat)),expirationTime:Eu(vv(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vv(t){return Number(t)*1e3}function i_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{const i=DN(r);return i?JSON.parse(i):(Kh("Failed to decode base64 JWT payload"),null)}catch(i){return Kh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qS(t){const e=i_(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof yi&&gU(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function gU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(t){var e;const r=t.auth,n=await t.getIdToken(),i=await sf(t,JN(r,{idToken:n}));Ae(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?ZN(a.providerUserInfo):[],s=bU(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),u=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new nb(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function vU(t){const e=Ct(t);await $p(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bU(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function ZN(t){return t.map(e=>{var{providerId:r}=e,n=t_(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(t,e){const r=await YN(t,{},async()=>{const n=ld({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=QN(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",XN.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function xU(t,e){return co(t,"POST","/v2/accounts:revokeToken",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const r=qS(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await wU(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new dl;return n&&(Ae(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ae(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Di{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=t_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new nb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await sf(this,this.stsTokenManager.getToken(this.auth,e));return Ae(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return mU(this,e)}reload(){return vU(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await $p(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await sf(this,pU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,c,u;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,g=(o=r.photoURL)!==null&&o!==void 0?o:void 0,y=(s=r.tenantId)!==null&&s!==void 0?s:void 0,b=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=r.createdAt)!==null&&c!==void 0?c:void 0,v=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:E,isAnonymous:T,providerData:I,stsTokenManager:S}=r;Ae(w&&S,e,"internal-error");const k=dl.fromJSON(this.name,S);Ae(typeof w=="string",e,"internal-error"),ga(f,e.name),ga(h,e.name),Ae(typeof E=="boolean",e,"internal-error"),Ae(typeof T=="boolean",e,"internal-error"),ga(p,e.name),ga(g,e.name),ga(y,e.name),ga(b,e.name),ga(_,e.name),ga(v,e.name);const P=new Di({uid:w,auth:e,email:h,emailVerified:E,displayName:f,isAnonymous:T,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:k,createdAt:_,lastLoginAt:v});return I&&Array.isArray(I)&&(P.providerData=I.map(O=>Object.assign({},O))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,r,n=!1){const i=new dl;i.updateFromServerResponse(r);const a=new Di({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await $p(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ae(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?ZN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new dl;s.updateFromIdToken(n);const l=new Di({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new nb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new Map;function Mi(t){Qi(t instanceof Function,"Expected a class definition");let e=HS.get(t);return e?(Qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}eR.type="NONE";const KS=eR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t,e,r){return`firebase:${t}:${e}:${r}`}class hl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Gh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Gh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new hl(Mi(KS),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Mi(KS);const o=Gh(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const u=await c._get(o);if(u){const f=Di._fromJSON(e,u);c!==a&&(s=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new hl(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new hl(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oR(e))return"Blackberry";if(sR(e))return"Webos";if(rR(e))return"Safari";if((e.includes("chrome/")||nR(e))&&!e.includes("edge/"))return"Chrome";if(aR(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function tR(t=Or()){return/firefox\//i.test(t)}function rR(t=Or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nR(t=Or()){return/crios\//i.test(t)}function iR(t=Or()){return/iemobile/i.test(t)}function aR(t=Or()){return/android/i.test(t)}function oR(t=Or()){return/blackberry/i.test(t)}function sR(t=Or()){return/webos/i.test(t)}function a_(t=Or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _U(t=Or()){var e;return a_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kU(){return VF()&&document.documentMode===10}function lR(t=Or()){return a_(t)||aR(t)||sR(t)||oR(t)||/windows phone/i.test(t)||iR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e=[]){let r;switch(t){case"Browser":r=GS(Or());break;case"Worker":r=`${GS(Or())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${ps}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(t,e={}){return co(t,"GET","/v2/passwordPolicy",lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=6;class AU{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:TU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XS(this),this.idTokenSubscription=new XS(this),this.beforeStateQueue=new EU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Mi(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await JN(this,{idToken:e}),n=await Di._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ni(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await $p(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(Ui(this));const r=e?Ct(e):null;return r&&Ae(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SU(this),r=new AU(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await xU(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Mi(e)||this._popupRedirectResolver;Ae(r,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[Mi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&iU(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function ms(t){return Ct(t)}class XS{constructor(e){this.auth=e,this.observer=null,this.addObserver=GF(r=>this.observer=r)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IU(t){ug=t}function uR(t){return ug.loadJS(t)}function OU(){return ug.recaptchaEnterpriseScript}function CU(){return ug.gapiScript}function NU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const RU="recaptcha-enterprise",jU="NO_RECAPTCHA";class DU{constructor(e){this.type=RU,this.auth=ms(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{hU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new dU(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;WS(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(jU)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&WS(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=OU();l.length!==0&&(l+=s),uR(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function YS(t,e,r,n=!1){const i=new DU(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ib(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await YS(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await YS(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t,e){const r=cg(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(jp(a,e??{}))return i;qn(i,"already-initialized")}return r.initialize({options:e})}function $U(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function LU(t,e,r){const n=ms(t);Ae(n._canInitEmulator,n,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=fR(e),{host:o,port:s}=FU(e),l=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),VU()}function fR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FU(t){const e=fR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:QS(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:QS(o)}}}function QS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VU(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,r){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function UU(t,e){return co(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(t,e){return ud(t,"POST","/v1/accounts:signInWithPassword",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(t,e){return ud(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}async function WU(t,e){return ud(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends o_{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new lf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new lf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ib(e,r,"signInWithPassword",BU);case"emailLink":return zU(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ib(e,n,"signUpPassword",UU);case"emailLink":return WU(e,{idToken:r,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e){return ud(t,"POST","/v1/accounts:signInWithIdp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU="http://localhost";class Zo extends o_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):qn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=t_(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Zo(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return pl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,pl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,pl(e,r)}buildRequest(){const e={requestUri:qU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=ld(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KU(t){const e=au(ou(t)).link,r=e?au(ou(e)).deep_link_id:null,n=au(ou(t)).deep_link_id;return(n?au(ou(n)).link:null)||n||r||e||t}class s_{constructor(e){var r,n,i,a,o,s;const l=au(ou(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,u=(n=l.oobCode)!==null&&n!==void 0?n:null,f=HU((i=l.mode)!==null&&i!==void 0?i:null);Ae(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=KU(e);try{return new s_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.providerId=nc.PROVIDER_ID}static credential(e,r){return lf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=s_.parseLink(r);return Ae(n,"argument-error"),lf._fromEmailAndCode(e,n.code,n.tenantId)}}nc.PROVIDER_ID="password";nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends dR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends fd{constructor(){super("facebook.com")}static credential(e){return Zo._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends fd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Zo._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ta.credential(r,n)}catch{return null}}}Ta.GOOGLE_SIGN_IN_METHOD="google.com";Ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends fd{constructor(){super("github.com")}static credential(e){return Zo._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.GITHUB_SIGN_IN_METHOD="github.com";Aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends fd{constructor(){super("twitter.com")}static credential(e,r){return Zo._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Pa.credential(r,n)}catch{return null}}}Pa.TWITTER_SIGN_IN_METHOD="twitter.com";Pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(t,e){return ud(t,"POST","/v1/accounts:signUp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Di._fromIdTokenResponse(e,n,i),o=JS(n);return new es({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=JS(n);return new es({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function JS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends yi{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Lp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Lp(e,r,n,i)}}function hR(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Lp._fromErrorAndOperation(t,a,e,n):a})}async function XU(t,e,r=!1){const n=await sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return es._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YU(t,e,r=!1){const{auth:n}=t;if(ni(n.app))return Promise.reject(Ui(n));const i="reauthenticate";try{const a=await sf(t,hR(n,i,e,t),r);Ae(a.idToken,n,"internal-error");const o=i_(a.idToken);Ae(o,n,"internal-error");const{sub:s}=o;return Ae(t.uid===s,n,"user-mismatch"),es._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&qn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e,r=!1){if(ni(t.app))return Promise.reject(Ui(t));const n="signIn",i=await hR(t,n,e),a=await es._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function QU(t,e){return pR(ms(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(t){const e=ms(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JU(t,e,r){if(ni(t.app))return Promise.reject(Ui(t));const n=ms(t),o=await ib(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&mR(t),l}),s=await es._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function ZS(t,e,r){return ni(t.app)?Promise.reject(Ui(t)):QU(Ct(t),nc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&mR(t),n})}function ZU(t,e,r,n){return Ct(t).onIdTokenChanged(e,r,n)}function eB(t,e,r){return Ct(t).beforeAuthStateChanged(e,r)}function tB(t,e,r,n){return Ct(t).onAuthStateChanged(e,r,n)}function rB(t){return Ct(t).signOut()}const Fp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Fp,"1"),this.storage.removeItem(Fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=1e3,iB=10;class yR extends gR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);kU()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iB):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},nB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}yR.type="LOCAL";const aB=yR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends gR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}vR.type="SESSION";const bR=vR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new fg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async c=>c(r.origin,a)),l=await oB(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=l_("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function lB(t){ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function cB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fB(){return wR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firebaseLocalStorageDb",dB=1,Vp="firebaseLocalStorage",_R="fbase_key";class dd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function dg(t,e){return t.transaction([Vp],e?"readwrite":"readonly").objectStore(Vp)}function hB(){const t=indexedDB.deleteDatabase(xR);return new dd(t).toPromise()}function ab(){const t=indexedDB.open(xR,dB);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Vp,{keyPath:_R})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Vp)?e(n):(n.close(),await hB(),e(await ab()))})})}async function eT(t,e,r){const n=dg(t,!0).put({[_R]:e,value:r});return new dd(n).toPromise()}async function pB(t,e){const r=dg(t,!1).get(e),n=await new dd(r).toPromise();return n===void 0?null:n.value}function tT(t,e){const r=dg(t,!0).delete(e);return new dd(r).toPromise()}const mB=800,gB=3;class kR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ab(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>gB)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fg._getInstance(fB()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await cB(),!this.activeServiceWorker)return;this.sender=new sB(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ab();return await eT(e,Fp,"1"),await tT(e,Fp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>eT(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>pB(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>tT(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=dg(i,!1).getAll();return new dd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kR.type="LOCAL";const yB=kR;new cd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t,e){return e?Mi(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends o_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return pl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function bB(t){return pR(t.auth,new c_(t),t.bypassAuthState)}function wB(t){const{auth:e,user:r}=t;return Ae(r,e,"internal-error"),YU(r,new c_(t),t.bypassAuthState)}async function xB(t){const{auth:e,user:r}=t;return Ae(r,e,"internal-error"),XU(r,new c_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bB;case"linkViaPopup":case"linkViaRedirect":return xB;case"reauthViaPopup":case"reauthViaRedirect":return wB;default:qn(this.auth,"internal-error")}}resolve(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=new cd(2e3,1e4);class tl extends ER{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const e=l_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_B.get())};e()}}tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB="pendingRedirect",Xh=new Map;class EB extends ER{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Xh.get(this.auth._key());if(!e){try{const n=await SB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Xh.set(this.auth._key(),e)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SB(t,e){const r=PB(e),n=AB(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function TB(t,e){Xh.set(t._key(),e)}function AB(t){return Mi(t._redirectPersistence)}function PB(t){return Gh(kB,t.config.apiKey,t.name)}async function IB(t,e,r=!1){if(ni(t.app))return Promise.reject(Ui(t));const n=ms(t),i=vB(n,e),o=await new EB(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=10*60*1e3;class CB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NB(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!SR(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ci(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OB&&this.cachedEventUids.clear(),this.cachedEventUids.has(rT(e))}saveEventToCache(e){this.cachedEventUids.add(rT(e)),this.lastProcessedEventTime=Date.now()}}function rT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RB(t,e={}){return co(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DB=/^https?/;async function MB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RB(t);for(const r of e)try{if($B(r))return}catch{}qn(t,"unauthorized-domain")}function $B(t){const e=rb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!DB.test(r))return!1;if(jB.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB=new cd(3e4,6e4);function nT(){const t=ui().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function FB(t){return new Promise((e,r)=>{var n,i,a;function o(){nT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nT(),r(ci(t,"network-request-failed"))},timeout:LB.get()})}if(!((i=(n=ui().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ui().gapi)===null||a===void 0)&&a.load)o();else{const s=NU("iframefcb");return ui()[s]=()=>{gapi.load?o():r(ci(t,"network-request-failed"))},uR(`${CU()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw Yh=null,e})}let Yh=null;function VB(t){return Yh=Yh||FB(t),Yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=new cd(5e3,15e3),BB="__/auth/iframe",zB="emulator/auth/iframe",WB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HB(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?n_(e,zB):`https://${t.config.authDomain}/${BB}`,n={apiKey:e.apiKey,appName:t.name,v:ps},i=qB.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${ld(n).slice(1)}`}async function KB(t){const e=await VB(t),r=ui().gapi;return Ae(r,t,"internal-error"),e.open({where:document.body,url:HB(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WB,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=ci(t,"network-request-failed"),s=ui().setTimeout(()=>{a(o)},UB.get());function l(){ui().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XB=500,YB=600,QB="_blank",JB="http://localhost";class iT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZB(t,e,r,n=XB,i=YB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},GB),{width:n.toString(),height:i.toString(),top:a,left:o}),c=Or().toLowerCase();r&&(s=nR(c)?QB:r),tR(c)&&(e=e||JB,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(_U(c)&&s!=="_self")return e9(e||"",s),new iT(null);const f=window.open(e||"",s,u);Ae(f,t,"popup-blocked");try{f.focus()}catch{}return new iT(f)}function e9(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="__/auth/handler",r9="emulator/auth/handler",n9=encodeURIComponent("fac");async function aT(t,e,r,n,i,a){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:ps,eventId:i};if(e instanceof dR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof fd){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${n9}=${encodeURIComponent(l)}`:"";return`${i9(t)}?${ld(s).slice(1)}${c}`}function i9({config:t}){return t.emulator?n_(t,r9):`https://${t.authDomain}/${t9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="webStorageSupport";class a9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bR,this._completeRedirectFn=IB,this._overrideRedirectResult=TB}async _openPopup(e,r,n,i){var a;Qi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await aT(e,r,n,rb(),i);return ZB(e,o,l_())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await aT(e,r,n,rb(),i);return lB(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Qi(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await KB(e),n=new CB(e);return r.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(bv,{type:bv},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[bv];o!==void 0&&r(!!o),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=MB(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return lR()||rR()||a_()}}const o9=a9;var oT="@firebase/auth",sT="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c9(t){Jo(new Za("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Ae(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cR(t)},c=new PU(n,i,a,l);return $U(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Jo(new Za("auth-internal",e=>{const r=ms(e.getProvider("auth").getImmediate());return(n=>new s9(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),li(oT,sT,l9(t)),li(oT,sT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=5*60,f9=FN("authIdTokenMaxAge")||u9;let lT=null;const d9=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>f9)return;const i=r==null?void 0:r.token;lT!==i&&(lT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Up(t=e_()){const e=cg(t,"auth");if(e.isInitialized())return e.getImmediate();const r=MU(t,{popupRedirectResolver:o9,persistence:[yB,aB,bR]}),n=FN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=d9(a.toString());eB(r,o,()=>o(r.currentUser)),ZU(r,s=>o(s))}}const i=MN("auth");return i&&LU(r,`http://${i}`),r}function h9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}IU({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=ci("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",h9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c9("Browser");var p9="firebase",m9="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li(p9,m9,"app");var cT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,TR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,k){function P(){}P.prototype=k.prototype,S.D=k.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(O,R,N){for(var C=Array(arguments.length-2),L=2;L<arguments.length;L++)C[L-2]=arguments[L];return k.prototype[R].apply(O,C)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,k,P){P||(P=0);var O=Array(16);if(typeof k=="string")for(var R=0;16>R;++R)O[R]=k.charCodeAt(P++)|k.charCodeAt(P++)<<8|k.charCodeAt(P++)<<16|k.charCodeAt(P++)<<24;else for(R=0;16>R;++R)O[R]=k[P++]|k[P++]<<8|k[P++]<<16|k[P++]<<24;k=S.g[0],P=S.g[1],R=S.g[2];var N=S.g[3],C=k+(N^P&(R^N))+O[0]+3614090360&4294967295;k=P+(C<<7&4294967295|C>>>25),C=N+(R^k&(P^R))+O[1]+3905402710&4294967295,N=k+(C<<12&4294967295|C>>>20),C=R+(P^N&(k^P))+O[2]+606105819&4294967295,R=N+(C<<17&4294967295|C>>>15),C=P+(k^R&(N^k))+O[3]+3250441966&4294967295,P=R+(C<<22&4294967295|C>>>10),C=k+(N^P&(R^N))+O[4]+4118548399&4294967295,k=P+(C<<7&4294967295|C>>>25),C=N+(R^k&(P^R))+O[5]+1200080426&4294967295,N=k+(C<<12&4294967295|C>>>20),C=R+(P^N&(k^P))+O[6]+2821735955&4294967295,R=N+(C<<17&4294967295|C>>>15),C=P+(k^R&(N^k))+O[7]+4249261313&4294967295,P=R+(C<<22&4294967295|C>>>10),C=k+(N^P&(R^N))+O[8]+1770035416&4294967295,k=P+(C<<7&4294967295|C>>>25),C=N+(R^k&(P^R))+O[9]+2336552879&4294967295,N=k+(C<<12&4294967295|C>>>20),C=R+(P^N&(k^P))+O[10]+4294925233&4294967295,R=N+(C<<17&4294967295|C>>>15),C=P+(k^R&(N^k))+O[11]+2304563134&4294967295,P=R+(C<<22&4294967295|C>>>10),C=k+(N^P&(R^N))+O[12]+1804603682&4294967295,k=P+(C<<7&4294967295|C>>>25),C=N+(R^k&(P^R))+O[13]+4254626195&4294967295,N=k+(C<<12&4294967295|C>>>20),C=R+(P^N&(k^P))+O[14]+2792965006&4294967295,R=N+(C<<17&4294967295|C>>>15),C=P+(k^R&(N^k))+O[15]+1236535329&4294967295,P=R+(C<<22&4294967295|C>>>10),C=k+(R^N&(P^R))+O[1]+4129170786&4294967295,k=P+(C<<5&4294967295|C>>>27),C=N+(P^R&(k^P))+O[6]+3225465664&4294967295,N=k+(C<<9&4294967295|C>>>23),C=R+(k^P&(N^k))+O[11]+643717713&4294967295,R=N+(C<<14&4294967295|C>>>18),C=P+(N^k&(R^N))+O[0]+3921069994&4294967295,P=R+(C<<20&4294967295|C>>>12),C=k+(R^N&(P^R))+O[5]+3593408605&4294967295,k=P+(C<<5&4294967295|C>>>27),C=N+(P^R&(k^P))+O[10]+38016083&4294967295,N=k+(C<<9&4294967295|C>>>23),C=R+(k^P&(N^k))+O[15]+3634488961&4294967295,R=N+(C<<14&4294967295|C>>>18),C=P+(N^k&(R^N))+O[4]+3889429448&4294967295,P=R+(C<<20&4294967295|C>>>12),C=k+(R^N&(P^R))+O[9]+568446438&4294967295,k=P+(C<<5&4294967295|C>>>27),C=N+(P^R&(k^P))+O[14]+3275163606&4294967295,N=k+(C<<9&4294967295|C>>>23),C=R+(k^P&(N^k))+O[3]+4107603335&4294967295,R=N+(C<<14&4294967295|C>>>18),C=P+(N^k&(R^N))+O[8]+1163531501&4294967295,P=R+(C<<20&4294967295|C>>>12),C=k+(R^N&(P^R))+O[13]+2850285829&4294967295,k=P+(C<<5&4294967295|C>>>27),C=N+(P^R&(k^P))+O[2]+4243563512&4294967295,N=k+(C<<9&4294967295|C>>>23),C=R+(k^P&(N^k))+O[7]+1735328473&4294967295,R=N+(C<<14&4294967295|C>>>18),C=P+(N^k&(R^N))+O[12]+2368359562&4294967295,P=R+(C<<20&4294967295|C>>>12),C=k+(P^R^N)+O[5]+4294588738&4294967295,k=P+(C<<4&4294967295|C>>>28),C=N+(k^P^R)+O[8]+2272392833&4294967295,N=k+(C<<11&4294967295|C>>>21),C=R+(N^k^P)+O[11]+1839030562&4294967295,R=N+(C<<16&4294967295|C>>>16),C=P+(R^N^k)+O[14]+4259657740&4294967295,P=R+(C<<23&4294967295|C>>>9),C=k+(P^R^N)+O[1]+2763975236&4294967295,k=P+(C<<4&4294967295|C>>>28),C=N+(k^P^R)+O[4]+1272893353&4294967295,N=k+(C<<11&4294967295|C>>>21),C=R+(N^k^P)+O[7]+4139469664&4294967295,R=N+(C<<16&4294967295|C>>>16),C=P+(R^N^k)+O[10]+3200236656&4294967295,P=R+(C<<23&4294967295|C>>>9),C=k+(P^R^N)+O[13]+681279174&4294967295,k=P+(C<<4&4294967295|C>>>28),C=N+(k^P^R)+O[0]+3936430074&4294967295,N=k+(C<<11&4294967295|C>>>21),C=R+(N^k^P)+O[3]+3572445317&4294967295,R=N+(C<<16&4294967295|C>>>16),C=P+(R^N^k)+O[6]+76029189&4294967295,P=R+(C<<23&4294967295|C>>>9),C=k+(P^R^N)+O[9]+3654602809&4294967295,k=P+(C<<4&4294967295|C>>>28),C=N+(k^P^R)+O[12]+3873151461&4294967295,N=k+(C<<11&4294967295|C>>>21),C=R+(N^k^P)+O[15]+530742520&4294967295,R=N+(C<<16&4294967295|C>>>16),C=P+(R^N^k)+O[2]+3299628645&4294967295,P=R+(C<<23&4294967295|C>>>9),C=k+(R^(P|~N))+O[0]+4096336452&4294967295,k=P+(C<<6&4294967295|C>>>26),C=N+(P^(k|~R))+O[7]+1126891415&4294967295,N=k+(C<<10&4294967295|C>>>22),C=R+(k^(N|~P))+O[14]+2878612391&4294967295,R=N+(C<<15&4294967295|C>>>17),C=P+(N^(R|~k))+O[5]+4237533241&4294967295,P=R+(C<<21&4294967295|C>>>11),C=k+(R^(P|~N))+O[12]+1700485571&4294967295,k=P+(C<<6&4294967295|C>>>26),C=N+(P^(k|~R))+O[3]+2399980690&4294967295,N=k+(C<<10&4294967295|C>>>22),C=R+(k^(N|~P))+O[10]+4293915773&4294967295,R=N+(C<<15&4294967295|C>>>17),C=P+(N^(R|~k))+O[1]+2240044497&4294967295,P=R+(C<<21&4294967295|C>>>11),C=k+(R^(P|~N))+O[8]+1873313359&4294967295,k=P+(C<<6&4294967295|C>>>26),C=N+(P^(k|~R))+O[15]+4264355552&4294967295,N=k+(C<<10&4294967295|C>>>22),C=R+(k^(N|~P))+O[6]+2734768916&4294967295,R=N+(C<<15&4294967295|C>>>17),C=P+(N^(R|~k))+O[13]+1309151649&4294967295,P=R+(C<<21&4294967295|C>>>11),C=k+(R^(P|~N))+O[4]+4149444226&4294967295,k=P+(C<<6&4294967295|C>>>26),C=N+(P^(k|~R))+O[11]+3174756917&4294967295,N=k+(C<<10&4294967295|C>>>22),C=R+(k^(N|~P))+O[2]+718787259&4294967295,R=N+(C<<15&4294967295|C>>>17),C=P+(N^(R|~k))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+k&4294967295,S.g[1]=S.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+N&4294967295}n.prototype.u=function(S,k){k===void 0&&(k=S.length);for(var P=k-this.blockSize,O=this.B,R=this.h,N=0;N<k;){if(R==0)for(;N<=P;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<k;)if(O[R++]=S.charCodeAt(N++),R==this.blockSize){i(this,O),R=0;break}}else for(;N<k;)if(O[R++]=S[N++],R==this.blockSize){i(this,O),R=0;break}}this.h=R,this.o+=k},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var k=1;k<S.length-8;++k)S[k]=0;var P=8*this.o;for(k=S.length-8;k<S.length;++k)S[k]=P&255,P/=256;for(this.u(S),S=Array(16),k=P=0;4>k;++k)for(var O=0;32>O;O+=8)S[P++]=this.g[k]>>>O&255;return S};function a(S,k){var P=s;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=k(S)}function o(S,k){this.h=k;for(var P=[],O=!0,R=S.length-1;0<=R;R--){var N=S[R]|0;O&&N==k||(P[R]=N,O=!1)}this.g=P}var s={};function l(S){return-128<=S&&128>S?a(S,function(k){return new o([k|0],0>k?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return b(c(-S));for(var k=[],P=1,O=0;S>=P;O++)k[O]=S/P|0,P*=4294967296;return new o(k,0)}function u(S,k){if(S.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(S.charAt(0)=="-")return b(u(S.substring(1),k));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(k,8)),O=f,R=0;R<S.length;R+=8){var N=Math.min(8,S.length-R),C=parseInt(S.substring(R,R+N),k);8>N?(N=c(Math.pow(k,N)),O=O.j(N).add(c(C))):(O=O.j(P),O=O.add(c(C)))}return O}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();for(var S=0,k=1,P=0;P<this.g.length;P++){var O=this.i(P);S+=(0<=O?O:4294967296+O)*k,k*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(y(this))return"-"+b(this).toString(S);for(var k=c(Math.pow(S,6)),P=this,O="";;){var R=E(P,k).g;P=_(P,R.j(k));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=R,g(P))return N+O;for(;6>N.length;)N="0"+N;O=N+O}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var k=0;k<S.g.length;k++)if(S.g[k]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=_(this,S),y(S)?-1:g(S)?0:1};function b(S){for(var k=S.g.length,P=[],O=0;O<k;O++)P[O]=~S.g[O];return new o(P,~S.h).add(h)}t.abs=function(){return y(this)?b(this):this},t.add=function(S){for(var k=Math.max(this.g.length,S.g.length),P=[],O=0,R=0;R<=k;R++){var N=O+(this.i(R)&65535)+(S.i(R)&65535),C=(N>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);O=C>>>16,N&=65535,C&=65535,P[R]=C<<16|N}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(S,k){return S.add(b(k))}t.j=function(S){if(g(this)||g(S))return f;if(y(this))return y(S)?b(this).j(b(S)):b(b(this).j(S));if(y(S))return b(this.j(b(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var k=this.g.length+S.g.length,P=[],O=0;O<2*k;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var R=0;R<S.g.length;R++){var N=this.i(O)>>>16,C=this.i(O)&65535,L=S.i(R)>>>16,z=S.i(R)&65535;P[2*O+2*R]+=C*z,v(P,2*O+2*R),P[2*O+2*R+1]+=N*z,v(P,2*O+2*R+1),P[2*O+2*R+1]+=C*L,v(P,2*O+2*R+1),P[2*O+2*R+2]+=N*L,v(P,2*O+2*R+2)}for(O=0;O<k;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=k;O<2*k;O++)P[O]=0;return new o(P,0)};function v(S,k){for(;(S[k]&65535)!=S[k];)S[k+1]+=S[k]>>>16,S[k]&=65535,k++}function w(S,k){this.g=S,this.h=k}function E(S,k){if(g(k))throw Error("division by zero");if(g(S))return new w(f,f);if(y(S))return k=E(b(S),k),new w(b(k.g),b(k.h));if(y(k))return k=E(S,b(k)),new w(b(k.g),k.h);if(30<S.g.length){if(y(S)||y(k))throw Error("slowDivide_ only works with positive integers.");for(var P=h,O=k;0>=O.l(S);)P=T(P),O=T(O);var R=I(P,1),N=I(O,1);for(O=I(O,2),P=I(P,2);!g(O);){var C=N.add(O);0>=C.l(S)&&(R=R.add(P),N=C),O=I(O,1),P=I(P,1)}return k=_(S,R.j(k)),new w(R,k)}for(R=f;0<=S.l(k);){for(P=Math.max(1,Math.floor(S.m()/k.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),N=c(P),C=N.j(k);y(C)||0<C.l(S);)P-=O,N=c(P),C=N.j(k);g(N)&&(N=h),R=R.add(N),S=_(S,C)}return new w(R,S)}t.A=function(S){return E(this,S).h},t.and=function(S){for(var k=Math.max(this.g.length,S.g.length),P=[],O=0;O<k;O++)P[O]=this.i(O)&S.i(O);return new o(P,this.h&S.h)},t.or=function(S){for(var k=Math.max(this.g.length,S.g.length),P=[],O=0;O<k;O++)P[O]=this.i(O)|S.i(O);return new o(P,this.h|S.h)},t.xor=function(S){for(var k=Math.max(this.g.length,S.g.length),P=[],O=0;O<k;O++)P[O]=this.i(O)^S.i(O);return new o(P,this.h^S.h)};function T(S){for(var k=S.g.length+1,P=[],O=0;O<k;O++)P[O]=S.i(O)<<1|S.i(O-1)>>>31;return new o(P,S.h)}function I(S,k){var P=k>>5;k%=32;for(var O=S.g.length-P,R=[],N=0;N<O;N++)R[N]=0<k?S.i(N+P)>>>k|S.i(N+P+1)<<32-k:S.i(N+P);return new o(R,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,TR=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,zo=o}).apply(typeof cT<"u"?cT:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AR,PR,su,IR,Qh,ob,OR,CR,NR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,x,A){return d==Array.prototype||d==Object.prototype||(d[x]=A.value),d};function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var x=0;x<d.length;++x){var A=d[x];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=r(this);function i(d,x){if(x)e:{var A=n;d=d.split(".");for(var j=0;j<d.length-1;j++){var V=d[j];if(!(V in A))break e;A=A[V]}d=d[d.length-1],j=A[d],x=x(j),x!=j&&x!=null&&e(A,d,{configurable:!0,writable:!0,value:x})}}function a(d,x){d instanceof String&&(d+="");var A=0,j=!1,V={next:function(){if(!j&&A<d.length){var G=A++;return{value:x(G,d[G]),done:!1}}return j=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(d){return d||function(){return a(this,function(x,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(d){var x=typeof d;return x=x!="object"?x:d?Array.isArray(d)?"array":x:"null",x=="array"||x=="object"&&typeof d.length=="number"}function c(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function u(d,x,A){return d.call.apply(d.bind,arguments)}function f(d,x,A){if(!d)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,j),d.apply(x,V)}}return function(){return d.apply(x,arguments)}}function h(d,x,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,x){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function g(d,x){function A(){}A.prototype=x.prototype,d.aa=x.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(j,V,G){for(var pe=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)pe[lt-2]=arguments[lt];return x.prototype[V].apply(j,pe)}}function y(d){const x=d.length;if(0<x){const A=Array(x);for(let j=0;j<x;j++)A[j]=d[j];return A}return[]}function b(d,x){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(l(j)){const V=d.length||0,G=j.length||0;d.length=V+G;for(let pe=0;pe<G;pe++)d[V+pe]=j[pe]}else d.push(j)}}class _{constructor(x,A){this.i=x,this.j=A,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function v(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function E(d){return E[" "](d),d}E[" "]=function(){};var T=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function I(d,x,A){for(const j in d)x.call(A,d[j],j,d)}function S(d,x){for(const A in d)x.call(void 0,d[A],A,d)}function k(d){const x={};for(const A in d)x[A]=d[A];return x}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,x){let A,j;for(let V=1;V<arguments.length;V++){j=arguments[V];for(A in j)d[A]=j[A];for(let G=0;G<P.length;G++)A=P[G],Object.prototype.hasOwnProperty.call(j,A)&&(d[A]=j[A])}}function R(d){var x=1;d=d.split(":");const A=[];for(;0<x&&d.length;)A.push(d.shift()),x--;return d.length&&A.push(d.join(":")),A}function N(d){s.setTimeout(()=>{throw d},0)}function C(){var d=Y;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class L{constructor(){this.h=this.g=null}add(x,A){const j=z.get();j.set(x,A),this.h?this.h.next=j:this.g=j,this.h=j}}var z=new _(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(x,A){this.h=x,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let X,F=!1,Y=new L,re=()=>{const d=s.Promise.resolve(void 0);X=()=>{d.then(de)}};var de=()=>{for(var d;d=C();){try{d.h.call(d.g)}catch(A){N(A)}var x=z;x.j(d),100>x.h&&(x.h++,d.next=x.g,x.g=d)}F=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};s.addEventListener("test",A,x),s.removeEventListener("test",A,x)}catch{}return d}();function je(d,x){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget){if(T){e:{try{E(x.nodeName);var V=!0;break e}catch{}V=!1}V||(x=null)}}else A=="mouseover"?x=d.fromElement:A=="mouseout"&&(x=d.toElement);this.relatedTarget=x,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Q[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&je.aa.h.call(this)}}g(je,he);var Q={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),J=0;function H(d,x,A,j,V){this.listener=d,this.proxy=null,this.src=x,this.type=A,this.capture=!!j,this.ha=V,this.key=++J,this.da=this.fa=!1}function oe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function le(d){this.src=d,this.g={},this.h=0}le.prototype.add=function(d,x,A,j,V){var G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);var pe=Se(d,x,j,V);return-1<pe?(x=d[pe],A||(x.fa=!1)):(x=new H(x,this.src,G,!!j,V),x.fa=A,d.push(x)),x};function K(d,x){var A=x.type;if(A in d.g){var j=d.g[A],V=Array.prototype.indexOf.call(j,x,void 0),G;(G=0<=V)&&Array.prototype.splice.call(j,V,1),G&&(oe(x),d.g[A].length==0&&(delete d.g[A],d.h--))}}function Se(d,x,A,j){for(var V=0;V<d.length;++V){var G=d[V];if(!G.da&&G.listener==x&&G.capture==!!A&&G.ha==j)return V}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),We={};function Xe(d,x,A,j,V){if(Array.isArray(x)){for(var G=0;G<x.length;G++)Xe(d,x[G],A,j,V);return null}return A=Be(A),d&&d[ne]?d.K(x,A,c(j)?!!j.capture:!!j,V):Jt(d,x,A,!1,j,V)}function Jt(d,x,A,j,V,G){if(!x)throw Error("Invalid event type");var pe=c(V)?!!V.capture:!!V,lt=ae(d);if(lt||(d[xe]=lt=new le(d)),A=lt.add(x,A,j,pe,G),A.proxy)return A;if(j=M(),A.proxy=j,j.src=d,j.listener=A,d.addEventListener)Ee||(V=pe),V===void 0&&(V=!1),d.addEventListener(x.toString(),j,V);else if(d.attachEvent)d.attachEvent(ue(x.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function M(){function d(A){return x.call(d.src,d.listener,A)}const x=ce;return d}function U(d,x,A,j,V){if(Array.isArray(x))for(var G=0;G<x.length;G++)U(d,x[G],A,j,V);else j=c(j)?!!j.capture:!!j,A=Be(A),d&&d[ne]?(d=d.i,x=String(x).toString(),x in d.g&&(G=d.g[x],A=Se(G,A,j,V),-1<A&&(oe(G[A]),Array.prototype.splice.call(G,A,1),G.length==0&&(delete d.g[x],d.h--)))):d&&(d=ae(d))&&(x=d.g[x.toString()],d=-1,x&&(d=Se(x,A,j,V)),(A=-1<d?x[d]:null)&&q(A))}function q(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[ne])K(x.i,d);else{var A=d.type,j=d.proxy;x.removeEventListener?x.removeEventListener(A,j,d.capture):x.detachEvent?x.detachEvent(ue(A),j):x.addListener&&x.removeListener&&x.removeListener(j),(A=ae(x))?(K(A,d),A.h==0&&(A.src=null,x[xe]=null)):oe(d)}}}function ue(d){return d in We?We[d]:We[d]="on"+d}function ce(d,x){if(d.da)d=!0;else{x=new je(x,this);var A=d.listener,j=d.ha||d.src;d.fa&&q(d),d=A.call(j,x)}return d}function ae(d){return d=d[xe],d instanceof le?d:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(d){return typeof d=="function"?d:(d[be]||(d[be]=function(x){return d.handleEvent(x)}),d[be])}function $e(){te.call(this),this.i=new le(this),this.M=this,this.F=null}g($e,te),$e.prototype[ne]=!0,$e.prototype.removeEventListener=function(d,x,A,j){U(this,d,x,A,j)};function Ve(d,x){var A,j=d.F;if(j)for(A=[];j;j=j.F)A.push(j);if(d=d.M,j=x.type||x,typeof x=="string")x=new he(x,d);else if(x instanceof he)x.target=x.target||d;else{var V=x;x=new he(j,d),O(x,V)}if(V=!0,A)for(var G=A.length-1;0<=G;G--){var pe=x.g=A[G];V=zr(pe,j,!0,x)&&V}if(pe=x.g=d,V=zr(pe,j,!0,x)&&V,V=zr(pe,j,!1,x)&&V,A)for(G=0;G<A.length;G++)pe=x.g=A[G],V=zr(pe,j,!1,x)&&V}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var d=this.i,x;for(x in d.g){for(var A=d.g[x],j=0;j<A.length;j++)oe(A[j]);delete d.g[x],d.h--}}this.F=null},$e.prototype.K=function(d,x,A,j){return this.i.add(String(d),x,!1,A,j)},$e.prototype.L=function(d,x,A,j){return this.i.add(String(d),x,!0,A,j)};function zr(d,x,A,j){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();for(var V=!0,G=0;G<x.length;++G){var pe=x[G];if(pe&&!pe.da&&pe.capture==A){var lt=pe.listener,lr=pe.ha||pe.src;pe.fa&&K(d.i,pe),V=lt.call(lr,j)!==!1&&V}}return V&&!j.defaultPrevented}function la(d,x,A){if(typeof d=="function")A&&(d=h(d,A));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:s.setTimeout(d,x||0)}function ca(d){d.g=la(()=>{d.g=null,d.i&&(d.i=!1,ca(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class vo extends te{constructor(x,A){super(),this.m=x,this.l=A,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ca(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(d){te.call(this),this.h=d,this.g={}}g(_i,te);var bo=[];function Es(d){I(d.g,function(x,A){this.g.hasOwnProperty(A)&&q(x)},d),d.g={}}_i.prototype.N=function(){_i.aa.N.call(this),Es(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ua=s.JSON.stringify,_y=s.JSON.parse,ky=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function Nd(){}Nd.prototype.h=null;function xc(d){return d.h||(d.h=d.i())}function Ey(){}var fa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function me(){he.call(this,"d")}g(me,he);function Oe(){he.call(this,"c")}g(Oe,he);var De={},Ye=null;function et(){return Ye=Ye||new $e}De.La="serverreachability";function Zt(d){he.call(this,De.La,d)}g(Zt,he);function xt(d){const x=et();Ve(x,new Zt(x))}De.STAT_EVENT="statevent";function ki(d,x){he.call(this,De.STAT_EVENT,d),this.stat=x}g(ki,he);function _t(d){const x=et();Ve(x,new ki(x,d))}De.Ma="timingevent";function wk(d,x){he.call(this,De.Ma,d),this.size=x}g(wk,he);function _c(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},x)}function kc(){this.g=!0}kc.prototype.xa=function(){this.g=!1};function d4(d,x,A,j,V,G){d.info(function(){if(d.g)if(G)for(var pe="",lt=G.split("&"),lr=0;lr<lt.length;lr++){var Qe=lt[lr].split("=");if(1<Qe.length){var yr=Qe[0];Qe=Qe[1];var vr=yr.split("_");pe=2<=vr.length&&vr[1]=="type"?pe+(yr+"="+Qe+"&"):pe+(yr+"=redacted&")}}else pe=null;else pe=G;return"XMLHTTP REQ ("+j+") [attempt "+V+"]: "+x+`
`+A+`
`+pe})}function h4(d,x,A,j,V,G,pe){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+V+"]: "+x+`
`+A+`
`+G+" "+pe})}function Ss(d,x,A,j){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+m4(d,A)+(j?" "+j:"")})}function p4(d,x){d.info(function(){return"TIMEOUT: "+x})}kc.prototype.info=function(){};function m4(d,x){if(!d.g)return x;if(!x)return null;try{var A=JSON.parse(x);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var j=A[d];if(!(2>j.length)){var V=j[1];if(Array.isArray(V)&&!(1>V.length)){var G=V[0];if(G!="noop"&&G!="stop"&&G!="close")for(var pe=1;pe<V.length;pe++)V[pe]=""}}}}return ua(A)}catch{return x}}var Rd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xk={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sy;function jd(){}g(jd,Nd),jd.prototype.g=function(){return new XMLHttpRequest},jd.prototype.i=function(){return{}},Sy=new jd;function da(d,x,A,j){this.j=d,this.i=x,this.l=A,this.R=j||1,this.U=new _i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _k}function _k(){this.i=null,this.g="",this.h=!1}var kk={},Ty={};function Ay(d,x,A){d.L=1,d.v=Ld(Ei(x)),d.m=A,d.P=!0,Ek(d,null)}function Ek(d,x){d.F=Date.now(),Dd(d),d.A=Ei(d.v);var A=d.A,j=d.R;Array.isArray(j)||(j=[String(j)]),Lk(A.i,"t",j),d.C=0,A=d.j.J,d.h=new _k,d.g=rE(d.j,A?x:null,!d.m),0<d.O&&(d.M=new vo(h(d.Y,d,d.g),d.O)),x=d.U,A=d.g,j=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(bo[0]=V.toString()),V=bo);for(var G=0;G<V.length;G++){var pe=Xe(A,V[G],j||x.handleEvent,!1,x.h||x);if(!pe)break;x.g[pe.key]=pe}x=d.H?k(d.H):{},d.m?(d.u||(d.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,x)):(d.u="GET",d.g.ea(d.A,d.u,null,x)),xt(),d4(d.i,d.u,d.A,d.l,d.R,d.m)}da.prototype.ca=function(d){d=d.target;const x=this.M;x&&Si(d)==3?x.j():this.Y(d)},da.prototype.Y=function(d){try{if(d==this.g)e:{const vr=Si(this.g);var x=this.g.Ba();const Ps=this.g.Z();if(!(3>vr)&&(vr!=3||this.g&&(this.h.h||this.g.oa()||qk(this.g)))){this.J||vr!=4||x==7||(x==8||0>=Ps?xt(3):xt(2)),Py(this);var A=this.g.Z();this.X=A;t:if(Sk(this)){var j=qk(this.g);d="";var V=j.length,G=Si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wo(this),Ec(this);var pe="";break t}this.h.i=new s.TextDecoder}for(x=0;x<V;x++)this.h.h=!0,d+=this.h.i.decode(j[x],{stream:!(G&&x==V-1)});j.length=0,this.h.g+=d,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=A==200,h4(this.i,this.u,this.A,this.l,this.R,vr,A),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,lr=this.g;if((lt=lr.g?lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(lt)){var Qe=lt;break t}}Qe=null}if(A=Qe)Ss(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Iy(this,A);else{this.o=!1,this.s=3,_t(12),wo(this),Ec(this);break e}}if(this.P){A=!0;let Nn;for(;!this.J&&this.C<pe.length;)if(Nn=g4(this,pe),Nn==Ty){vr==4&&(this.s=4,_t(14),A=!1),Ss(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==kk){this.s=4,_t(15),Ss(this.i,this.l,pe,"[Invalid Chunk]"),A=!1;break}else Ss(this.i,this.l,Nn,null),Iy(this,Nn);if(Sk(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vr!=4||pe.length!=0||this.h.h||(this.s=1,_t(16),A=!1),this.o=this.o&&A,!A)Ss(this.i,this.l,pe,"[Invalid Chunked Response]"),wo(this),Ec(this);else if(0<pe.length&&!this.W){this.W=!0;var yr=this.j;yr.g==this&&yr.ba&&!yr.M&&(yr.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Dy(yr),yr.M=!0,_t(11))}}else Ss(this.i,this.l,pe,null),Iy(this,pe);vr==4&&wo(this),this.o&&!this.J&&(vr==4?Jk(this.j,this):(this.o=!1,Dd(this)))}else R4(this.g),A==400&&0<pe.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),wo(this),Ec(this)}}}catch{}finally{}};function Sk(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function g4(d,x){var A=d.C,j=x.indexOf(`
`,A);return j==-1?Ty:(A=Number(x.substring(A,j)),isNaN(A)?kk:(j+=1,j+A>x.length?Ty:(x=x.slice(j,j+A),d.C=j+A,x)))}da.prototype.cancel=function(){this.J=!0,wo(this)};function Dd(d){d.S=Date.now()+d.I,Tk(d,d.I)}function Tk(d,x){if(d.B!=null)throw Error("WatchDog timer not null");d.B=_c(h(d.ba,d),x)}function Py(d){d.B&&(s.clearTimeout(d.B),d.B=null)}da.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(p4(this.i,this.A),this.L!=2&&(xt(),_t(17)),wo(this),this.s=2,Ec(this)):Tk(this,this.S-d)};function Ec(d){d.j.G==0||d.J||Jk(d.j,d)}function wo(d){Py(d);var x=d.M;x&&typeof x.ma=="function"&&x.ma(),d.M=null,Es(d.U),d.g&&(x=d.g,d.g=null,x.abort(),x.ma())}function Iy(d,x){try{var A=d.j;if(A.G!=0&&(A.g==d||Oy(A.h,d))){if(!d.K&&Oy(A.h,d)&&A.G==3){try{var j=A.Da.g.parse(x)}catch{j=null}if(Array.isArray(j)&&j.length==3){var V=j;if(V[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)zd(A),Ud(A);else break e;jy(A),_t(18)}}else A.za=V[1],0<A.za-A.T&&37500>V[2]&&A.F&&A.v==0&&!A.C&&(A.C=_c(h(A.Za,A),6e3));if(1>=Ik(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else _o(A,11)}else if((d.K||A.g==d)&&zd(A),!v(x))for(V=A.Da.g.parse(x),x=0;x<V.length;x++){let Qe=V[x];if(A.T=Qe[0],Qe=Qe[1],A.G==2)if(Qe[0]=="c"){A.K=Qe[1],A.ia=Qe[2];const yr=Qe[3];yr!=null&&(A.la=yr,A.j.info("VER="+A.la));const vr=Qe[4];vr!=null&&(A.Aa=vr,A.j.info("SVER="+A.Aa));const Ps=Qe[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(j=1.5*Ps,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const Nn=d.g;if(Nn){const qd=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qd){var G=j.h;G.g||qd.indexOf("spdy")==-1&&qd.indexOf("quic")==-1&&qd.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Cy(G,G.h),G.h=null))}if(j.D){const My=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;My&&(j.ya=My,pt(j.I,j.D,My))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var pe=d;if(j.qa=tE(j,j.J?j.ia:null,j.W),pe.K){Ok(j.h,pe);var lt=pe,lr=j.L;lr&&(lt.I=lr),lt.B&&(Py(lt),Dd(lt)),j.g=pe}else Yk(j);0<A.i.length&&Bd(A)}else Qe[0]!="stop"&&Qe[0]!="close"||_o(A,7);else A.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?_o(A,7):Ry(A):Qe[0]!="noop"&&A.l&&A.l.ta(Qe),A.v=0)}}xt(4)}catch{}}var y4=class{constructor(d,x){this.g=d,this.map=x}};function Ak(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pk(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ik(d){return d.h?1:d.g?d.g.size:0}function Oy(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function Cy(d,x){d.g?d.g.add(x):d.h=x}function Ok(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}Ak.prototype.cancel=function(){if(this.i=Ck(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ck(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const A of d.g.values())x=x.concat(A.D);return x}return y(d.i)}function v4(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var x=[],A=d.length,j=0;j<A;j++)x.push(d[j]);return x}x=[],A=0;for(j in d)x[A++]=d[j];return x}function b4(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var x=[];d=d.length;for(var A=0;A<d;A++)x.push(A);return x}x=[],A=0;for(const j in d)x[A++]=j;return x}}}function Nk(d,x){if(d.forEach&&typeof d.forEach=="function")d.forEach(x,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,x,void 0);else for(var A=b4(d),j=v4(d),V=j.length,G=0;G<V;G++)x.call(void 0,j[G],A&&A[G],d)}var Rk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w4(d,x){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var j=d[A].indexOf("="),V=null;if(0<=j){var G=d[A].substring(0,j);V=d[A].substring(j+1)}else G=d[A];x(G,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function xo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof xo){this.h=d.h,Md(this,d.j),this.o=d.o,this.g=d.g,$d(this,d.s),this.l=d.l;var x=d.i,A=new Ac;A.i=x.i,x.g&&(A.g=new Map(x.g),A.h=x.h),jk(this,A),this.m=d.m}else d&&(x=String(d).match(Rk))?(this.h=!1,Md(this,x[1]||"",!0),this.o=Sc(x[2]||""),this.g=Sc(x[3]||"",!0),$d(this,x[4]),this.l=Sc(x[5]||"",!0),jk(this,x[6]||"",!0),this.m=Sc(x[7]||"")):(this.h=!1,this.i=new Ac(null,this.h))}xo.prototype.toString=function(){var d=[],x=this.j;x&&d.push(Tc(x,Dk,!0),":");var A=this.g;return(A||x=="file")&&(d.push("//"),(x=this.o)&&d.push(Tc(x,Dk,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Tc(A,A.charAt(0)=="/"?k4:_4,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Tc(A,S4)),d.join("")};function Ei(d){return new xo(d)}function Md(d,x,A){d.j=A?Sc(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function $d(d,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);d.s=x}else d.s=null}function jk(d,x,A){x instanceof Ac?(d.i=x,T4(d.i,d.h)):(A||(x=Tc(x,E4)),d.i=new Ac(x,d.h))}function pt(d,x,A){d.i.set(x,A)}function Ld(d){return pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Sc(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Tc(d,x,A){return typeof d=="string"?(d=encodeURI(d).replace(x,x4),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function x4(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Dk=/[#\/\?@]/g,_4=/[#\?:]/g,k4=/[#\?]/g,E4=/[#\?@]/g,S4=/#/g;function Ac(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function ha(d){d.g||(d.g=new Map,d.h=0,d.i&&w4(d.i,function(x,A){d.add(decodeURIComponent(x.replace(/\+/g," ")),A)}))}t=Ac.prototype,t.add=function(d,x){ha(this),this.i=null,d=Ts(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(x),this.h+=1,this};function Mk(d,x){ha(d),x=Ts(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function $k(d,x){return ha(d),x=Ts(d,x),d.g.has(x)}t.forEach=function(d,x){ha(this),this.g.forEach(function(A,j){A.forEach(function(V){d.call(x,V,j,this)},this)},this)},t.na=function(){ha(this);const d=Array.from(this.g.values()),x=Array.from(this.g.keys()),A=[];for(let j=0;j<x.length;j++){const V=d[j];for(let G=0;G<V.length;G++)A.push(x[j])}return A},t.V=function(d){ha(this);let x=[];if(typeof d=="string")$k(this,d)&&(x=x.concat(this.g.get(Ts(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)x=x.concat(d[A])}return x},t.set=function(d,x){return ha(this),this.i=null,d=Ts(this,d),$k(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},t.get=function(d,x){return d?(d=this.V(d),0<d.length?String(d[0]):x):x};function Lk(d,x,A){Mk(d,x),0<A.length&&(d.i=null,d.g.set(Ts(d,x),y(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(var A=0;A<x.length;A++){var j=x[A];const G=encodeURIComponent(String(j)),pe=this.V(j);for(j=0;j<pe.length;j++){var V=G;pe[j]!==""&&(V+="="+encodeURIComponent(String(pe[j]))),d.push(V)}}return this.i=d.join("&")};function Ts(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function T4(d,x){x&&!d.j&&(ha(d),d.i=null,d.g.forEach(function(A,j){var V=j.toLowerCase();j!=V&&(Mk(this,j),Lk(this,V,A))},d)),d.j=x}function A4(d,x){const A=new kc;if(s.Image){const j=new Image;j.onload=p(pa,A,"TestLoadImage: loaded",!0,x,j),j.onerror=p(pa,A,"TestLoadImage: error",!1,x,j),j.onabort=p(pa,A,"TestLoadImage: abort",!1,x,j),j.ontimeout=p(pa,A,"TestLoadImage: timeout",!1,x,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else x(!1)}function P4(d,x){const A=new kc,j=new AbortController,V=setTimeout(()=>{j.abort(),pa(A,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:j.signal}).then(G=>{clearTimeout(V),G.ok?pa(A,"TestPingServer: ok",!0,x):pa(A,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(V),pa(A,"TestPingServer: error",!1,x)})}function pa(d,x,A,j,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),j(A)}catch{}}function I4(){this.g=new ky}function O4(d,x,A){const j=A||"";try{Nk(d,function(V,G){let pe=V;c(V)&&(pe=ua(V)),x.push(j+G+"="+encodeURIComponent(pe))})}catch(V){throw x.push(j+"type="+encodeURIComponent("_badmap")),V}}function Pc(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Pc,Nd),Pc.prototype.g=function(){return new Fd(this.l,this.j)},Pc.prototype.i=function(d){return function(){return d}}({});function Fd(d,x){$e.call(this),this.D=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Fd,$e),t=Fd.prototype,t.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=x,this.readyState=1,Oc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(x.body=d),(this.D||s).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ic(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Oc(this)),this.g&&(this.readyState=3,Oc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fk(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fk(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?Ic(this):Oc(this),this.readyState==3&&Fk(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ic(this))},t.Qa=function(d){this.g&&(this.response=d,Ic(this))},t.ga=function(){this.g&&Ic(this)};function Ic(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Oc(d)}t.setRequestHeader=function(d,x){this.u.append(d,x)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var A=x.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=x.next();return d.join(`\r
`)};function Oc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Fd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Vk(d){let x="";return I(d,function(A,j){x+=j,x+=":",x+=A,x+=`\r
`}),x}function Ny(d,x,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=Vk(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):pt(d,x,A))}function Rt(d){$e.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Rt,$e);var C4=/^https?$/i,N4=["POST","PUT"];t=Rt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,x,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sy.g(),this.v=this.o?xc(this.o):xc(Sy),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(G){Uk(this,G);return}if(d=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var V in j)A.set(V,j[V]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const G of j.keys())A.set(G,j.get(G));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(G=>G.toLowerCase()=="content-type"),V=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(N4,x,void 0))||j||V||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,pe]of A)this.g.setRequestHeader(G,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wk(this),this.u=!0,this.g.send(d),this.u=!1}catch(G){Uk(this,G)}};function Uk(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.m=5,Bk(d),Vd(d)}function Bk(d){d.A||(d.A=!0,Ve(d,"complete"),Ve(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ve(this,"complete"),Ve(this,"abort"),Vd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vd(this,!0)),Rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zk(this):this.bb())},t.bb=function(){zk(this)};function zk(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Si(d)!=4||d.Z()!=2)){if(d.u&&Si(d)==4)la(d.Ea,0,d);else if(Ve(d,"readystatechange"),Si(d)==4){d.h=!1;try{const pe=d.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var A;if(!(A=x)){var j;if(j=pe===0){var V=String(d.D).match(Rk)[1]||null;!V&&s.self&&s.self.location&&(V=s.self.location.protocol.slice(0,-1)),j=!C4.test(V?V.toLowerCase():"")}A=j}if(A)Ve(d,"complete"),Ve(d,"success");else{d.m=6;try{var G=2<Si(d)?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.Z()+"]",Bk(d)}}finally{Vd(d)}}}}function Vd(d,x){if(d.g){Wk(d);const A=d.g,j=d.v[0]?()=>{}:null;d.g=null,d.v=null,x||Ve(d,"ready");try{A.onreadystatechange=j}catch{}}}function Wk(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Si(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),_y(x)}};function qk(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function R4(d){const x={};d=(d.g&&2<=Si(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(v(d[j]))continue;var A=R(d[j]);const V=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const G=x[V]||[];x[V]=G,G.push(A)}S(x,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cc(d,x,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||x}function Hk(d){this.Aa=0,this.i=[],this.j=new kc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cc("baseRetryDelayMs",5e3,d),this.cb=Cc("retryDelaySeedMs",1e4,d),this.Wa=Cc("forwardChannelMaxRetries",2,d),this.wa=Cc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ak(d&&d.concurrentRequestLimit),this.Da=new I4,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hk.prototype,t.la=8,t.G=1,t.connect=function(d,x,A,j){_t(0),this.W=d,this.H=x||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=tE(this,null,this.W),Bd(this)};function Ry(d){if(Kk(d),d.G==3){var x=d.U++,A=Ei(d.I);if(pt(A,"SID",d.K),pt(A,"RID",x),pt(A,"TYPE","terminate"),Nc(d,A),x=new da(d,d.j,x),x.L=2,x.v=Ld(Ei(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(x.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=x.v,A=!0),A||(x.g=rE(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Dd(x)}eE(d)}function Ud(d){d.g&&(Dy(d),d.g.cancel(),d.g=null)}function Kk(d){Ud(d),d.u&&(s.clearTimeout(d.u),d.u=null),zd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function Bd(d){if(!Pk(d.h)&&!d.s){d.s=!0;var x=d.Ga;X||re(),F||(X(),F=!0),Y.add(x,d),d.B=0}}function j4(d,x){return Ik(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=x.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=_c(h(d.Ga,d,x),Zk(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new da(this,this.j,d);let G=this.o;if(this.S&&(G?(G=k(G),O(G,this.S)):G=this.S),this.m!==null||this.O||(V.H=G,G=null),this.P)e:{for(var x=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(x+=j,4096<x){x=A;break e}if(x===4096||A===this.i.length-1){x=A+1;break e}}x=1e3}else x=1e3;x=Xk(this,V,x),A=Ei(this.I),pt(A,"RID",d),pt(A,"CVER",22),this.D&&pt(A,"X-HTTP-Session-Id",this.D),Nc(this,A),G&&(this.O?x="headers="+encodeURIComponent(String(Vk(G)))+"&"+x:this.m&&Ny(A,this.m,G)),Cy(this.h,V),this.Ua&&pt(A,"TYPE","init"),this.P?(pt(A,"$req",x),pt(A,"SID","null"),V.T=!0,Ay(V,A,null)):Ay(V,A,x),this.G=2}}else this.G==3&&(d?Gk(this,d):this.i.length==0||Pk(this.h)||Gk(this))};function Gk(d,x){var A;x?A=x.l:A=d.U++;const j=Ei(d.I);pt(j,"SID",d.K),pt(j,"RID",A),pt(j,"AID",d.T),Nc(d,j),d.m&&d.o&&Ny(j,d.m,d.o),A=new da(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),x&&(d.i=x.D.concat(d.i)),x=Xk(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Cy(d.h,A),Ay(A,j,x)}function Nc(d,x){d.H&&I(d.H,function(A,j){pt(x,j,A)}),d.l&&Nk({},function(A,j){pt(x,j,A)})}function Xk(d,x,A){A=Math.min(d.i.length,A);var j=d.l?h(d.l.Na,d.l,d):null;e:{var V=d.i;let G=-1;for(;;){const pe=["count="+A];G==-1?0<A?(G=V[0].g,pe.push("ofs="+G)):G=0:pe.push("ofs="+G);let lt=!0;for(let lr=0;lr<A;lr++){let Qe=V[lr].g;const yr=V[lr].map;if(Qe-=G,0>Qe)G=Math.max(0,V[lr].g-100),lt=!1;else try{O4(yr,pe,"req"+Qe+"_")}catch{j&&j(yr)}}if(lt){j=pe.join("&");break e}}}return d=d.i.splice(0,A),x.D=d,j}function Yk(d){if(!d.g&&!d.u){d.Y=1;var x=d.Fa;X||re(),F||(X(),F=!0),Y.add(x,d),d.v=0}}function jy(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=_c(h(d.Fa,d),Zk(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Qk(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=_c(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Ud(this),Qk(this))};function Dy(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function Qk(d){d.g=new da(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var x=Ei(d.qa);pt(x,"RID","rpc"),pt(x,"SID",d.K),pt(x,"AID",d.T),pt(x,"CI",d.F?"0":"1"),!d.F&&d.ja&&pt(x,"TO",d.ja),pt(x,"TYPE","xmlhttp"),Nc(d,x),d.m&&d.o&&Ny(x,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=Ld(Ei(x)),A.m=null,A.P=!0,Ek(A,d)}t.Za=function(){this.C!=null&&(this.C=null,Ud(this),jy(this),_t(19))};function zd(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function Jk(d,x){var A=null;if(d.g==x){zd(d),Dy(d),d.g=null;var j=2}else if(Oy(d.h,x))A=x.D,Ok(d.h,x),j=1;else return;if(d.G!=0){if(x.o)if(j==1){A=x.m?x.m.length:0,x=Date.now()-x.F;var V=d.B;j=et(),Ve(j,new wk(j,A)),Bd(d)}else Yk(d);else if(V=x.s,V==3||V==0&&0<x.X||!(j==1&&j4(d,x)||j==2&&jy(d)))switch(A&&0<A.length&&(x=d.h,x.i=x.i.concat(A)),V){case 1:_o(d,5);break;case 4:_o(d,10);break;case 3:_o(d,6);break;default:_o(d,2)}}}function Zk(d,x){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*x}function _o(d,x){if(d.j.info("Error code "+x),x==2){var A=h(d.fb,d),j=d.Xa;const V=!j;j=new xo(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Md(j,"https"),Ld(j),V?A4(j.toString(),A):P4(j.toString(),A)}else _t(2);d.G=0,d.l&&d.l.sa(x),eE(d),Kk(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function eE(d){if(d.G=0,d.ka=[],d.l){const x=Ck(d.h);(x.length!=0||d.i.length!=0)&&(b(d.ka,x),b(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function tE(d,x,A){var j=A instanceof xo?Ei(A):new xo(A);if(j.g!="")x&&(j.g=x+"."+j.g),$d(j,j.s);else{var V=s.location;j=V.protocol,x=x?x+"."+V.hostname:V.hostname,V=+V.port;var G=new xo(null);j&&Md(G,j),x&&(G.g=x),V&&$d(G,V),A&&(G.l=A),j=G}return A=d.D,x=d.ya,A&&x&&pt(j,A,x),pt(j,"VER",d.la),Nc(d,j),j}function rE(d,x,A){if(x&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Ca&&!d.pa?new Rt(new Pc({eb:A})):new Rt(d.pa),x.Ha(d.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nE(){}t=nE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wd(){}Wd.prototype.g=function(d,x){return new en(d,x)};function en(d,x){$e.call(this),this.g=new Hk(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(d?d["X-WebChannel-Client-Profile"]=x.va:d={"X-WebChannel-Client-Profile":x.va}),this.g.S=d,(d=x&&x.Sb)&&!v(d)&&(this.g.m=d),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!v(x)&&(this.g.D=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new As(this)}g(en,$e),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ry(this.g)},en.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=ua(d),d=A);x.i.push(new y4(x.Ya++,d)),x.G==3&&Bd(x)},en.prototype.N=function(){this.g.l=null,delete this.j,Ry(this.g),delete this.g,en.aa.N.call(this)};function iE(d){me.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const A in x){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}g(iE,me);function aE(){Oe.call(this),this.status=1}g(aE,Oe);function As(d){this.g=d}g(As,nE),As.prototype.ua=function(){Ve(this.g,"a")},As.prototype.ta=function(d){Ve(this.g,new iE(d))},As.prototype.sa=function(d){Ve(this.g,new aE)},As.prototype.ra=function(){Ve(this.g,"b")},Wd.prototype.createWebChannel=Wd.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,NR=function(){return new Wd},CR=function(){return et()},OR=De,ob={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rd.NO_ERROR=0,Rd.TIMEOUT=8,Rd.HTTP_ERROR=6,Qh=Rd,xk.COMPLETE="complete",IR=xk,Ey.EventType=fa,fa.OPEN="a",fa.CLOSE="b",fa.ERROR="c",fa.MESSAGE="d",$e.prototype.listen=$e.prototype.K,su=Ey,PR=Pc,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,AR=Rt}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const uT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new Jx("@firebase/firestore");function Bc(){return ts.logLevel}function _e(t,...e){if(ts.logLevel<=ze.DEBUG){const r=e.map(u_);ts.debug(`Firestore (${ic}): ${t}`,...r)}}function Ji(t,...e){if(ts.logLevel<=ze.ERROR){const r=e.map(u_);ts.error(`Firestore (${ic}): ${t}`,...r)}}function Al(t,...e){if(ts.logLevel<=ze.WARN){const r=e.map(u_);ts.warn(`Firestore (${ic}): ${t}`,...r)}}function u_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: `+t;throw Ji(e),new Error(e)}function ut(t,e){t||Ie()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends yi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(kr.UNAUTHENTICATED))}shutdown(){}}class y9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class v9{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Bi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bi)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ut(typeof n.accessToken=="string"),new RR(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new kr(e)}}class b9{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class w9{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new b9(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const n=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ut(typeof r.token=="string"),this.R=r.token,new x9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=k9(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Je(t,e){return t<e?-1:t>e?1:0}function Pl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new st(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new st(0,0))}static max(){return new Ce(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ie(),n===void 0?n=e.length-r:n>e.length-r&&Ie(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return cf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof cf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class bt extends cf{construct(e,r,n){return new bt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ge(ee.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new bt(r)}static emptyPath(){return new bt([])}}const E9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends cf{construct(e,r,n){return new dr(e,r,n)}static isValidIdentifier(e){return E9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new ge(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ge(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ge(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new ge(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(r)}static emptyPath(){return new dr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(bt.fromString(e))}static fromName(e){return new ke(bt.fromString(e).popFirst(5))}static empty(){return new ke(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return bt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new bt(e.slice()))}}function S9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(n===1e9?new st(r+1,0):new st(r,n));return new eo(i,ke.empty(),e)}function T9(t){return new eo(t.readTime,t.key,-1)}class eo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new eo(Ce.min(),ke.empty(),-1)}static max(){return new eo(Ce.max(),ke.empty(),-1)}}function A9(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ke.comparator(t.documentKey,e.documentKey),r!==0?r:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==P9)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ie((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ie?r:ie.resolve(r)}catch(r){return ie.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ie.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ie.reject(r)}static resolve(e){return new ie((r,n)=>{r(e)})}static reject(e){return new ie((r,n)=>{n(e)})}static waitFor(e){return new ie((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=ie.resolve(!1);for(const n of e)r=r.next(i=>i?ie.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new ie((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(u=>{o[c]=u,++s,s===a&&n(o)},u=>i(u))}})}static doWhile(e,r){return new ie((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function O9(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function pd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}f_.oe=-1;function hg(t){return t==null}function Bp(t){return t===0&&1/t==-1/0}function C9(t){return typeof t=="number"&&Number.isInteger(t)&&!Bp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function gs(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function DR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.comparator=e,this.root=r||fr.EMPTY}insert(e,r){return new Nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??fr.RED,this.left=i??fr.EMPTY,this.right=a??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new fr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return fr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,r,n,i,a){return this}insert(e,r,n){return new fr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new dT(this.data.getIterator())}getIteratorFrom(e){return new dT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new pr(this.comparator);return r.data=e,r}}class dT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new sn([])}unionWith(e){let r=new pr(dr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new sn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Pl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new MR("Invalid base64 string: "+a):a}}(e);return new gr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new gr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const N9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(t){if(ut(!!t),typeof t=="string"){let e=0;const r=N9.exec(t);if(ut(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rs(t){return typeof t=="string"?gr.fromBase64String(t):gr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function h_(t){const e=t.mapValue.fields.__previous_value__;return d_(e)?h_(e):e}function uf(t){const e=to(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,r,n,i,a,o,s,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c}}class ff{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ff("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?d_(t)?4:D9(t)?9007199254740991:j9(t)?10:11:Ie()}function mi(t,e){if(t===e)return!0;const r=ns(t);if(r!==ns(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uf(t).isEqual(uf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=to(i.timestampValue),s=to(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return rs(i.bytesValue).isEqual(rs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Lt(i.geoPointValue.latitude)===Lt(a.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Lt(i.integerValue)===Lt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Lt(i.doubleValue),s=Lt(a.doubleValue);return o===s?Bp(o)===Bp(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Pl(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(fT(o)!==fT(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!mi(o[l],s[l])))return!1;return!0}(t,e);default:return Ie()}}function df(t,e){return(t.values||[]).find(r=>mi(r,e))!==void 0}function Il(t,e){if(t===e)return 0;const r=ns(t),n=ns(e);if(r!==n)return Je(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Lt(a.integerValue||a.doubleValue),l=Lt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return hT(t.timestampValue,e.timestampValue);case 4:return hT(uf(t),uf(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(a,o){const s=rs(a),l=rs(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=Je(s[c],l[c]);if(u!==0)return u}return Je(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Je(Lt(a.latitude),Lt(o.latitude));return s!==0?s:Je(Lt(a.longitude),Lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pT(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,u;const f=a.fields||{},h=o.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,y=Je(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:pT(p,g)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===ph.mapValue&&o===ph.mapValue)return 0;if(a===ph.mapValue)return 1;if(o===ph.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Je(l[f],u[f]);if(h!==0)return h;const p=Il(s[l[f]],c[u[f]]);if(p!==0)return p}return Je(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function hT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const r=to(t),n=to(e),i=Je(r.seconds,n.seconds);return i!==0?i:Je(r.nanos,n.nanos)}function pT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Il(r[i],n[i]);if(a)return a}return Je(r.length,n.length)}function Ol(t){return sb(t)}function sb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=to(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return rs(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ke.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=sb(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${sb(r.fields[o])}`;return i+"}"}(t.mapValue):Ie()}function mT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lb(t){return!!t&&"integerValue"in t}function p_(t){return!!t&&"arrayValue"in t}function gT(t){return!!t&&"nullValue"in t}function yT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jh(t){return!!t&&"mapValue"in t}function j9(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Su(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gs(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Su(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Su(t.arrayValue.values[r]);return e}return Object.assign({},t)}function D9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Jh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(r)}setAll(e){let r=dr.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Su(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Jh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Jh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){gs(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Hr(Su(this.value))}}function $R(t){const e=[];return gs(t.fields,(r,n)=>{const i=new dr([r]);if(Jh(n)){const a=$R(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Tr(e,0,Ce.min(),Ce.min(),Ce.min(),Hr.empty(),0)}static newFoundDocument(e,r,n,i){return new Tr(e,1,r,Ce.min(),n,i,0)}static newNoDocument(e,r){return new Tr(e,2,r,Ce.min(),Ce.min(),Hr.empty(),0)}static newUnknownDocument(e,r){return new Tr(e,3,r,Ce.min(),Ce.min(),Hr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,r){this.position=e,this.inclusive=r}}function vT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=ke.comparator(ke.fromName(o.referenceValue),r.key):n=Il(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function bT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!mi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,r="asc"){this.field=e,this.dir=r}}function M9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{}class zt extends LR{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new L9(e,r,n):r==="array-contains"?new U9(e,n):r==="in"?new B9(e,n):r==="not-in"?new z9(e,n):r==="array-contains-any"?new W9(e,n):new zt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new F9(e,n):new V9(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Il(r,this.value)):r!==null&&ns(this.value)===ns(r)&&this.matchesComparison(Il(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends LR{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Hn(e,r)}matches(e){return FR(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function FR(t){return t.op==="and"}function VR(t){return $9(t)&&FR(t)}function $9(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function cb(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+Ol(t.value);if(VR(t))return t.filters.map(e=>cb(e)).join(",");{const e=t.filters.map(r=>cb(r)).join(",");return`${t.op}(${e})`}}function UR(t,e){return t instanceof zt?function(n,i){return i instanceof zt&&n.op===i.op&&n.field.isEqual(i.field)&&mi(n.value,i.value)}(t,e):t instanceof Hn?function(n,i){return i instanceof Hn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&UR(o,i.filters[s]),!0):!1}(t,e):void Ie()}function BR(t){return t instanceof zt?function(r){return`${r.field.canonicalString()} ${r.op} ${Ol(r.value)}`}(t):t instanceof Hn?function(r){return r.op.toString()+" {"+r.getFilters().map(BR).join(" ,")+"}"}(t):"Filter"}class L9 extends zt{constructor(e,r,n){super(e,r,n),this.key=ke.fromName(n.referenceValue)}matches(e){const r=ke.comparator(e.key,this.key);return this.matchesComparison(r)}}class F9 extends zt{constructor(e,r){super(e,"in",r),this.keys=zR("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class V9 extends zt{constructor(e,r){super(e,"not-in",r),this.keys=zR("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function zR(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ke.fromName(n.referenceValue))}class U9 extends zt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return p_(r)&&df(r.arrayValue,this.value)}}class B9 extends zt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&df(this.value.arrayValue,r)}}class z9 extends zt{constructor(e,r){super(e,"not-in",r)}matches(e){if(df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!df(this.value.arrayValue,r)}}class W9 extends zt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!p_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>df(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function wT(t,e=null,r=[],n=[],i=null,a=null,o=null){return new q9(t,e,r,n,i,a,o)}function m_(t){const e=Re(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>cb(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),hg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ol(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ol(n)).join(",")),e.ue=r}return e.ue}function g_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!M9(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!UR(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bT(t.startAt,e.startAt)&&bT(t.endAt,e.endAt)}function ub(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function H9(t,e,r,n,i,a,o,s){return new ac(t,e,r,n,i,a,o,s)}function y_(t){return new ac(t)}function xT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WR(t){return t.collectionGroup!==null}function Tu(t){const e=Re(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new pr(dr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new hf(a,n))}),r.has(dr.keyField().canonicalString())||e.ce.push(new hf(dr.keyField(),n))}return e.ce}function fi(t){const e=Re(t);return e.le||(e.le=K9(e,Tu(t))),e.le}function K9(t,e){if(t.limitType==="F")return wT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new hf(i.field,a)});const r=t.endAt?new zp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new zp(t.startAt.position,t.startAt.inclusive):null;return wT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function fb(t,e){const r=t.filters.concat([e]);return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function db(t,e,r){return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function pg(t,e){return g_(fi(t),fi(e))&&t.limitType===e.limitType}function qR(t){return`${m_(fi(t))}|lt:${t.limitType}`}function $s(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>BR(i)).join(", ")}]`),hg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Ol(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Ol(i)).join(",")),`Target(${n})`}(fi(t))}; limitType=${t.limitType})`}function mg(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ke.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Tu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const c=vT(o,s,l);return o.inclusive?c<=0:c<0}(n.startAt,Tu(n),i)||n.endAt&&!function(o,s,l){const c=vT(o,s,l);return o.inclusive?c>=0:c>0}(n.endAt,Tu(n),i))}(t,e)}function G9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HR(t){return(e,r)=>{let n=!1;for(const i of Tu(t)){const a=X9(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function X9(t,e,r){const n=t.field.isKeyField()?ke.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?Il(l,c):Ie()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return DR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new Nt(ke.comparator);function Zi(){return Y9}const KR=new Nt(ke.comparator);function lu(...t){let e=KR;for(const r of t)e=e.insert(r.key,r);return e}function GR(t){let e=KR;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Mo(){return Au()}function XR(){return Au()}function Au(){return new oc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Q9=new Nt(ke.comparator),J9=new pr(ke.comparator);function Ue(...t){let e=J9;for(const r of t)e=e.add(r);return e}const Z9=new pr(Je);function e8(){return Z9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bp(e)?"-0":e}}function YR(t){return{integerValue:""+t}}function t8(t,e){return C9(e)?YR(e):v_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this._=void 0}}function r8(t,e,r){return t instanceof Wp?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&d_(a)&&(a=h_(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof pf?JR(t,e):t instanceof mf?ZR(t,e):function(i,a){const o=QR(i,a),s=_T(o)+_T(i.Pe);return lb(o)&&lb(i.Pe)?YR(s):v_(i.serializer,s)}(t,e)}function n8(t,e,r){return t instanceof pf?JR(t,e):t instanceof mf?ZR(t,e):r}function QR(t,e){return t instanceof qp?function(n){return lb(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Wp extends gg{}class pf extends gg{constructor(e){super(),this.elements=e}}function JR(t,e){const r=ej(e);for(const n of t.elements)r.some(i=>mi(i,n))||r.push(n);return{arrayValue:{values:r}}}class mf extends gg{constructor(e){super(),this.elements=e}}function ZR(t,e){let r=ej(e);for(const n of t.elements)r=r.filter(i=>!mi(i,n));return{arrayValue:{values:r}}}class qp extends gg{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function _T(t){return Lt(t.integerValue||t.doubleValue)}function ej(t){return p_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function i8(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof pf&&i instanceof pf||n instanceof mf&&i instanceof mf?Pl(n.elements,i.elements,mi):n instanceof qp&&i instanceof qp?mi(n.Pe,i.Pe):n instanceof Wp&&i instanceof Wp}(t.transform,e.transform)}class a8{constructor(e,r){this.version=e,this.transformResults=r}}class Tn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yg{}function tj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new b_(t.key,Tn.none()):new md(t.key,t.data,Tn.none());{const r=t.data,n=Hr.empty();let i=new pr(dr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new uo(t.key,n,new sn(i.toArray()),Tn.none())}}function o8(t,e,r){t instanceof md?function(i,a,o){const s=i.value.clone(),l=ET(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof uo?function(i,a,o){if(!Zh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=ET(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(rj(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Pu(t,e,r,n){return t instanceof md?function(a,o,s,l){if(!Zh(a.precondition,o))return s;const c=a.value.clone(),u=ST(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof uo?function(a,o,s,l){if(!Zh(a.precondition,o))return s;const c=ST(a.fieldTransforms,l,o),u=o.data;return u.setAll(rj(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return Zh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function s8(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=QR(n.transform,i||null);a!=null&&(r===null&&(r=Hr.empty()),r.set(n.field,a))}return r||null}function kT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Pl(n,i,(a,o)=>i8(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class md extends yg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uo extends yg{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rj(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function ET(t,e,r){const n=new Map;ut(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,n8(o,s,r[i]))}return n}function ST(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,r8(a,o,e))}return n}class b_ extends yg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l8 extends yg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&o8(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Pu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Pu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=XR();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=tj(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ce.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Pl(this.mutations,e.mutations,(r,n)=>kT(r,n))&&Pl(this.baseMutations,e.baseMutations,(r,n)=>kT(r,n))}}class w_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ut(e.mutations.length===n.length);let i=function(){return Q9}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new w_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,qe;function d8(t){switch(t){default:return Ie();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function nj(t){if(t===void 0)return Ji("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Ut.OK:return ee.OK;case Ut.CANCELLED:return ee.CANCELLED;case Ut.UNKNOWN:return ee.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ee.INTERNAL;case Ut.UNAVAILABLE:return ee.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ee.NOT_FOUND;case Ut.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ut.ABORTED:return ee.ABORTED;case Ut.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ut.DATA_LOSS:return ee.DATA_LOSS;default:return Ie()}}(qe=Ut||(Ut={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=new zo([4294967295,4294967295],0);function TT(t){const e=h8().encode(t),r=new TR;return r.update(e),new Uint8Array(r.digest())}function AT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new zo([r,n],0),new zo([i,a],0)]}class x_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new cu(`Invalid padding: ${r}`);if(n<0)throw new cu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new cu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=zo.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(zo.fromNumber(n)));return i.compare(p8)===1&&(i=new zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=TT(e),[n,i]=AT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new x_(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const r=TT(e),[n,i]=AT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new vg(Ce.min(),i,new Nt(Je),Zi(),Ue())}}class gd{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new gd(n,r,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class ij{constructor(e,r){this.targetId=e,this.me=r}}class aj{constructor(e,r,n=gr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class PT{constructor(){this.fe=0,this.ge=OT(),this.pe=gr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),r=Ue(),n=Ue();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ie()}}),new gd(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=OT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class m8{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zi(),this.qe=IT(),this.Qe=new Nt(Je)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(ub(a))if(n===0){const o=new ke(a.path);this.Ue(r,o,Tr.newNoDocument(o,Ce.min()))}else ut(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=rs(n).toUint8Array()}catch(l){if(l instanceof MR)return Al("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new x_(o,i,a)}catch(l){return Al(l instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&ub(s.target)){const l=new ke(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Tr.newNoDocument(l,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=Ue();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new vg(e,r,this.Qe,this.ke,n);return this.ke=Zi(),this.qe=IT(),this.Qe=new Nt(Je),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new PT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new pr(Je),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||_e("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new PT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function IT(){return new Nt(ke.comparator)}function OT(){return new Nt(ke.comparator)}const g8={asc:"ASCENDING",desc:"DESCENDING"},y8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v8={and:"AND",or:"OR"};class b8{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function hb(t,e){return t.useProto3Json||hg(e)?e:{value:e}}function Hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function w8(t,e){return Hp(t,e.toTimestamp())}function di(t){return ut(!!t),Ce.fromTimestamp(function(r){const n=to(r);return new st(n.seconds,n.nanos)}(t))}function __(t,e){return pb(t,e).canonicalString()}function pb(t,e){const r=function(i){return new bt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function sj(t){const e=bt.fromString(t);return ut(dj(e)),e}function mb(t,e){return __(t.databaseId,e.path)}function wv(t,e){const r=sj(e);if(r.get(1)!==t.databaseId.projectId)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ke(cj(r))}function lj(t,e){return __(t.databaseId,e)}function x8(t){const e=sj(t);return e.length===4?bt.emptyPath():cj(e)}function gb(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cj(t){return ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CT(t,e,r){return{name:mb(t,e),fields:r.value.mapValue.fields}}function _8(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(ut(u===void 0||typeof u=="string"),gr.fromBase64String(u||"")):(ut(u===void 0||u instanceof Buffer||u instanceof Uint8Array),gr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?ee.UNKNOWN:nj(c.code);return new ge(u,c.message||"")}(o);r=new aj(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=wv(t,n.document.name),a=di(n.document.updateTime),o=n.document.createTime?di(n.document.createTime):Ce.min(),s=new Hr({mapValue:{fields:n.document.fields}}),l=Tr.newFoundDocument(i,a,o,s),c=n.targetIds||[],u=n.removedTargetIds||[];r=new ep(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=wv(t,n.document),a=n.readTime?di(n.readTime):Ce.min(),o=Tr.newNoDocument(i,a),s=n.removedTargetIds||[];r=new ep([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=wv(t,n.document),a=n.removedTargetIds||[];r=new ep([],a,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new f8(i,a),s=n.targetId;r=new ij(s,o)}}return r}function k8(t,e){let r;if(e instanceof md)r={update:CT(t,e.key,e.value)};else if(e instanceof b_)r={delete:mb(t,e.key)};else if(e instanceof uo)r={update:CT(t,e.key,e.data),updateMask:N8(e.fieldMask)};else{if(!(e instanceof l8))return Ie();r={verify:mb(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof Wp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof pf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof mf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof qp)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw Ie()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:w8(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie()}(t,e.precondition)),r}function E8(t,e){return t&&t.length>0?(ut(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?di(i.updateTime):di(a);return o.isEqual(Ce.min())&&(o=di(a)),new a8(o,i.transformResults||[])}(r,e))):[]}function S8(t,e){return{documents:[lj(t,e.path)]}}function T8(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=lj(t,i);const a=function(c){if(c.length!==0)return fj(Hn.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Ls(h.field),direction:I8(h.dir)}}(u))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=hb(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:i}}function A8(t){let e=x8(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ut(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];r.where&&(a=function(f){const h=uj(f);return h instanceof Hn&&VR(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(g){return new hf(Fs(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,hg(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new zp(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new zp(p,h)}(r.endAt)),H9(e,i,o,a,s,"F",l,c)}function P8(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function uj(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Fs(r.unaryFilter.field);return zt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Fs(r.unaryFilter.field);return zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fs(r.unaryFilter.field);return zt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fs(r.unaryFilter.field);return zt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(r){return zt.create(Fs(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Hn.create(r.compositeFilter.filters.map(n=>uj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(r.compositeFilter.op))}(t):Ie()}function I8(t){return g8[t]}function O8(t){return y8[t]}function C8(t){return v8[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Fs(t){return dr.fromServerFormat(t.fieldPath)}function fj(t){return t instanceof zt?function(r){if(r.op==="=="){if(yT(r.value))return{unaryFilter:{field:Ls(r.field),op:"IS_NAN"}};if(gT(r.value))return{unaryFilter:{field:Ls(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(yT(r.value))return{unaryFilter:{field:Ls(r.field),op:"IS_NOT_NAN"}};if(gT(r.value))return{unaryFilter:{field:Ls(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(r.field),op:O8(r.op),value:r.value}}}(t):t instanceof Hn?function(r){const n=r.getFilters().map(i=>fj(i));return n.length===1?n[0]:{compositeFilter:{op:C8(r.op),filters:n}}}(t):Ie()}function N8(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function dj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,r,n,i,a=Ce.min(),o=Ce.min(),s=gr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.ct=e}}function j8(t){const e=A8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?db(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this.un=new M8}addToCollectionParentIndex(e,r){return this.un.add(r),ie.resolve()}getCollectionParents(e,r){return ie.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ie.resolve()}deleteFieldIndex(e,r){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,r){return ie.resolve()}getDocumentsMatchingTarget(e,r){return ie.resolve(null)}getIndexType(e,r){return ie.resolve(0)}getFieldIndexes(e,r){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,r){return ie.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,r){return ie.resolve(eo.min())}updateCollectionGroup(e,r,n){return ie.resolve()}updateIndexEntries(e,r){return ie.resolve()}}class M8{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new pr(bt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new pr(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Cl(0)}static kn(){return new Cl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(){this.changes=new oc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ie.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Pu(n.mutation,i,sn.empty(),st.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ue()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ue()){const i=Mo();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=lu();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Mo();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ue()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=Zi();const o=Au(),s=function(){return Au()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof uo)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Pu(u.mutation,c,u.mutation.getFieldMask(),st.now())):o.set(c.key,sn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),r.forEach((c,u)=>{var f;return s.set(c,new L8(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=Au();let i=new Nt((o,s)=>o-s),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||sn.empty();u=s.applyToLocalView(c,u),n.set(l,u);const f=(i.get(s.batchId)||Ue()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,f=XR();u.forEach(h=>{if(!a.has(h)){const p=tj(r.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ie.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return ke.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):WR(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ie.resolve(Mo());let s=-1,l=a;return o.next(c=>ie.forEach(c,(u,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(u)?ie.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Ue())).next(u=>({batchId:s,changes:GR(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ke(r)).next(n=>{let i=lu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=lu();return this.indexManager.getCollectionParents(e,a).next(s=>ie.forEach(s,l=>{const c=function(f,h){return new ac(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Tr.newInvalidDocument(u)))});let s=lu();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Pu(u.mutation,c,sn.empty(),st.now()),mg(r,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ie.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:di(i.createTime)}}(r)),ie.resolve()}getNamedQuery(e,r){return ie.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:j8(i.bundledQuery),readTime:di(i.readTime)}}(r)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(){this.overlays=new Nt(ke.comparator),this.Ir=new Map}getOverlay(e,r){return ie.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Mo();return ie.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),ie.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),ie.resolve()}getOverlaysForCollection(e,r,n){const i=Mo(),a=r.length+1,o=new ke(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Nt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=Mo(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=Mo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return ie.resolve(s)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new u8(r,n));let a=this.Ir.get(r);a===void 0&&(a=Ue(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(){this.sessionToken=gr.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.Tr=new pr(tr.Er),this.dr=new pr(tr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new tr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new tr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new ke(new bt([])),n=new tr(r,e),i=new tr(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ke(new bt([])),n=new tr(r,e),i=new tr(r,e+1);let a=Ue();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new tr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class tr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ke.comparator(e.key,r.key)||Je(e.wr,r.wr)}static Ar(e,r){return Je(e.wr,r.wr)||ke.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new pr(tr.Er)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new c8(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new tr(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ie.resolve(o)}lookupMutationBatch(e,r){return ie.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new tr(r,0),i=new tr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new pr(Je);return r.forEach(i=>{const a=new tr(i,0),o=new tr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),ie.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;ke.isDocumentKey(a)||(a=a.child(""));const o=new tr(new ke(a),0);let s=new pr(Je);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.wr)),!0)},o),ie.resolve(this.Cr(s))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){ut(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ie.forEach(r.mutations,i=>{const a=new tr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new tr(r,0),i=this.br.firstAfterOrEqual(n);return ie.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e){this.Mr=e,this.docs=function(){return new Nt(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ie.resolve(n?n.document.mutableCopy():Tr.newInvalidDocument(r))}getEntries(e,r){let n=Zi();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Tr.newInvalidDocument(i))}),ie.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Zi();const o=r.path,s=new ke(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||A9(T9(u),n)<=0||(i.has(u.key)||mg(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ie()}Or(e,r){return ie.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new q8(this)}getSize(e){return ie.resolve(this.size)}}class q8 extends $8{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ie.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e){this.persistence=e,this.Nr=new oc(r=>m_(r),g_),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new k_,this.targetCount=0,this.kr=Cl.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ie.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Cl(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ie.resolve()}updateTargetData(e,r){return this.Kn(r),ie.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ie.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ie.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ie.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ie.resolve(n)}containsKey(e,r){return ie.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,r){this.qr={},this.overlays={},this.Qr=new f_(0),this.Kr=!1,this.Kr=!0,this.$r=new B8,this.referenceDelegate=e(this),this.Ur=new H8(this),this.indexManager=new D8,this.remoteDocumentCache=function(i){return new W8(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new R8(r),this.Gr=new V8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new U8,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new z8(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){_e("MemoryPersistence","Starting transaction:",e);const i=new G8(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return ie.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class G8 extends I9{constructor(e){super(),this.currentSequenceNumber=e}}class E_{constructor(e){this.persistence=e,this.Jr=new k_,this.Yr=null}static Zr(e){return new E_(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ie.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ie.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ie.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Xr,n=>{const i=ke.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Ce.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ie.or([()=>ie.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Ue(),i=Ue();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new S_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return UF()?8:O9(Or())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new X8;return this.Xi(e,r,o).next(s=>{if(a.result=s,this.zi)return this.es(e,r,o,s.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Bc()<=ze.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",$s(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ie.resolve()):(Bc()<=ze.DEBUG&&_e("QueryEngine","Query:",$s(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Bc()<=ze.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",$s(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(r))):ie.resolve())}Yi(e,r){if(xT(r))return ie.resolve(null);let n=fi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=db(r,null,"F"),n=fi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Ue(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,s);return this.ns(r,c,o,l.readTime)?this.Yi(e,db(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,i){return xT(r)||i.isEqual(Ce.min())?ie.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?ie.resolve(null):(Bc()<=ze.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$s(r)),this.rs(e,o,r,S9(i,-1)).next(s=>s))})}ts(e,r){let n=new pr(HR(e));return r.forEach((i,a)=>{mg(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Bc()<=ze.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",$s(r)),this.Ji.getDocumentsMatchingQuery(e,r,eo.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Nt(Je),this._s=new oc(a=>m_(a),g_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function J8(t,e,r,n){return new Q8(t,e,r,n)}async function hj(t,e){const r=Re(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=Ue();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:s}))})})}function Z8(t,e){const r=Re(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const f=c.batch,h=f.keys();let p=ie.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{const b=c.docVersions.get(g);ut(b!==null),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=Ue();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function pj(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function ez(t,e){const r=Re(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,u.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(a,u.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(gr.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),i=i.insert(f,p),function(y,b,_){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,u)&&s.push(r.Ur.updateTargetData(a,p))});let l=Zi(),c=Ue();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(tz(a,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!n.isEqual(Ce.min())){const u=r.Ur.getLastRemoteSnapshotVersion(a).next(f=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(u)}return ie.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.os=i,a))}function tz(t,e,r){let n=Ue(),i=Ue();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Zi();return r.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):_e("LocalStore","Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function rz(t,e){const r=Re(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function nz(t,e){const r=Re(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,ie.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new ja(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function yb(t,e,r){const n=Re(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!pd(o))throw o;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function NT(t,e,r){const n=Re(t);let i=Ce.min(),a=Ue();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=Re(l),h=f._s.get(u);return h!==void 0?ie.resolve(f.os.get(h)):f.Ur.getTargetData(c,u)}(n,o,fi(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:Ce.min(),r?a:Ue())).next(s=>(iz(n,G9(e),s),{documents:s,Ts:a})))}function iz(t,e,r){let n=t.us.get(e)||Ce.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class RT{constructor(){this.activeTargetIds=e8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class az{constructor(){this.so=new RT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new RT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function xv(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="WebChannelConnection";class cz extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=xv(),l=this.xo(r,n.toUriEncodedString());_e("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,o),this.No(r,l,c,i).then(u=>(_e("RestConnection",`Received RPC '${r}' ${s}: `,u),u),u=>{throw Al("RestConnection",`RPC '${r}' ${s} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ic}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=sz[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=xv();return new Promise((o,s)=>{const l=new AR;l.setWithCredentials(!0),l.listenOnce(IR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qh.NO_ERROR:const u=l.getResponseJson();_e(xr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),o(u);break;case Qh.TIMEOUT:_e(xr,`RPC '${e}' ${a} timed out`),s(new ge(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const f=l.getStatus();if(_e(xr,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(_)>=0?_:ee.UNKNOWN}(p.status);s(new ge(g,p.message))}else s(new ge(ee.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ge(ee.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{_e(xr,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);_e(xr,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const i=xv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=NR(),s=CR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new PR({})),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");_e(xr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);let h=!1,p=!1;const g=new lz({Io:b=>{p?_e(xr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(_e(xr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),_e(xr,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},To:()=>f.close()}),y=(b,_,v)=>{b.listen(_,w=>{try{v(w)}catch(E){setTimeout(()=>{throw E},0)}})};return y(f,su.EventType.OPEN,()=>{p||(_e(xr,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(f,su.EventType.CLOSE,()=>{p||(p=!0,_e(xr,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(f,su.EventType.ERROR,b=>{p||(p=!0,Al(xr,`RPC '${e}' stream ${i} transport errored:`,b),g.So(new ge(ee.UNAVAILABLE,"The operation could not be completed")))}),y(f,su.EventType.MESSAGE,b=>{var _;if(!p){const v=b.data[0];ut(!!v);const w=v,E=w.error||((_=w[0])===null||_===void 0?void 0:_.error);if(E){_e(xr,`RPC '${e}' stream ${i} received error:`,E);const T=E.status;let I=function(P){const O=Ut[P];if(O!==void 0)return nj(O)}(T),S=E.message;I===void 0&&(I=ee.INTERNAL,S="Unknown error status: "+T+" with message "+E.message),p=!0,g.So(new ge(I,S)),f.close()}else _e(xr,`RPC '${e}' stream ${i} received:`,v),g.bo(v)}}),y(s,OR.STAT_EVENT,b=>{b.stat===ob.PROXY?_e(xr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===ob.NOPROXY&&_e(xr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function _v(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){return new b8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,r,n,i,a,o,s,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new mj(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ee.RESOURCE_EXHAUSTED?(Ji(r.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new ge(ee.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uz extends gj{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=_8(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ce.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?di(o.readTime):Ce.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=gb(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=ub(l)?{documents:S8(a,l)}:{query:T8(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=oj(a,o.resumeToken);const c=hb(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ce.min())>0){s.readTime=Hp(a,o.snapshotVersion.toTimestamp());const c=hb(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const n=P8(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=gb(this.serializer),r.removeTarget=e,this.a_(r)}}class fz extends gj{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return ut(!!e.streamToken),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=E8(e.writeResults,e.commitTime),n=di(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=gb(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>k8(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,pb(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(ee.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,pb(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(ee.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class hz{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ji(r),this.D_=!1):_e("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{ys(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Re(l);c.L_.add(4),await yd(c),c.q_.set("Unknown"),c.L_.delete(4),await wg(c)}(this))})}),this.q_=new hz(n,i)}}async function wg(t){if(ys(t))for(const e of t.B_)await e(!0)}async function yd(t){for(const e of t.B_)await e(!1)}function yj(t,e){const r=Re(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),I_(r)?P_(r):sc(r).r_()&&A_(r,e))}function T_(t,e){const r=Re(t),n=sc(r);r.N_.delete(e),n.r_()&&vj(r,e),r.N_.size===0&&(n.r_()?n.o_():ys(r)&&r.q_.set("Unknown"))}function A_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}sc(t).A_(e)}function vj(t,e){t.Q_.xe(e),sc(t).R_(e)}function P_(t){t.Q_=new m8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),sc(t).start(),t.q_.v_()}function I_(t){return ys(t)&&!sc(t).n_()&&t.N_.size>0}function ys(t){return Re(t).L_.size===0}function bj(t){t.Q_=void 0}async function mz(t){t.q_.set("Online")}async function gz(t){t.N_.forEach((e,r)=>{A_(t,e)})}async function yz(t,e){bj(t),I_(t)?(t.q_.M_(e),P_(t)):t.q_.set("Unknown")}async function vz(t,e,r){if(t.q_.set("Online"),e instanceof aj&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(n){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Kp(t,n)}else if(e instanceof ep?t.Q_.Ke(e):e instanceof ij?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ce.min()))try{const n=await pj(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.N_.get(c);u&&a.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a.N_.get(l);if(!u)return;a.N_.set(l,u.withResumeToken(gr.EMPTY_BYTE_STRING,u.snapshotVersion)),vj(a,l);const f=new ja(u.target,l,c,u.sequenceNumber);A_(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){_e("RemoteStore","Failed to raise snapshot:",n),await Kp(t,n)}}async function Kp(t,e,r){if(!pd(e))throw e;t.L_.add(1),await yd(t),t.q_.set("Offline"),r||(r=()=>pj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await wg(t)})}function wj(t,e){return e().catch(r=>Kp(t,r,e))}async function xg(t){const e=Re(t),r=ro(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;bz(e);)try{const i=await rz(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,wz(e,i)}catch(i){await Kp(e,i)}xj(e)&&_j(e)}function bz(t){return ys(t)&&t.O_.length<10}function wz(t,e){t.O_.push(e);const r=ro(t);r.r_()&&r.V_&&r.m_(e.mutations)}function xj(t){return ys(t)&&!ro(t).n_()&&t.O_.length>0}function _j(t){ro(t).start()}async function xz(t){ro(t).p_()}async function _z(t){const e=ro(t);for(const r of t.O_)e.m_(r.mutations)}async function kz(t,e,r){const n=t.O_.shift(),i=w_.from(n,e,r);await wj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xg(t)}async function Ez(t,e){e&&ro(t).V_&&await async function(n,i){if(function(o){return d8(o)&&o!==ee.ABORTED}(i.code)){const a=n.O_.shift();ro(n).s_(),await wj(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await xg(n)}}(t,e),xj(t)&&_j(t)}async function DT(t,e){const r=Re(t);r.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const n=ys(r);r.L_.add(3),await yd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await wg(r)}async function Sz(t,e){const r=Re(t);e?(r.L_.delete(2),await wg(r)):e||(r.L_.add(2),await yd(r),r.q_.set("Unknown"))}function sc(t){return t.K_||(t.K_=function(r,n,i){const a=Re(r);return a.w_(),new uz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:mz.bind(null,t),Ro:gz.bind(null,t),mo:yz.bind(null,t),d_:vz.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),I_(t)?P_(t):t.q_.set("Unknown")):(await t.K_.stop(),bj(t))})),t.K_}function ro(t){return t.U_||(t.U_=function(r,n,i){const a=Re(r);return a.w_(),new fz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xz.bind(null,t),mo:Ez.bind(null,t),f_:_z.bind(null,t),g_:kz.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await xg(t)):(await t.U_.stop(),t.O_.length>0&&(_e("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new O_(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C_(t,e){if(Ji("AsyncQueue",`${e}: ${t}`),pd(t))return new ge(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ke.comparator(r.key,n.key):(r,n)=>ke.comparator(r.key,n.key),this.keyedMap=lu(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new ml(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new ml;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.W_=new Nt(ke.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Nl{constructor(e,r,n,i,a,o,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new Nl(e,r,ml.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Az{constructor(){this.queries=$T(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Re(r),a=i.queries;i.queries=$T(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new ge(ee.ABORTED,"Firestore shutting down"))}}function $T(){return new oc(t=>qR(t),pg)}async function kj(t,e){const r=Re(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new Tz,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=C_(o,`Initialization of query '${$s(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&N_(r)}async function Ej(t,e){const r=Re(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Pz(t,e){const r=Re(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&N_(r)}function Iz(t,e,r){const n=Re(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function N_(t){t.Y_.forEach(e=>{e.next()})}var vb,LT;(LT=vb||(vb={})).ea="default",LT.Cache="cache";class Sj{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Nl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.key=e}}class Aj{constructor(e){this.key=e}}class Oz{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=HR(e),this.Ra=new ml(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new MT,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=mg(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(n.track({type:3,doc:p}),b=!0):this.ga(h,p)||(n.track({type:2,doc:p}),b=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),b=!0):h&&!p&&(n.track({type:1,doc:h}),b=!0,(l||c)&&(s=!0)),b&&(p?(o=o.add(p),a=y?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,f)=>function(p,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return y(p)-y(g)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Nl(this.query,e.Ra,a,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new MT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ue(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new Aj(n))}),this.da.forEach(n=>{e.has(n)||r.push(new Tj(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ue();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Nl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Cz{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Nz{constructor(e){this.key=e,this.va=!1}}class Rz{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new oc(s=>qR(s),pg),this.Ma=new Map,this.xa=new Set,this.Oa=new Nt(ke.comparator),this.Na=new Map,this.La=new k_,this.Ba={},this.ka=new Map,this.qa=Cl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function jz(t,e,r=!0){const n=Rj(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await Pj(n,e,r,!0),i}async function Dz(t,e){const r=Rj(t);await Pj(r,e,!0,!1)}async function Pj(t,e,r,n){const i=await nz(t.localStore,fi(e)),a=i.targetId,o=r?t.sharedClientState.addLocalQueryTarget(a):"not-current";let s;return n&&(s=await Mz(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&yj(t.remoteStore,i),s}async function Mz(t,e,r,n,i){t.Ka=(f,h,p)=>async function(y,b,_,v){let w=b.view.ma(_);w.ns&&(w=await NT(y.localStore,b.query,!1).then(({documents:S})=>b.view.ma(S,w)));const E=v&&v.targetChanges.get(b.targetId),T=v&&v.targetMismatches.get(b.targetId)!=null,I=b.view.applyChanges(w,y.isPrimaryClient,E,T);return VT(y,b.targetId,I.wa),I.snapshot}(t,f,h,p);const a=await NT(t.localStore,e,!0),o=new Oz(e,a.Ts),s=o.ma(a.documents),l=gd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);VT(t,r,c.wa);const u=new Cz(e,r,o);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function $z(t,e,r){const n=Re(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!pg(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await yb(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&T_(n.remoteStore,i.targetId),bb(n,i.targetId)}).catch(hd)):(bb(n,i.targetId),await yb(n.localStore,i.targetId,!0))}async function Lz(t,e){const r=Re(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),T_(r.remoteStore,n.targetId))}async function Fz(t,e,r){const n=Hz(t);try{const i=await function(o,s){const l=Re(o),c=st.now(),u=s.reduce((p,g)=>p.add(g.key),Ue());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Zi(),y=Ue();return l.cs.getEntries(p,u).next(b=>{g=b,g.forEach((_,v)=>{v.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(b=>{f=b;const _=[];for(const v of s){const w=s8(v,f.get(v.key).overlayedDocument);w!=null&&_.push(new uo(v.key,w,$R(w.value.mapValue),Tn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,s)}).next(b=>{h=b;const _=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,_)})}).then(()=>({batchId:h.batchId,changes:GR(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Nt(Je)),c=c.insert(s,l),o.Ba[o.currentUser.toKey()]=c}(n,i.batchId,r),await vd(n,i.changes),await xg(n.remoteStore)}catch(i){const a=C_(i,"Failed to persist write");r.reject(a)}}async function Ij(t,e){const r=Re(t);try{const n=await ez(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ut(o.va):i.removedDocuments.size>0&&(ut(o.va),o.va=!1))}),await vd(r,n,e)}catch(n){await hd(n)}}function FT(t,e,r){const n=Re(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Re(o);l.onlineState=s;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.j_)h.Z_(s)&&(c=!0)}),c&&N_(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Vz(t,e,r){const n=Re(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new Nt(ke.comparator);o=o.insert(a,Tr.newNoDocument(a,Ce.min()));const s=Ue().add(a),l=new vg(Ce.min(),new Map,new Nt(Je),o,s);await Ij(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(e),R_(n)}else await yb(n.localStore,e,!1).then(()=>bb(n,e,r)).catch(hd)}async function Uz(t,e){const r=Re(t),n=e.batch.batchId;try{const i=await Z8(r.localStore,e);Cj(r,n,null),Oj(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await vd(r,i)}catch(i){await hd(i)}}async function Bz(t,e,r){const n=Re(t);try{const i=await function(o,s){const l=Re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(f=>(ut(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);Cj(n,e,r),Oj(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await vd(n,i)}catch(i){await hd(i)}}function Oj(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function Cj(t,e,r){const n=Re(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function bb(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||Nj(t,n)})}function Nj(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(T_(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),R_(t))}function VT(t,e,r){for(const n of r)n instanceof Tj?(t.La.addReference(n.key,e),zz(t,n)):n instanceof Aj?(_e("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||Nj(t,n.key)):Ie()}function zz(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(_e("SyncEngine","New document in limbo: "+r),t.xa.add(n),R_(t))}function R_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new ke(bt.fromString(e)),n=t.qa.next();t.Na.set(n,new Nz(r)),t.Oa=t.Oa.insert(r,n),yj(t.remoteStore,new ja(fi(y_(r.path)),n,"TargetPurposeLimboResolution",f_.oe))}}async function vd(t,e,r){const n=Re(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=S_.Wi(l.targetId,c);a.push(f)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,c){const u=Re(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ie.forEach(c,h=>ie.forEach(h.$i,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ie.forEach(h.Ui,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!pd(f))throw f;_e("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.os.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(h,y)}}}(n.localStore,a))}async function Wz(t,e){const r=Re(t);if(!r.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const n=await hj(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new ge(ee.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await vd(r,n.hs)}}function qz(t,e){const r=Re(t),n=r.Na.get(e);if(n&&n.va)return Ue().add(n.key);{let i=Ue();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function Rj(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ij.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vz.bind(null,e),e.Ca.d_=Pz.bind(null,e.eventManager),e.Ca.$a=Iz.bind(null,e.eventManager),e}function Hz(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bz.bind(null,e),e}class UT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=bg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return J8(this.persistence,new Y8,e.initialUser,this.serializer)}createPersistence(e){return new K8(E_.Zr,this.serializer)}createSharedClientState(e){return new az}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Kz{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>FT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wz.bind(null,this.syncEngine),await Sz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Az}()}createDatastore(e){const r=bg(e.databaseInfo.databaseId),n=function(a){return new cz(a)}(e.databaseInfo);return function(a,o,s,l){return new dz(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new pz(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>FT(this.syncEngine,r,0),function(){return jT.D()?new jT:new oz}())}createSyncEngine(e,r){return function(i,a,o,s,l,c,u){const f=new Rz(i,a,o,s,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Re(i);_e("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await yd(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,r,n,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=kr.UNAUTHENTICATED,this.clientId=jR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async a=>{_e("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(_e("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=C_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function kv(t,e){t.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await hj(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function BT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Yz(t);_e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>DT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>DT(e.remoteStore,i)),t._onlineComponents=e}function Xz(t){return t.name==="FirebaseError"?t.code===ee.FAILED_PRECONDITION||t.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Yz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await kv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Xz(r))throw r;Al("Error using user provided cache. Falling back to memory cache: "+r),await kv(t,new UT)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await kv(t,new UT);return t._offlineComponents}async function Dj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await BT(t,t._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await BT(t,new Kz))),t._onlineComponents}function Qz(t){return Dj(t).then(e=>e.syncEngine)}async function Mj(t){const e=await Dj(t),r=e.eventManager;return r.onListen=jz.bind(null,e.syncEngine),r.onUnlisten=$z.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Dz.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Lz.bind(null,e.syncEngine),r}function Jz(t,e,r={}){const n=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new jj({next:h=>{o.enqueueAndForget(()=>Ej(a,f));const p=h.docs.has(s);!p&&h.fromCache?c.reject(new ge(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new ge(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Sj(y_(s.path),u,{includeMetadataChanges:!0,_a:!0});return kj(a,f)}(await Mj(t),t.asyncQueue,e,r,n)),n.promise}function Zz(t,e,r={}){const n=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new jj({next:h=>{o.enqueueAndForget(()=>Ej(a,f)),h.fromCache&&l.source==="server"?c.reject(new ge(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Sj(s,u,{includeMetadataChanges:!0,_a:!0});return kj(a,f)}(await Mj(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t,e,r){if(!r)throw new ge(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function e7(t,e,r,n){if(e===!0&&n===!0)throw new ge(ee.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function WT(t){if(!ke.isDocumentKey(t))throw new ge(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qT(t){if(ke.isDocumentKey(t))throw new ge(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _g(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function Kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=_g(t);throw new ge(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$j((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kg{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new g9;switch(n.type){case"firstParty":return new w9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ge(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=zT.get(r);n&&(_e("ComponentProvider","Removing Datastore"),zT.delete(r),n.terminate())}(this),Promise.resolve()}}function t7(t,e,r,n={}){var i;const a=(t=Kn(t,kg))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=kr.MOCK_USER;else{s=VN(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new ge(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kr(c)}t._authCredentials=new y9(new RR(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class Vr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class Ka extends vs{constructor(e,r,n){super(e,r,y_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new ke(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function Jr(t,e,...r){if(t=Ct(t),Lj("collection","path",e),t instanceof kg){const n=bt.fromString(e,...r);return qT(n),new Ka(t,null,n)}{if(!(t instanceof Vr||t instanceof Ka))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(bt.fromString(e,...r));return qT(n),new Ka(t.firestore,null,n)}}function At(t,e,...r){if(t=Ct(t),arguments.length===1&&(e=jR.newId()),Lj("doc","path",e),t instanceof kg){const n=bt.fromString(e,...r);return WT(n),new Vr(t,null,new ke(n))}{if(!(t instanceof Vr||t instanceof Ka))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(bt.fromString(e,...r));return WT(n),new Vr(t.firestore,t instanceof Ka?t.converter:null,new ke(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new mj(this,"async_queue_retry"),this.Eu=()=>{const r=_v();r&&_e("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()};const e=_v();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const r=_v();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const r=new Bi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!pd(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const r=this.au.then(()=>(this.Pu=!0,e().catch(n=>{this.hu=n,this.Pu=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw Ji("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Pu=!1,n))));return this.au=r,r}enqueueAfterDelay(e,r,n){this.du(),this.Tu.indexOf(e)>-1&&(r=0);const i=O_.createAndSchedule(this,e,r,n,a=>this.Vu(a));return this.lu.push(i),i}du(){this.hu&&Ie()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const r of this.lu)if(r.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.lu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const r=this.lu.indexOf(e);this.lu.splice(r,1)}}class bs extends kg{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=function(){return new r7}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Fj(this),this._firestoreClient.terminate()}}function n7(t,e){const r=typeof t=="object"?t:e_(),n=typeof t=="string"?t:"(default)",i=cg(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=$N("firestore");a&&t7(i,...a)}return i}function j_(t){return t._firestoreClient||Fj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Fj(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,c,u){return new R9(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,$j(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Gz(t._authCredentials,t._appCheckCredentials,t._queue,a),!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rl(gr.fromBase64String(e))}catch(r){throw new ge(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Rl(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ge(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ge(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ge(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=/^__.*__$/;class a7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,r,this.fieldTransforms):new md(e,this.data,r,this.fieldTransforms)}}class Vj{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new uo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Uj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class L_{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.yu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new L_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Su({path:n,Du:!1});return i.vu(e),i}Cu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Su({path:n,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Gp(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(Uj(this.wu)&&i7.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class o7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||bg(e)}Nu(e,r,n,i=!1){return new L_({wu:e,methodName:r,Ou:n,path:dr.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sg(t){const e=t._freezeSettings(),r=bg(t._databaseId);return new o7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Bj(t,e,r,n,i,a={}){const o=t.Nu(a.merge||a.mergeFields?2:0,e,r,i);F_("Data must be an object, but it was:",o,n);const s=zj(n,o);let l,c;if(a.merge)l=new sn(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const h=wb(e,f,r);if(!o.contains(h))throw new ge(ee.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);qj(u,h)||u.push(h)}l=new sn(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new a7(new Hr(s),l,c)}class Tg extends D_{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tg}}function s7(t,e,r,n){const i=t.Nu(1,e,r);F_("Data must be an object, but it was:",i,n);const a=[],o=Hr.empty();gs(n,(l,c)=>{const u=V_(e,l,r);c=Ct(c);const f=i.Cu(u);if(c instanceof Tg)a.push(u);else{const h=bd(c,f);h!=null&&(a.push(u),o.set(u,h))}});const s=new sn(a);return new Vj(o,s,i.fieldTransforms)}function l7(t,e,r,n,i,a){const o=t.Nu(1,e,r),s=[wb(e,n,r)],l=[i];if(a.length%2!=0)throw new ge(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(wb(e,a[h])),l.push(a[h+1]);const c=[],u=Hr.empty();for(let h=s.length-1;h>=0;--h)if(!qj(c,s[h])){const p=s[h];let g=l[h];g=Ct(g);const y=o.Cu(p);if(g instanceof Tg)c.push(p);else{const b=bd(g,y);b!=null&&(c.push(p),u.set(p,b))}}const f=new sn(c);return new Vj(u,f,o.fieldTransforms)}function c7(t,e,r,n=!1){return bd(r,t.Nu(n?4:3,e))}function bd(t,e){if(Wj(t=Ct(t)))return F_("Unsupported field value:",e,t),zj(t,e);if(t instanceof D_)return function(n,i){if(!Uj(i.wu))throw i.Mu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=bd(s,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Ct(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return t8(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=st.fromDate(n);return{timestampValue:Hp(i.serializer,a)}}if(n instanceof st){const a=new st(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Hp(i.serializer,a)}}if(n instanceof M_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Rl)return{bytesValue:oj(i.serializer,n._byteString)};if(n instanceof Vr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:__(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof $_)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Mu("VectorValues must only contain numeric values.");return v_(s.serializer,l)})}}}}}}(n,i);throw i.Mu(`Unsupported field value: ${_g(n)}`)}(t,e)}function zj(t,e){const r={};return DR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(t,(n,i)=>{const a=bd(i,e.bu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function Wj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof M_||t instanceof Rl||t instanceof Vr||t instanceof D_||t instanceof $_)}function F_(t,e,r){if(!Wj(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=_g(r);throw n==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+n)}}function wb(t,e,r){if((e=Ct(e))instanceof Eg)return e._internalPath;if(typeof e=="string")return V_(t,e);throw Gp("Field path arguments must be of type string or ",t,!1,void 0,r)}const u7=new RegExp("[~\\*/\\[\\]]");function V_(t,e,r){if(e.search(u7)>=0)throw Gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Eg(...e.split("."))._internalPath}catch{throw Gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Gp(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new ge(ee.INVALID_ARGUMENT,s+t+l)}function qj(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(U_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class f7 extends Hj{data(){return super.data()}}function U_(t,e){return typeof e=="string"?V_(t,e):e instanceof Eg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B_{}class Kj extends B_{}function Gj(t,e,...r){let n=[];e instanceof B_&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof W_).length,s=a.filter(l=>l instanceof z_).length;if(o>1||o>0&&s>0)throw new ge(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class z_ extends Kj{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new z_(e,r,n)}_apply(e){const r=this._parse(e);return Yj(e._query,r),new vs(e.firestore,e.converter,fb(e._query,r))}_parse(e){const r=Sg(e.firestore);return function(a,o,s,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ge(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){GT(f,u);const p=[];for(const g of f)p.push(KT(l,a,g));h={arrayValue:{values:p}}}else h=KT(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||GT(f,u),h=c7(s,o,f,u==="in"||u==="not-in");return zt.create(c,u,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class W_ extends B_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new W_(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Hn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)Yj(o,l),o=fb(o,l)}(e._query,r),new vs(e.firestore,e.converter,fb(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class q_ extends Kj{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new q_(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hf(a,o)}(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new ac(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Xj(t,e="asc"){const r=e,n=U_("orderBy",t);return q_._create(n,r)}function KT(t,e,r){if(typeof(r=Ct(r))=="string"){if(r==="")throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WR(e)&&r.indexOf("/")!==-1)throw new ge(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(bt.fromString(r));if(!ke.isDocumentKey(n))throw new ge(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return mT(t,new ke(n))}if(r instanceof Vr)return mT(t,r._key);throw new ge(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_g(r)}.`)}function GT(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yj(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ge(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class h7{convertValue(e,r="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return gs(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Lt(o.doubleValue));return new $_(a)}convertGeoPoint(e){return new M_(Lt(e.latitude),Lt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=h_(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(uf(e));default:return null}}convertTimestamp(e){const r=to(e);return new st(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=bt.fromString(e);ut(dj(n));const i=new ff(n.get(1),n.get(3)),a=new ke(n.popFirst(5));return i.isEqual(r)||Ji(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jj extends Hj{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(U_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class tp extends Jj{data(e={}){return super.data(e)}}class p7{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new uu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new tp(this._firestore,this._userDataWriter,n.key,n,new uu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ge(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new tp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new uu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new tp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new uu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:m7(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function m7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){t=Kn(t,Vr);const e=Kn(t.firestore,bs);return Jz(j_(e),t._key).then(r=>g7(e,t,r))}class Zj extends h7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,r)}}function vi(t){t=Kn(t,vs);const e=Kn(t.firestore,bs),r=j_(e),n=new Zj(e);return d7(t._query),Zz(r,t._query).then(i=>new p7(e,n,t,i))}function eD(t,e,r){t=Kn(t,Vr);const n=Kn(t.firestore,bs),i=Qj(t.converter,e,r);return Pg(n,[Bj(Sg(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Tn.none())])}function ho(t,e,r,...n){t=Kn(t,Vr);const i=Kn(t.firestore,bs),a=Sg(i);let o;return o=typeof(e=Ct(e))=="string"||e instanceof Eg?l7(a,"updateDoc",t._key,e,r,n):s7(a,"updateDoc",t._key,e),Pg(i,[o.toMutation(t._key,Tn.exists(!0))])}function Ag(t){return Pg(Kn(t.firestore,bs),[new b_(t._key,Tn.none())])}function H_(t,e){const r=Kn(t.firestore,bs),n=At(t),i=Qj(t.converter,e);return Pg(r,[Bj(Sg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Tn.exists(!1))]).then(()=>n)}function Pg(t,e){return function(n,i){const a=new Bi;return n.asyncQueue.enqueueAndForget(async()=>Fz(await Qz(n),i,a)),a.promise}(j_(t),e)}function g7(t,e,r){const n=r.docs.get(e._key),i=new Zj(t);return new Jj(t,i,e._key,n,new uu(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){ic=i})(ps),Jo(new Za("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new bs(new v9(n.getProvider("auth-internal")),new _9(n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ge(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(c.options.projectId,u)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),li(uT,"4.7.1",e),li(uT,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="firebasestorage.googleapis.com",rD="storageBucket",y7=2*60*1e3,v7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends yi{constructor(e,r,n=0){super(Ev(e),`Firebase Storage: ${r} (${Ev(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ev(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dt||(Dt={}));function Ev(t){return"storage/"+t}function K_(){const t="An unknown error occurred, please check the error payload for server response.";return new Mt(Dt.UNKNOWN,t)}function b7(t){return new Mt(Dt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function w7(t){return new Mt(Dt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function x7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(Dt.UNAUTHENTICATED,t)}function _7(){return new Mt(Dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function k7(t){return new Mt(Dt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function E7(){return new Mt(Dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function S7(){return new Mt(Dt.CANCELED,"User canceled the upload/download.")}function T7(t){return new Mt(Dt.INVALID_URL,"Invalid URL '"+t+"'.")}function A7(t){return new Mt(Dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function P7(){return new Mt(Dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rD+"' property when initializing the app?")}function I7(){return new Mt(Dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function O7(){return new Mt(Dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C7(t){return new Mt(Dt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xb(t){return new Mt(Dt.INVALID_ARGUMENT,t)}function nD(){return new Mt(Dt.APP_DELETED,"The Firebase app was deleted.")}function N7(t){return new Mt(Dt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Iu(t,e){return new Mt(Dt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function zc(t){throw new Mt(Dt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Dr.makeFromUrl(e,r)}catch{return new Dr(e,"")}if(n.path==="")return n;throw A7(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},y=r===tD?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",_=new RegExp(`^https?://${y}/${i}/${b}`,"i"),w=[{regex:s,indices:l,postModify:a},{regex:p,indices:g,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<w.length;E++){const T=w[E],I=T.regex.exec(e);if(I){const S=I[T.indices.bucket];let k=I[T.indices.path];k||(k=""),n=new Dr(S,k),T.postModify(n);break}}if(n==null)throw T7(e);return n}}class R7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function u(...b){c||(c=!0,e.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(p,l())},b)}function h(){a&&clearTimeout(a)}function p(b,..._){if(c){h();return}if(b){h(),u.call(null,b,..._);return}if(l()||o){h(),u.call(null,b,..._);return}n<64&&(n*=2);let w;s===1?(s=2,w=0):w=(n+Math.random())*1e3,f(w)}let g=!1;function y(b){g||(g=!0,h(),!c&&(i!==null?(b||(s=2),clearTimeout(i),f(0)):b||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,y(!0)},r),y}function D7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t){return t!==void 0}function $7(t){return typeof t=="object"&&!Array.isArray(t)}function G_(t){return typeof t=="string"||t instanceof String}function XT(t){return X_()&&t instanceof Blob}function X_(){return typeof Blob<"u"}function _b(t,e,r,n){if(n<e)throw xb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw xb(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function iD(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Wo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wo||(Wo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,r,n,i,a,o,s,l,c,u,f,h=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new gh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===Wo.NO_ERROR,l=a.getStatus();if(!s||L7(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===Wo.ABORT;n(!1,new gh(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new gh(c,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());M7(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=K_();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?nD():S7();o(l)}else{const l=E7();o(l)}};this.canceled_?r(!1,new gh(!1,null,!0)):this.backoffId_=j7(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&D7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gh{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function V7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function U7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function B7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function z7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function W7(t,e,r,n,i,a,o=!0){const s=iD(t.urlParams),l=t.url+s,c=Object.assign({},t.headers);return B7(c,e),V7(c,r),U7(c,a),z7(c,n),new F7(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function H7(...t){const e=q7();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(X_())return new Blob(t);throw new Mt(Dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function K7(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t){if(typeof atob>"u")throw C7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sv{constructor(e,r){this.data=e,this.contentType=r||null}}function X7(t,e){switch(t){case ii.RAW:return new Sv(aD(e));case ii.BASE64:case ii.BASE64URL:return new Sv(oD(t,e));case ii.DATA_URL:return new Sv(Q7(e),J7(e))}throw K_()}function aD(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Y7(t){let e;try{e=decodeURIComponent(t)}catch{throw Iu(ii.DATA_URL,"Malformed data URL.")}return aD(e)}function oD(t,e){switch(t){case ii.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Iu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ii.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Iu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=G7(e)}catch(i){throw i.message.includes("polyfill")?i:Iu(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class sD{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Iu(ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Z7(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Q7(t){const e=new sD(t);return e.base64?oD(ii.BASE64,e.rest):Y7(e.rest)}function J7(t){return new sD(t).contentType}function Z7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,r){let n=0,i="";XT(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(XT(this.data_)){const n=this.data_,i=K7(n,e,r);return i===null?null:new Ia(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Ia(n,!0)}}static getBlob(...e){if(X_()){const r=e.map(n=>n instanceof Ia?n.data_:n);return new Ia(H7.apply(null,r))}else{const r=e.map(o=>G_(o)?X7(ii.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new Ia(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){let e;try{e=JSON.parse(t)}catch{return null}return $7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function tW(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function lD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t,e){return e}class Cr{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||rW}}let yh=null;function nW(t){return!G_(t)||t.length<2?t:lD(t)}function cD(){if(yh)return yh;const t=[];t.push(new Cr("bucket")),t.push(new Cr("generation")),t.push(new Cr("metageneration")),t.push(new Cr("name","fullPath",!0));function e(a,o){return nW(o)}const r=new Cr("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new Cr("size");return i.xform=n,t.push(i),t.push(new Cr("timeCreated")),t.push(new Cr("updated")),t.push(new Cr("md5Hash",null,!0)),t.push(new Cr("cacheControl",null,!0)),t.push(new Cr("contentDisposition",null,!0)),t.push(new Cr("contentEncoding",null,!0)),t.push(new Cr("contentLanguage",null,!0)),t.push(new Cr("contentType",null,!0)),t.push(new Cr("metadata","customMetadata",!0)),yh=t,yh}function iW(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Dr(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function aW(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return iW(n,t),n}function uD(t,e,r){const n=Y_(e);return n===null?null:aW(t,n,r)}function oW(t,e,r,n){const i=Y_(e);if(i===null||!G_(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+o(u)+"/o/"+o(f),p=Ig(h,r,n),g=iD({alt:"media",token:c});return p+g})[0]}function sW(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="prefixes",QT="items";function lW(t,e,r){const n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[YT])for(const i of r[YT]){const a=i.replace(/\/$/,""),o=t._makeStorageReference(new Dr(e,a));n.prefixes.push(o)}if(r[QT])for(const i of r[QT]){const a=t._makeStorageReference(new Dr(e,i.name));n.items.push(a)}return n}function cW(t,e,r){const n=Y_(r);return n===null?null:lW(t,e,n)}class Q_{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){if(!t)throw K_()}function uW(t,e){function r(n,i){const a=uD(t,i,e);return J_(a!==null),a}return r}function fW(t,e){function r(n,i){const a=cW(t,e,i);return J_(a!==null),a}return r}function dW(t,e){function r(n,i){const a=uD(t,i,e);return J_(a!==null),oW(a,i,t.host,t._protocol)}return r}function Z_(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=_7():i=x7():r.getStatus()===402?i=w7(t.bucket):r.getStatus()===403?i=k7(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function hW(t){const e=Z_(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=b7(t.path)),a.serverResponse=i.serverResponse,a}return r}function pW(t,e,r,n,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",r.length>0&&(a.delimiter=r),n&&(a.pageToken=n),i&&(a.maxResults=i);const o=e.bucketOnlyServerUrl(),s=Ig(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,u=new Q_(s,l,fW(t,e.bucket),c);return u.urlParams=a,u.errorHandler=Z_(e),u}function mW(t,e,r){const n=e.fullServerUrl(),i=Ig(n,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new Q_(i,a,dW(t,r),o);return s.errorHandler=hW(e),s}function gW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yW(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=gW(null,e)),n}function vW(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const c=yW(e,n,i),u=sW(c,r),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Ia.getBlob(f,n,h);if(p===null)throw I7();const g={name:c.fullPath},y=Ig(a,t.host,t._protocol),b="POST",_=t.maxUploadRetryTime,v=new Q_(y,b,uW(t,r),_);return v.urlParams=g,v.headers=o,v.body=p.uploadData(),v.errorHandler=Z_(e),v}class bW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw zc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wW extends bW{initXhr(){this.xhr_.responseType="text"}}function e1(){return new wW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,r){this._service=e,r instanceof Dr?this._location=r:this._location=Dr.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new is(e,r)}get root(){const e=new Dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lD(this._location.path)}get storage(){return this._service}get parent(){const e=eW(this._location.path);if(e===null)return null;const r=new Dr(this._location.bucket,e);return new is(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw N7(e)}}function xW(t,e,r){t._throwIfRoot("uploadBytes");const n=vW(t.storage,t._location,cD(),new Ia(e,!0),r);return t.storage.makeRequestWithTokens(n,e1).then(i=>({metadata:i,ref:t}))}function _W(t){const e={prefixes:[],items:[]};return fD(t,e).then(()=>e)}async function fD(t,e,r){const i=await kW(t,{pageToken:r});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await fD(t,e,i.nextPageToken)}function kW(t,e){e!=null&&typeof e.maxResults=="number"&&_b("options.maxResults",1,1e3,e.maxResults);const r=e||{},n=pW(t.storage,t._location,"/",r.pageToken,r.maxResults);return t.storage.makeRequestWithTokens(n,e1)}function EW(t){t._throwIfRoot("getDownloadURL");const e=mW(t.storage,t._location,cD());return t.storage.makeRequestWithTokens(e,e1).then(r=>{if(r===null)throw O7();return r})}function SW(t,e){const r=tW(t._location.path,e),n=new Dr(t._location.bucket,r);return new is(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(t){return/^[A-Za-z]+:\/\//.test(t)}function AW(t,e){return new is(t,e)}function dD(t,e){if(t instanceof t1){const r=t;if(r._bucket==null)throw P7();const n=new is(r,r._bucket);return e!=null?dD(n,e):n}else return e!==void 0?SW(t,e):t}function PW(t,e){if(e&&TW(e)){if(t instanceof t1)return AW(t,e);throw xb("To use ref(service, url), the first argument must be a Storage instance.")}else return dD(t,e)}function JT(t,e){const r=e==null?void 0:e[rD];return r==null?null:Dr.makeFromBucketSpec(r,t)}function IW(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:VN(i,t.app.options.projectId))}class t1{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=tD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=y7,this._maxUploadRetryTime=v7,this._requests=new Set,i!=null?this._bucket=Dr.makeFromBucketSpec(i,this._host):this._bucket=JT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dr.makeFromBucketSpec(this._url,e):this._bucket=JT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_b("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_b("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new is(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new R7(nD());{const o=W7(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const ZT="@firebase/storage",eA="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="storage";function OW(t,e,r){return t=Ct(t),xW(t,e,r)}function CW(t){return t=Ct(t),_W(t)}function r1(t){return t=Ct(t),EW(t)}function n1(t,e){return t=Ct(t),PW(t,e)}function NW(t=e_(),e){t=Ct(t);const n=cg(t,hD).getImmediate({identifier:e}),i=$N("storage");return i&&RW(n,...i),n}function RW(t,e,r,n={}){IW(t,e,r,n)}function jW(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new t1(r,n,i,e,ps)}function DW(){Jo(new Za(hD,jW,"PUBLIC").setMultipleInstances(!0)),li(ZT,eA,""),li(ZT,eA,"esm2017")}DW();const MW={apiKey:"AIzaSyAoA9vGq5gsjRVqngQcfX9wDHv03MFX8Mo",authDomain:"habit-piggy-project.firebaseapp.com",projectId:"habit-piggy-project",storageBucket:"habit-piggy-project.appspot.com",messagingSenderId:"230345565651",appId:"1:230345565651:web:4f5fae0a011a8a355cbb26",measurementId:"G-D5V6H13VEM"},pD=zN(MW),tt=n7(pD),i1=NW(pD),mD=Up();async function $W(t,e,r,n){try{const a=(await JU(mD,t,e)).user;console.log("User created: ",a);const o=At(tt,"users",a.uid);await eD(o,{uid:a.uid,email:a.email,account:r,name:n,introduction:"我要養成好習慣！",avatar:"https://firebasestorage.googleapis.com/v0/b/habit-piggy-project.appspot.com/o/default_avatars%2FPiggy.png?alt=media&token=abb71b06-4b8d-41ce-b087-f3aa0d3e86f9",createdTime:st.now(),levelPoints:0,isAcceptReminder:!1,isDarkMode:!1,achievements:[],badges:[]}),console.log("User data created with ID: ",a.uid),Jr(o,"habits"),console.log("Empty habits sub-collection created for user ID: ",a.uid)}catch(i){console.error("Error creating user: ",i.code,i.message)}}async function LW(){try{await rB(mD),console.log("User signed out")}catch(t){console.error("Error signing out: ",t.code,t.message)}}async function gD(t,e){try{const r=At(tt,"users",t);await eD(r,e,{merge:!0}),console.log("User profile updated with ID: ",t)}catch(r){console.error("Error updating user profile: ",r.code,r.message)}}async function Oi(t){try{const e=At(tt,"users",t),r=await fo(e);return r.exists()?r.data():(console.log("No such document!"),{name:"Unknown",levelPoints:0,avatar:await rA("Piggy.png")})}catch(e){return console.error("Error getting user profile: ",e.code,e.message),{name:"Unknown",levelPoints:0,avatar:await rA("Piggy.png")}}}async function tA(){try{const t=Jr(tt,"users");return(await vi(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting users: ",t.code,t.message),[]}}async function FW(t,e){try{const r=At(tt,"users",t),n=Jr(r,"habits");await H_(n,{...e,createdTime:st.now(),updatedTime:st.now()}),console.log("Habit added for user ID: ",t)}catch(r){console.error("Error adding habit: ",r.code,r.message)}}async function as(t){try{const e=At(tt,"users",t),r=Jr(e,"habits"),n=Gj(r,Xj("updatedTime","desc"));return(await vi(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error getting habits: ",e.code,e.message),[]}}async function kb(t,e,r){try{const n=At(tt,"users",t,"habits",e);await ho(n,{...r,updatedTime:st.now()})}catch(n){console.error("Error updating habit: ",n.code,n.message)}}async function yD(t,e){try{const r=At(tt,"users",t,"habits",e);await Ag(r),console.log("Habit deleted with ID: ",e)}catch(r){console.error("Error deleting habit: ",r.code,r.message)}}async function vD(t,e){try{const r=Jr(tt,"posts"),n=await H_(r,{...e,userID:t,createdTime:st.now(),updatedTime:st.now()});return console.log("Post added with ID: ",n.id),n.id}catch(r){console.error("Error adding post: ",r.code,r.message)}}async function VW(t,e){try{const r=At(tt,"posts",t);await ho(r,{...e,updatedTime:st.now()}),console.log("Post updated with ID: ",t)}catch(r){console.error("Error updating post: ",r.code,r.message)}}async function UW(t){try{const e=At(tt,"posts",t);await Ag(e),console.log("Post deleted with ID: ",t)}catch(e){console.error("Error deleting post: ",e.code,e.message)}}async function vh(){try{const t=Jr(tt,"posts"),e=Gj(t,Xj("createdTime","desc"));return(await vi(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Error getting posts: ",t.code,t.message),[]}}async function bD(t,e){try{const r=n1(i1,`avatars/${t}`),n=await OW(r,e),i=await r1(n.ref);return console.log("Avatar uploaded: ",i),i}catch(r){return console.error("Error uploading avatar: ",r.code,r.message),null}}async function rA(t){try{const e=n1(i1,`default_avatars/${t}`),r=await r1(e);return console.log("Default avatar URL: ",r),r}catch(e){return console.error("Error getting default avatar: ",e.code,e.message),"https://firebasestorage.googleapis.com/v0/b/habit-piggy-project.appspot.com/o/avatars%2FPiggy.png?alt=media&token=be62eb4e-44a3-46c5-ba6d-bba575da75a8"}}async function BW(t,e){try{const r=At(tt,"posts",t),n=Jr(r,"comments");await H_(n,{...e,createdTime:st.now()}),console.log("Comment added to post ID: ",t)}catch(r){console.error("Error adding comment: ",r.code,r.message)}}async function Ns(t){try{const e=At(tt,"posts",t),r=Jr(e,"comments");return(await vi(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){return console.error("Error getting comments: ",e.code,e.message),[]}}async function zW(t,e,r){try{const n=At(tt,"posts",t,"comments",e);await ho(n,{...r,updatedTime:st.now()}),console.log("Comment updated with ID: ",e)}catch(n){console.error("Error updating comment: ",n.code,n.message)}}async function WW(t,e){try{const r=At(tt,"posts",t,"comments",e);await Ag(r),console.log("Comment deleted with ID: ",e)}catch(r){console.error("Error deleting comment: ",r.code,r.message)}}async function wD(){try{const t=n1(i1,"post_backgrounds"),r=(await CW(t)).items.map(i=>r1(i));return await Promise.all(r)}catch(t){return console.error("Error getting post backgrounds: ",t.code,t.message),[]}}async function qW(t,e){try{const r=At(tt,"posts",t),n=await fo(r);if(n.exists()){const a=n.data().likes||[];a.includes(e)||(a.push(e),await ho(r,{likes:a}),console.log("Like added to post ID: ",t))}}catch(r){console.error("Error adding like: ",r.code,r.message)}}async function HW(t,e){try{const r=At(tt,"posts",t),n=await fo(r);if(n.exists()){const a=n.data().likes||[],o=a.indexOf(e);if(o>-1){a.splice(o,1),await ho(r,{likes:a}),console.log("Like removed from post ID: ",t);const s=At(tt,"posts",t,"likes",e);await Ag(s),console.log("Like document removed for user ID: ",e)}}}catch(r){console.error("Error removing like: ",r.code,r.message)}}async function KW(){try{return(await vi(Jr(tt,"achievements"))).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting achievements: ",t.code,t.message),[]}}async function GW(t){try{const e=At(tt,"users",t),r=await fo(e);return r.exists()?r.data().achievements||[]:(console.log("No such document!"),[])}catch(e){return console.error("Error getting user achievements: ",e.code,e.message),[]}}async function Ou(t,e){try{const r=At(tt,"users",t),n=Jr(r,"habits"),a=(await vi(n)).docs.map(c=>({id:c.id,...c.data()}));let o=0;const s=new Date,l=new Date(s.getFullYear(),s.getMonth(),s.getDate());switch(e){case"habit":o=a.reduce((c,u)=>{const f=u.status.filter(h=>h.completed&&new Date(h.date)<l).length;return c+f},0);break;case"savings":o=a.reduce((c,u)=>{const f=u.status.filter(h=>!h.completed&&new Date(h.date)<l).length;return c+u.amount*f},0);break;case"streak":o=a.reduce((c,u)=>{const f=u.status.filter(p=>p.completed&&new Date(p.date)<l).length,h=u.status.filter(p=>new Date(p.date)<l).length;return c+(h>0?f/h:0)},0)/a.length;break;default:throw new Error("Invalid task type")}return o}catch(r){return console.error("Error calculating task value: ",r.code,r.message),0}}async function Cu(t,e,r){try{const n=await vi(Jr(tt,"achievements")),i=At(tt,"users",t),a=await fo(i),o=a.exists()?a.data().achievements||[]:[];n.forEach(async s=>{const l=s.data(),c=l.condition;let u=!1;c.type===e&&(e==="habit"&&r>=c.count?u=!0:e==="savings"&&r>=c.amount||e==="streak"&&r>=c.count),u&&!o.includes(s.id)&&(o.push(s.id),await ho(i,{achievements:o}),console.log(`Achievement ${l.name} awarded to user ID: ${t}`))})}catch(n){console.error("Error checking and awarding achievements: ",n.code,n.message)}}async function XW(){try{const t=Jr(tt,"badges");return(await vi(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting badges: ",t.code,t.message),[]}}async function YW(t){try{const e=At(tt,"users",t),r=await fo(e);return r.exists()?r.data().badges||[]:(console.log("No such document!"),[])}catch(e){return console.error("Error getting user badges: ",e.code,e.message),[]}}async function gl(t){try{const e=At(tt,"users",t),r=Jr(e,"habits");return(await vi(r)).docs.map(o=>({id:o.id,...o.data()})).reduce((o,s)=>{const l=s.category;return o[l]||(o[l]=0),o[l]++,o},{})}catch(e){return console.error("Error calculating badges: ",e.code,e.message),{}}}async function Nu(t){try{const e=await vi(Jr(tt,"badges")),r=At(tt,"users",t),n=await fo(r),i=n.exists()?n.data().badges||[]:[],a=await gl(t);e.forEach(async o=>{const s=o.data(),l=s.condition;let c=!1;a[l.category]&&a[l.category]>=l.times&&(c=!0),c&&!i.includes(o.id)&&(i.push(o.id),await ho(r,{badges:i}),console.log(`Badge ${s.description} awarded to user ID: ${t}`))})}catch(e){console.error("Error checking and awarding badges: ",e.code,e.message)}}async function xD(t,e){try{const r=At(tt,"users",t),n=await fo(r);if(n.exists()){const a=n.data().badges.filter(o=>o.category!==e);await ho(r,{badges:a}),console.log(`Badge for category ${e} removed for user ID: ${t}`)}}catch(r){console.error("Error removing badge: ",r.code,r.message)}}var _D={exports:{}},QW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JW=QW,ZW=JW;function kD(){}function ED(){}ED.resetWarningCache=kD;var eq=function(){function t(n,i,a,o,s,l){if(l!==ZW){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ED,resetWarningCache:kD};return r.PropTypes=r,r};_D.exports=eq();var tq=_D.exports;const W=it(tq),Gn=D.createContext(),SD=({children:t})=>{const[e,r]=D.useState(null),[n,i]=D.useState(!1),a=Up();return D.useEffect(()=>{const o=tB(a,async s=>{if(s){const l=await Oi(s.uid);r({...s,...l}),i(l.isDarkMode||!1)}else r(null),i(!1)});return()=>o()},[a]),D.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]),m.jsx(Gn.Provider,{value:{user:e,setUser:r,isDarkMode:n,setIsDarkMode:i},children:t})};SD.propTypes={children:W.node};var TD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nA=$.createContext&&$.createContext(TD),rq=["attr","size","title"];function nq(t,e){if(t==null)return{};var r=iq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xp.apply(this,arguments)}function iA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(r),!0).forEach(function(n){aq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aq(t,e,r){return e=oq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oq(t){var e=sq(t,"string");return typeof e=="symbol"?e:e+""}function sq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AD(t){return t&&t.map((e,r)=>$.createElement(e.tag,Yp({key:r},e.attr),AD(e.child)))}function Ge(t){return e=>$.createElement(lq,Xp({attr:Yp({},t.attr)},e),AD(t.child))}function lq(t){var e=r=>{var{attr:n,size:i,title:a}=t,o=nq(t,rq),s=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),$.createElement("svg",Xp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:Yp(Yp({color:t.color||r.color},r.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&$.createElement("title",null,a),t.children)};return nA!==void 0?$.createElement(nA.Consumer,null,r=>e(r)):e(TD)}function cq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(t)}function uq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -15 8.66l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 2.66a1 1 0 0 0 -1 1a3 3 0 1 0 0 6v2a1.024 1.024 0 0 1 -.866 -.398l-.068 -.101a1 1 0 0 0 -1.732 .998a3 3 0 0 0 2.505 1.5h.161a1 1 0 0 0 .883 .994l.117 .007a1 1 0 0 0 1 -1l.176 -.005a3 3 0 0 0 -.176 -5.995v-2c.358 -.012 .671 .14 .866 .398l.068 .101a1 1 0 0 0 1.732 -.998a3 3 0 0 0 -2.505 -1.501h-.161a1 1 0 0 0 -1 -1zm1 7a1 1 0 0 1 0 2v-2zm-2 -4v2a1 1 0 0 1 0 -2z"},child:[]}]})(t)}function fq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z"},child:[]}]})(t)}function dq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6l0 13"},child:[]},{tag:"path",attr:{d:"M12 6l0 13"},child:[]},{tag:"path",attr:{d:"M21 6l0 13"},child:[]}]})(t)}function hq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11h16a1 1 0 0 1 1 1v.5c0 1.5 -2.517 5.573 -4 6.5v1a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-1c-1.687 -1.054 -4 -5 -4 -6.5v-.5a1 1 0 0 1 1 -1z"},child:[]},{tag:"path",attr:{d:"M19 7l-14 1"},child:[]},{tag:"path",attr:{d:"M19 2l-14 3"},child:[]}]})(t)}function pq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12zm12 -4v4m-8 -4v4m-4 4h16m-9.995 3h.01m3.99 0h.01"},child:[]},{tag:"path",attr:{d:"M10.005 17a3.5 3.5 0 0 0 4 0"},child:[]}]})(t)}function mq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"},child:[]}]})(t)}function gq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l5 5l10 -10"},child:[]}]})(t)}function yq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 9l6 6l6 -6"},child:[]}]})(t)}function vq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 6l-6 6l6 6"},child:[]}]})(t)}function bq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 6l6 6l-6 6"},child:[]}]})(t)}function wq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 12l2 2l4 -4"},child:[]}]})(t)}function PD(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1"},child:[]},{tag:"path",attr:{d:"M12 7v10"},child:[]}]})(t)}function xq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function _q(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 11v-3.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M11 9.5v-3a1.5 1.5 0 0 1 3 0v3.5"},child:[]},{tag:"path",attr:{d:"M14 7.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M17 9.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"},child:[]}]})(t)}function kq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"},child:[]}]})(t)}function Eq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l-2 0l9 -9l9 9l-2 0"},child:[]},{tag:"path",attr:{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"},child:[]},{tag:"path",attr:{d:"M10 12h4v4h-4z"},child:[]}]})(t)}function Sq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 9h.01"},child:[]},{tag:"path",attr:{d:"M11 12h1v4h1"},child:[]}]})(t)}function Tq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 4l0 16"},child:[]}]})(t)}function Aq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M9 12h12l-3 -3"},child:[]},{tag:"path",attr:{d:"M18 15l3 -3"},child:[]}]})(t)}function Pq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 3h6l3 7l-6 2l-6 -2z"},child:[]},{tag:"path",attr:{d:"M12 12l-3 -9"},child:[]},{tag:"path",attr:{d:"M15 11l-3 -8"},child:[]},{tag:"path",attr:{d:"M12 19.5l-3 1.5l.5 -3.5l-2 -2l3 -.5l1.5 -3l1.5 3l3 .5l-2 2l.5 3.5z"},child:[]}]})(t)}function Iq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]},{tag:"path",attr:{d:"M9.5 9h.01"},child:[]},{tag:"path",attr:{d:"M14.5 9h.01"},child:[]},{tag:"path",attr:{d:"M9.5 13a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function Oq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9h8"},child:[]},{tag:"path",attr:{d:"M8 13h6"},child:[]},{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]}]})(t)}function Cq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12a9 9 0 1 0 -8.012 8.946"},child:[]},{tag:"path",attr:{d:"M9 10h.01"},child:[]},{tag:"path",attr:{d:"M15 10h.01"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.59 3.59 0 0 0 2.774 .99"},child:[]},{tag:"path",attr:{d:"M18.994 21.5l2.518 -2.58a1.74 1.74 0 0 0 .004 -2.413a1.627 1.627 0 0 0 -2.346 -.005l-.168 .172l-.168 -.172a1.627 1.627 0 0 0 -2.346 -.004a1.74 1.74 0 0 0 -.004 2.412l2.51 2.59z"},child:[]}]})(t)}function Nq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 10l.01 0"},child:[]},{tag:"path",attr:{d:"M15 10l.01 0"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function Rq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 8h.01"},child:[]},{tag:"path",attr:{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"},child:[]},{tag:"path",attr:{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"},child:[]},{tag:"path",attr:{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"},child:[]}]})(t)}function jq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 15h10v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2v-4z"},child:[]},{tag:"path",attr:{d:"M12 9a6 6 0 0 0 -6 -6h-3v2a6 6 0 0 0 6 6h3"},child:[]},{tag:"path",attr:{d:"M12 11a6 6 0 0 1 6 -6h3v1a6 6 0 0 1 -6 6h-3"},child:[]},{tag:"path",attr:{d:"M12 15l0 -6"},child:[]}]})(t)}function Dq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(t)}function Mq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"},child:[]},{tag:"path",attr:{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"},child:[]},{tag:"path",attr:{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function $q(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4.698 4.034l16.302 7.966l-16.302 7.966a.503 .503 0 0 1 -.546 -.124a.555 .555 0 0 1 -.12 -.568l2.468 -7.274l-2.468 -7.274a.555 .555 0 0 1 .12 -.568a.503 .503 0 0 1 .546 -.124z"},child:[]},{tag:"path",attr:{d:"M6.5 12h14.5"},child:[]}]})(t)}function Lq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(t)}function Fq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M7 21l3 -4"},child:[]},{tag:"path",attr:{d:"M16 21l-2 -4l-3 -3l1 -6"},child:[]},{tag:"path",attr:{d:"M6 12l2 -3l4 -1l3 3l3 1"},child:[]}]})(t)}function Vq(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6l-12 12"},child:[]},{tag:"path",attr:{d:"M6 6l12 12"},child:[]}]})(t)}const Wc={TbHome2:Eq,TbCoin:PD,TbMedal2:Pq,TbMessage:Oq,TbMoodSmile:Nq},Er={TbRocket:Mq,TbBook:dq,TbWalk:Fq,TbBowlChopsticks:hq,TbMoodHeart:Cq,TbHandGrab:_q,TbCash:mq,TbPlant:jq},a1={TbCheck:gq},Qp={TbChevronLeft:vq,TbChevronRight:bq},Uq={TbCalendarSmile:pq},Bq={TbPlus:Dq},St={TbX:Vq,TbInfoCircle:Sq},zq={TbChevronDown:yq},fu={TbHeart:kq,TbHeartFilled:fq,TbMessageChatbot:Iq,TbDots:xq,TbSend2:$q},Rs={TbCircleCheck:wq,TbCircleCheckFilled:cq,TbCoin:PD,TbCoinFilled:uq},ID={TbSettings:Lq,TbPhoto:Rq},aA={TbLogout:Aq,TbLayoutSidebarRight:Tq},Tv="/assets/habit-piggy-loading-1-B5_9kssG.svg",Wq="data:image/svg+xml,%3csvg%20width='400'%20height='400'%20viewBox='0%200%20400%20400'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_621_231)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M71.3763%20235.358C60.4405%20237.822%2050.0101%20240.148%2039.1823%20243.038C34.0177%20244.417%2028.3404%20246.414%2023.2452%20248.048C28.0237%20252.579%2031.2249%20254.302%2035.9444%20258.874C35.9464%20258.875%2025.2946%20268.037%2017.9071%20274.836C31.5676%20273.098%2048.0961%20264.815%2056.949%20259.742C53.5028%20256.663%2049.934%20253.573%2046.2392%20250.794C54.5474%20245.55%2063.0089%20240.496%2071.3763%20235.358Z'%20fill='%23FFDE6A'%20stroke='%23FFDE6A'%20stroke-width='3.94849'%20stroke-miterlimit='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M323.975%2087.699C329.923%2086.1051%20335.366%2091.5484%20333.772%2097.497L321.22%20144.342C319.627%20150.29%20312.191%20152.283%20307.836%20147.928L273.543%20113.635C269.189%20109.281%20271.181%20101.845%20277.13%20100.251L323.975%2087.699Z'%20fill='%23FFC700'/%3e%3cpath%20d='M240.41%20320.176C238.827%20315.772%20241.347%20310.955%20245.868%20309.744L267.709%20303.892C272.23%20302.68%20276.82%20305.592%20277.652%20310.197L283.358%20341.797C284.098%20345.892%20281.575%20349.869%20277.556%20350.946L260.867%20355.418C256.848%20356.495%20252.675%20354.311%20251.268%20350.396L240.41%20320.176Z'%20fill='%23FFC700'/%3e%3cpath%20d='M201.348%20310.197C202.18%20305.592%20206.77%20302.68%20211.291%20303.892L233.132%20309.744C237.653%20310.955%20240.173%20315.772%20238.59%20320.176L227.732%20350.396C226.325%20354.311%20222.152%20356.495%20218.133%20355.418L201.444%20350.946C197.425%20349.869%20194.902%20345.892%20195.642%20341.797L201.348%20310.197Z'%20fill='%23FFC700'/%3e%3ccircle%20cx='191'%20cy='206'%20r='140'%20fill='%23FFDE6A'/%3e%3cpath%20d='M246.5%20182.125C246.5%20193.554%20237.956%20202.75%20227.5%20202.75C217.044%20202.75%20208.5%20193.554%20208.5%20182.125C208.5%20170.696%20217.044%20161.5%20227.5%20161.5C237.956%20161.5%20246.5%20170.696%20246.5%20182.125Z'%20fill='%23F6F6F6'%20stroke='%23454545'/%3e%3cellipse%20cx='232.375'%20cy='182.125'%20rx='14.625'%20ry='16.25'%20fill='%23454545'/%3e%3cpath%20d='M325.5%20182.125C325.5%20193.554%20316.956%20202.75%20306.5%20202.75C296.043%20202.75%20287.5%20193.554%20287.5%20182.125C287.5%20170.696%20296.043%20161.5%20306.5%20161.5C316.956%20161.5%20325.5%20170.696%20325.5%20182.125Z'%20fill='%23F6F6F6'%20stroke='%23454545'/%3e%3cellipse%20cx='311.375'%20cy='182.125'%20rx='14.625'%20ry='16.25'%20fill='%23454545'/%3e%3cpath%20d='M106.348%20310.197C107.18%20305.592%20111.77%20302.68%20116.291%20303.892L138.132%20309.744C142.653%20310.955%20145.173%20315.772%20143.59%20320.176L132.732%20350.396C131.325%20354.311%20127.152%20356.495%20123.133%20355.418L106.444%20350.946C102.425%20349.869%2099.9021%20345.892%20100.641%20341.797L106.348%20310.197Z'%20fill='%23FFC700'/%3e%3cpath%20d='M145.41%20320.176C143.827%20315.772%20146.347%20310.955%20150.868%20309.744L172.709%20303.892C177.23%20302.68%20181.82%20305.592%20182.652%20310.197L188.358%20341.797C189.098%20345.892%20186.575%20349.869%20182.556%20350.946L165.867%20355.418C161.848%20356.495%20157.675%20354.311%20156.268%20350.396L145.41%20320.176Z'%20fill='%23FFC700'/%3e%3cpath%20d='M135.527%20100.443C133.934%2094.4946%20139.377%2089.0513%20145.325%2090.6452L198.862%20104.99C204.811%20106.584%20206.803%20114.02%20202.449%20118.375L163.257%20157.566C158.902%20161.921%20151.467%20159.929%20149.873%20153.98L135.527%20100.443Z'%20fill='%23FFC700'/%3e%3cellipse%20cx='234.471'%20cy='267.604'%20rx='12'%20ry='16'%20transform='rotate(45%20234.471%20267.604)'%20fill='%23E17F63'/%3e%3cpath%20d='M254%20259.132C254%20266.588%20251.127%20271.132%20244.5%20271.132C237.873%20271.132%20231.5%20264.088%20231.5%20256.632C231.5%20249.177%20235.373%20245.632%20242%20245.632C248.627%20245.632%20254%20251.677%20254%20259.132Z'%20fill='%23FFDE6A'/%3e%3cpath%20d='M230%20256C238.182%20270.711%20245.81%20275.071%20264.641%20276'%20stroke='%23454545'%20stroke-width='4'%20stroke-linecap='round'/%3e%3cpath%20d='M315%20226.599C315%20252.984%20297.091%20268.8%20275%20268.8C252.909%20268.8%20235%20252.984%20235%20226.599C235%20200.214%20252.909%20184%20275%20184C297.091%20184%20315%20200.214%20315%20226.599Z'%20fill='%23FFC700'/%3e%3cpath%20d='M279.4%20226C279.4%20230.418%20276.618%20234%20272.2%20234C267.782%20234%20265%20230.418%20265%20226C265%20221.582%20267.782%20218%20272.2%20218C276.618%20218%20279.4%20221.582%20279.4%20226Z'%20fill='%23454545'/%3e%3cpath%20d='M301.8%20226C301.8%20230.418%20299.018%20234%20294.6%20234C290.182%20234%20287.4%20230.418%20287.4%20226C287.4%20221.582%20290.182%20218%20294.6%20218C299.018%20218%20301.8%20221.582%20301.8%20226Z'%20fill='%23454545'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_621_231'%3e%3crect%20width='400'%20height='400'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",qq="/assets/habit-piggy-logo-Bg83H3Q_.svg";function Hq(){const{register:t,handleSubmit:e,watch:r,formState:{errors:n}}=AF(),[i,a]=D.useState(!0),[o,s]=D.useState(!1),[l,c]=D.useState(!1),[u,f]=D.useState(Tv),{setUser:h}=D.useContext(Gn),[p,g]=D.useState(""),[y,b]=D.useState(0),[_,v]=D.useState(!1),w={0:"I'm Habit Piggy!",1:"I'm Hungry!",2:"Do Your Habits!",3:"Or Feed me!",4:"Feed me!"};D.useEffect(()=>{let S;return l&&(S=setInterval(()=>{f(k=>k===Tv?Wq:Tv)},250)),()=>clearInterval(S)},[l]),D.useEffect(()=>{const S=Object.keys(w);let k=0;const P=setInterval(()=>{k<S.length?(b(k),k++):(clearInterval(P),v(!0))},2e3);return()=>clearInterval(P)},[]);const E=()=>{_&&b(4)},T=async S=>{const{email:k,registerPassword:P,account:O,name:R}=S;try{await $W(k,P,O,R);const N=Up(),C=await ZS(N,k,P);h(C.user),c(!0),setTimeout(()=>{s(!0)},2e3)}catch(N){console.error("Error registering user: ",N.code,N.message)}},I=async S=>{const{email:k,loginPassword:P}=S,O=Up();try{const R=await ZS(O,k,P);h(R.user),c(!0),setTimeout(()=>{s(!0)},2e3)}catch(R){g("帳號或密碼錯誤"),console.error("Error logging in: ",R.code,R.message)}};return o?m.jsx(Kx,{to:"/home"}):l?m.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4",children:[m.jsx("img",{src:u,alt:"loading",className:"w-40 h-40"}),m.jsx("p",{className:"font-normal text-base text-black dark:text-black-0",children:"準備好培養習慣了嗎？"})]}):m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${i?"bg-primary":"bg-black-50"}`,onClick:()=>a(!0),children:"登入帳號"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${i?"bg-black-50":"bg-primary"}`,onClick:()=>a(!1),children:"註冊帳號"})]}),i?m.jsxs("div",{className:"relative min-h-screen",children:[m.jsxs("form",{onSubmit:e(I),className:"flex flex-col",children:[m.jsx("label",{htmlFor:"email",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"帳號"}),m.jsx("input",{type:"text",name:"email",id:"email",placeholder:"請輸入帳號或 Email",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.email?"":"mb-4"}`,...t("email",{required:"Email 是必填項目"})}),n.email&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.email.message}),m.jsx("label",{htmlFor:"loginPassword",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"密碼"}),m.jsx("input",{type:"password",name:"loginPassword",id:"loginPassword",placeholder:"請輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.loginPassword?"":"mb-8"}`,...t("loginPassword",{required:"密碼是必填項目"})}),n.loginPassword&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.loginPassword.message}),p&&m.jsx("p",{className:"text-alert",children:p}),m.jsx("button",{type:"submit",className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",children:"登入帳號"})]}),m.jsx("div",{className:"flex justify-center absolute bottom-20 inset-x-0",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsxs("div",{className:"bg-black-50 w-fit h-fit rounded-full relative mt-4",children:[m.jsx("p",{className:"text-black font-lobster font-normal text-2xl leading-8 md:text-4xl md:leading-tight py-4 px-8",children:w[y]}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-20 before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-black-50 before:z-20"})]}),m.jsx("img",{src:qq,alt:"Habit Piggy",className:"w-60 h-60 md:w-80 md:h-80",onClick:E})]})})]}):m.jsxs("form",{onSubmit:e(T),className:"flex flex-col",children:[m.jsx("label",{htmlFor:"email",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Email"}),m.jsx("input",{type:"text",name:"email",id:"email",placeholder:"請輸入 Email",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.email?"":"mb-4"}`,...t("email",{required:"Email 是必填項目"})}),n.email&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.email.message}),m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"account",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"帳號"}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[72px] transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"帳號可以是英文、數字或符號的組合"})]}),m.jsx("input",{type:"text",name:"account",id:"account",placeholder:"請輸入帳號",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.account?"":"mb-4"}`,...t("account",{required:"帳號是必填項目"})}),n.account&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.account.message}),m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"registerPassword",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"密碼"}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[72px] transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"密碼可以是英文、數字或符號的組合，至少需要 6 個字符"})]}),m.jsx("input",{type:"password",name:"registerPassword",id:"registerPassword",placeholder:"請輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.registerPassword?"":"mb-4"}`,...t("registerPassword",{required:"密碼是必填項目",minLength:{value:6,message:"密碼至少需要 6 個字符"}})}),n.registerPassword&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.registerPassword.message}),m.jsx("label",{htmlFor:"registerCheckPassword",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"確認密碼"}),m.jsx("input",{type:"password",name:"registerCheckPassword",id:"registerCheckPassword",placeholder:"請再次輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.registerCheckPassword?"":"mb-4"}`,...t("registerCheckPassword",{required:"確認密碼是必填項目",validate:S=>S===r("registerPassword")||"密碼不一致",minLength:{value:6,message:"密碼至少需要 6 個字符"}})}),n.registerCheckPassword&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.registerCheckPassword.message}),m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"name",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"會員名稱"}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[104px] transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"會員名稱可以是中文、英文、數字或符號，但不得超過 9 個字"})]}),m.jsx("input",{type:"text",name:"name",id:"name",placeholder:"請輸入會員名稱",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.name?"":"mb-8"}`,...t("name",{required:"會員名稱是必填項目",maxLength:{value:9,message:"會員名稱不得超過 9 個字符"}})}),n.name&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.name.message}),m.jsx("button",{type:"submit",className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",children:"註冊帳號"})]})]})}const OD=({date:t,onSelect:e,onWeekChange:r})=>{const[n]=D.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[i]=D.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[a,o]=D.useState(null),[s,l]=D.useState(null),[c,u]=D.useState(null);D.useEffect(()=>{const w=new Date;l({year:w.getFullYear(),month:w.getMonth(),day:w.getDate()}),o(t?{...t}:{year:w.getFullYear(),month:w.getMonth(),day:w.getDate()})},[t]),D.useEffect(()=>{if(a){const w=new Date(a.year,a.month,a.day-new Date(a.year,a.month,a.day).getDay()),E=[];for(let T=0;T<7;T++){const I=new Date(w);I.setDate(w.getDate()+T),E.push({year:I.getFullYear(),month:I.getMonth(),day:I.getDate()})}r(E)}},[a,r]);const f=()=>{if(!a)return[];const w=[],E=a.year,T=a.month,I=a.day,S=new Date(E,T,I-new Date(E,T,I).getDay());for(let k=0;k<7;k++){const P=new Date(S);P.setDate(S.getDate()+k),w.push({value:P.getDate(),year:P.getFullYear(),month:P.getMonth()})}return w},h=w=>{p(w)},p=w=>{o(E=>{const T=new Date(E.year,E.month,E.day+(w?7:-7)),I=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),S={year:I.getFullYear(),month:I.getMonth(),day:I.getDate()};return u(S),e(S),{year:T.getFullYear(),month:T.getMonth(),day:T.getDate()}})},g=w=>{const E={...a,day:w.value,month:w.month,year:w.year};u(E),e(E)},y=w=>w.value===s.day&&s.year===w.year&&s.month===w.month,b=w=>c&&w.value===c.day&&c.year===w.year&&c.month===w.month;if(!a)return null;const _=new Date(a.year,a.month,a.day-new Date(a.year,a.month,a.day).getDay()),v=`${i[_.getMonth()]} ${_.getFullYear()}`;return m.jsxs("div",{className:"p-4 md:pt-6 bg-black-50 dark:bg-black-800 rounded-b-3xl",children:[m.jsxs("div",{className:"flex justify-between mb-3",children:[m.jsx("button",{onClick:()=>h(!1),children:m.jsx(Qp.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),m.jsx("h1",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:v}),m.jsx("button",{onClick:()=>h(!0),children:m.jsx(Qp.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),m.jsx("div",{className:"grid grid-cols-7 gap-y-1 gap-x-2 md:gap-x-4 text-center",children:f().map((w,E)=>m.jsxs("div",{className:`py-1 px-1 flex flex-col items-center gap-1 rounded-lg cursor-pointer ${y(w)?"bg-primary":b(w)?"bg-primary-light":"bg-transparent hover:bg-primary-light"}`,onClick:()=>g(w),children:[m.jsx("div",{className:`font-bold text-lg leading-6 ${y(w)?"text-black dark:text-black-0-0":b(w)?"text-black":"text-black dark:text-black-0"}`,children:w.value}),m.jsx("div",{className:`font-medium text-sm leading-5 ${y(w)?"text-black dark:text-black-0-0":b(w)?"text-black":"text-black dark:text-black-0"}`,children:n[new Date(w.year,w.month,w.value).getDay()]})]},E))})]})};OD.propTypes={date:W.object,onSelect:W.func,onWeekChange:W.func.isRequired};const Ga=({options:t,value:e,onChange:r})=>{const[n,i]=D.useState(!1),a=s=>{r(s),i(!1)},o=t.find(s=>s.value===e)||t[0];return m.jsxs("div",{className:"relative inline-block w-full",children:[m.jsxs("div",{className:"border border-black-500 rounded-2xl px-4 py-0.5 bg-white cursor-pointer flex justify-between items-center",onClick:()=>i(!n),children:[m.jsx("span",{children:o.label}),m.jsx(zq.TbChevronDown,{className:"w-6 h-6 text-black"})]}),n&&m.jsx("ul",{className:"absolute right-0 z-10 mt-1 min-w-fit w-full bg-white border border-black-500 rounded-2xl shadow-lg text-center overflow-hidden",children:t.map(s=>m.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>a(s.value),children:s.label},s.value))})]})};Ga.propTypes={options:W.array.isRequired,value:W.string.isRequired,onChange:W.func.isRequired};const o1=({profileData:t,handleSettingModal:e,handleSaveAndClose:r})=>{const{setIsDarkMode:n,user:i}=D.useContext(Gn),[a,o]=D.useState(t);D.useEffect(()=>{o(t)},[t]);const s=a.isDarkMode?"true":"false",l=a.isAcceptReminder?"true":"false",c=[{value:"false",label:"淺色"},{value:"true",label:"深色"}],u=[{value:"false",label:"否"},{value:"true",label:"是"}],f=g=>{o(y=>({...y,isDarkMode:g==="true"})),n(g==="true")},h=g=>{const{name:y,value:b,files:_}=g.target;if(y==="avatar"&&_&&_[0]){const v=g.target.files[0],w=["image/jpeg","image/jpg","image/png","image/gif"];if(!v||!w.includes(v.type))return;o(E=>({...E,avatar:URL.createObjectURL(v),avatarFile:v}))}else o(v=>({...v,[y]:b}))},p=async()=>{try{if(a.avatarFile){const g=await bD(i.uid,a.avatarFile);a.avatar=g}await gD(i.uid,a),r(a)}catch(g){console.error("更新資料失敗",g)}};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"設定"}),m.jsx(St.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:e})]}),m.jsxs("div",{children:[m.jsx("p",{className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"會員頭像"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:a.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"relative inline-block",children:[m.jsx("input",{type:"file",name:"avatar",id:"profile",onChange:h,accept:"image/jpg,image/jpeg,image/png,image/gif",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer hidden"}),m.jsxs("label",{htmlFor:"profile",className:"cursor-pointer bg-primary text-black font-medium text-sm leading-5 py-1 px-2 rounded-lg flex items-center gap-2 hover:bg-primary-dark",children:[m.jsx(ID.TbPhoto,{className:"w-5 h-5"}),"更換頭像"]})]}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"您的頭像將會被公開。"})]})]})]}),m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("label",{htmlFor:"name",className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"會員名稱"}),m.jsx("input",{type:"text",name:"name",id:"name",placeholder:"會員名稱",className:"px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6",value:a.name||"",onChange:h})]}),m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("label",{htmlFor:"introduction",className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"自我介紹"}),m.jsx("input",{type:"text",name:"introduction",id:"introduction",placeholder:"自我介紹",className:"px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6",value:a.introduction||"",onChange:h})]}),m.jsx("div",{className:"border"}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"主題色彩"}),m.jsx("div",{className:"relative w-fit text-nowrap",children:m.jsx(Ga,{options:c,value:s,onChange:f})})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"接收 Email 提醒"}),m.jsx("div",{className:"relative w-fit",children:m.jsx(Ga,{options:u,value:l,onChange:g=>o(y=>({...y,isAcceptReminder:g==="true"}))})})]}),m.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:p,children:"儲存"})]})};o1.propTypes={profileData:W.object.isRequired,handleSaveAndClose:W.func.isRequired,handleSettingModal:W.func.isRequired};const wn=({isOpen:t,children:e})=>{if(!t)return null;const r=$.isValidElement(e)&&e.type===o1;return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:m.jsx("div",{className:"rounded-2xl py-6 px-4 w-11/12 md:w-1/3 h-fit bg-black-50 dark:bg-black-600 max-h-[80vh] overflow-auto space-y-4 ",children:e})})};wn.propTypes={isOpen:W.bool.isRequired,children:W.node.isRequired};const s1=({date:t,onSelect:e})=>{const[r]=D.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[n]=D.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[i,a]=D.useState(null),[o,s]=D.useState(null);D.useEffect(()=>{const g=new Date;s({year:g.getFullYear(),month:g.getMonth(),day:g.getDate()}),a(t?{...t}:{year:g.getFullYear(),month:g.getMonth(),day:g.getDate()})},[t]);const l=()=>{if(!i)return[];const g=[],y=i.year,b=i.month,_=new Date(y,b,1),v=new Date(y,b+1,0),w=_.getDay(),E=v.getDate();for(let T=0;T<w;T++)g.push(null);for(let T=1;T<=E;T++)g.push({value:T,year:y,month:b});return g},c=g=>{u(g)},u=g=>{a(y=>{const b=new Date(y.year,y.month+(g?1:-1),1);return{year:b.getFullYear(),month:b.getMonth(),day:b.getDate()}})},f=g=>{const y={...i,day:g.value,month:g.month,year:g.year};e(y)},h=g=>g&&g.value===o.day&&o.year===g.year&&o.month===g.month;if(!i)return null;const p=`${n[i.month]} ${i.year}`;return m.jsxs("div",{className:"p-4 bg-light dark:bg-black-800 rounded-2xl",children:[m.jsxs("div",{className:"flex justify-between mb-3",children:[m.jsx("button",{onClick:()=>c(!1),children:m.jsx(Qp.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),m.jsx("h1",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:p}),m.jsx("button",{onClick:()=>c(!0),children:m.jsx(Qp.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),m.jsxs("div",{className:"grid grid-cols-7 text-center gap-1",children:[r.map((g,y)=>m.jsx("div",{className:"font-medium text-sm leading-5 text-black dark:text-black-0",children:g},y)),l().map((g,y)=>m.jsx("div",{className:`rounded-full aspect-square flex items-center justify-center cursor-pointer ${h(g)?"bg-primary":"bg-white hover:bg-primary-light"}`,onClick:()=>g&&f(g),children:g?g.value:""},y))]})]})};s1.propTypes={date:W.object,onSelect:W.func};const Og=({options:t,value:e,onChange:r})=>{const n=a=>{r(a)},i=t.find(a=>a.id===e);return m.jsx("div",{className:"w-full",children:m.jsx("ul",{className:"grid grid-cols-4 gap-2",children:t.map(a=>m.jsxs("li",{className:"w-16 h-fit cursor-pointer flex flex-col items-center gap-1 text-nowrap font-normal text-xs leading-4",onClick:()=>n(a.id),children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex justify-center items-center ${i&&i.id===a.id?"bg-primary":"bg-black-200 hover:bg-primary"}`,children:m.jsx(a.icon,{className:"w-8 h-8"})}),m.jsx("p",{className:"text-black dark:text-black-0",children:a.name})]},a.id))})})};Og.propTypes={options:W.array.isRequired,value:W.any,onChange:W.func.isRequired};Og.defaultProps={value:null};const CD=({habitData:t,handleHabitChange:e,handleAddHabit:r,handleFocus:n,showMonthCalendar:i,calendarRef:a,handleHabitModal:o,habitCategories:s,setHabitData:l,monthCalendarDate:c,handleMonthCalendarSelectDate:u,setCalendarTarget:f,setShowMonthCalendar:h})=>{const[p,g]=D.useState(t.frequency.days||[]),[y,b]=D.useState({});D.useEffect(()=>{g(t.frequency.days||[])},[t.frequency.days]);const _=P=>{const O=p.includes(P)?p.filter(R=>R!==P):[...p,P];g(O),l(R=>({...R,frequency:{...R.frequency,days:O}}))},v=D.useRef(null),w=D.useRef(null),E=()=>{f("startDate"),h(!0)},T=()=>{f("endDate"),h(!0)},I=()=>{const P={};return t.title||(P.title="請輸入習慣名稱"),t.category||(P.category="請選擇習慣類別"),t.frequency.type||(P.frequency="請選擇習慣頻率"),t.frequency.type==="specificDays"&&p.length===0&&(P.days="請選擇至少一天"),t.type||(P.type="請選擇習慣類型"),t.amount||(P.amount="請輸入罰款金額"),t.startDate||(P.startDate="請選擇開始日期"),t.endDate||(P.endDate="請選擇結束日期"),b(P),Object.keys(P).length===0},S=()=>{I()&&r()},k=P=>{const{name:O}=P.target;e(P),y[O]&&b(R=>{const N={...R};return delete N[O],N})};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full",children:[m.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 placeholder-black",value:t.title,onChange:k}),y.title&&m.jsx("p",{className:"text-alert",children:y.title})]}),m.jsx(St.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:o})]}),m.jsxs("div",{className:"flex justify-between items-start gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"category",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類別",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要培養什麼類別的習慣呢？"})]}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsx(Og,{options:s,value:t.category,onChange:P=>k({target:{name:"category",value:P}})}),y.category&&m.jsx("p",{className:"text-alert",children:y.category})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣頻率",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要每天、每週還是在特定日期培養習慣呢？"})]}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:t.frequency.type==="daily",onChange:k}),m.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:t.frequency.type==="weekly",onChange:k}),m.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:t.frequency.type==="specificDays",onChange:k}),m.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]}),y.frequency&&m.jsx("p",{className:"text-alert",children:y.frequency})]}),t.frequency.type==="specificDays"&&m.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((P,O)=>m.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[P,m.jsx(a1.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 ${p.includes(P)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>_(P)})]},O))}),y.days&&m.jsx("p",{className:"text-alert",children:y.days}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類型",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要養成還是戒除呢？"})]}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:t.type==="to-do",onChange:k}),m.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:t.type==="not-to-do",onChange:k}),m.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]}),y.type&&m.jsx("p",{className:"text-alert",children:y.type})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣罰款",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"如果沒有完成習慣，你願意支付多少罰款呢？"})]}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"flex gap-2 w-full",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"NT$"}),m.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 no-spinner dark:bg-black-100 dark:placeholder-black-400",placeholder:"請輸入未完成習慣的罰款",value:t.amount,onChange:k,min:0,onKeyDown:P=>P.key==="-"&&P.preventDefault()})]}),y.amount&&m.jsx("p",{className:"text-alert",children:y.amount})]}),m.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"time",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["養成期間",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要從哪一天開始、哪一天結束培養這個習慣呢？"})]}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:[m.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:E,children:t.startDate||"開始日期"}),m.jsx("p",{className:"px-2 text-black dark:text-black-0-300 font-normal text-sm leading-5",children:"-"}),m.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:T,children:t.endDate||"結束日期"})]}),y.startDate&&m.jsx("p",{className:"text-alert",children:y.startDate}),y.endDate&&m.jsx("p",{className:"text-alert",children:y.endDate}),m.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"hidden",ref:v,placeholder:"開始日期",value:t.startDate,onFocus:()=>n("startDate"),onChange:k}),m.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"hidden",ref:w,placeholder:"結束日期",value:t.endDate,onFocus:()=>n("endDate"),onChange:k}),i&&m.jsx("div",{ref:a,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:m.jsx(s1,{date:c,onSelect:u})})]}),m.jsx("button",{className:"w-full rounded-lg bg-primary font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:S,children:"養成習慣"})]})};CD.propTypes={habitData:W.object.isRequired,handleHabitChange:W.func.isRequired,handleAddHabit:W.func.isRequired,handleFocus:W.func.isRequired,showMonthCalendar:W.bool.isRequired,calendarTarget:W.string.isRequired,selectedDate:W.object.isRequired,handleSelectDate:W.func.isRequired,calendarRef:W.object.isRequired,handleHabitModal:W.func.isRequired,habitCategories:W.array.isRequired,setHabitData:W.func.isRequired,monthCalendarDate:W.object.isRequired,handleMonthCalendarSelectDate:W.func.isRequired,setCalendarTarget:W.func.isRequired,setShowMonthCalendar:W.func.isRequired};const l1=({selectedHabit:t,handleDetailModal:e,uncompletedFine:r,handleEditModal:n,habitCategories:i})=>{const a=i.find(u=>u.id===t.category),o=a?a.icon:null,s=u=>{switch(u.type){case"daily":return"每日";case"weekly":return"每週";case"specificDays":return"特定日期";default:return""}},l=[{bottom:0,left:0},{bottom:2,left:-1},{bottom:-1,left:-2},{bottom:2,left:0},{bottom:1,left:-1},{bottom:2,left:-2},{bottom:-2,left:1},{bottom:2,left:1}],c=u=>{const f=u.bottom>=0?`bottom-${u.bottom}`:`-bottom-${Math.abs(u.bottom)}`,h=u.left>=0?`left-${u.left}`:`-left-${Math.abs(u.left)}`;return`${f} ${h}`};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:o&&m.jsx(o,{className:"w-8 h-8"})}),m.jsx("div",{className:"flex flex-col",children:m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:t.title})})})]}),m.jsx(St.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:e})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("h3",{className:"text-black dark:text-black-0",children:"養成頻率："}),m.jsx("p",{className:"text-black dark:text-black-0",children:s(t.frequency)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("h3",{className:"text-black dark:text-black-0",children:"養成期間："}),m.jsxs("p",{className:"text-black dark:text-black-0",children:[t.startDate,"～",t.endDate]})]}),m.jsx("div",{className:"grid grid-cols-5 md:grid-cols-7 2xl:grid-cols-10 gap-2 md:gap-3 max-h-40 overflow-y-auto overflow-x-hidden",children:t.status.map((u,f)=>m.jsx("div",{className:"border border-black-500 dark:border-black-300 rounded aspect-square bg-black-50 relative",children:u.completed&&m.jsx("div",{className:`border-2 border-alert rounded-full aspect-square flex justify-center items-center absolute ${c(l[f%l.length])}`,children:m.jsx("p",{className:"font-lobster font-normal text-sm leading-5 text-alert -rotate-[30deg] p-1 w-12 h-10 flex items-center justify-center",children:new Date(u.date).toLocaleDateString("zh-TW",{month:"2-digit",day:"2-digit"})})})},f))}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("p",{className:"text-black dark:text-black-0",children:"累積存款："}),m.jsxs("p",{className:"text-black dark:text-black-0",children:["NT$ ",r]})]}),m.jsx("button",{className:"py-1 w-full bg-primary hover:bg-primary-dark rounded-lg font-medium text-sm leading-5",onClick:()=>n(t),children:"編輯習慣"})]})};l1.propTypes={selectedHabit:W.object.isRequired,handleDetailModal:W.func.isRequired,handlePostModal:W.func.isRequired,uncompletedFine:W.number.isRequired,handleEditModal:W.func.isRequired,habitCategories:W.array.isRequired};const c1=({habitData:t,handleHabitChange:e,handleUpdateHabit:r,handleDeleteHabit:n,handleFocus:i,showMonthCalendar:a,calendarRef:o,handleEditModal:s,habitCategories:l,setHabitData:c,monthCalendarDate:u,handleMonthCalendarSelectDate:f,setCalendarTarget:h,setShowMonthCalendar:p})=>{const[g,y]=D.useState(t.frequency.days||[]);D.useEffect(()=>{y(t.frequency.days||[])},[t.frequency.days]);const b=I=>{const S=g.includes(I)?g.filter(k=>k!==I):[...g,I];y(S),c(k=>{const P={...k.frequency,days:S},O=_(k.startDate,k.endDate,P);return{...k,frequency:P,status:O}})},_=(I,S,k)=>{const P=new Date(I),O=new Date(S),R=[];if(k.type==="daily")for(let N=P;N<=O;N.setDate(N.getDate()+1))R.push({date:new Date(N).toDateString(),completed:!1});else if(k.type==="weekly")for(let N=P;N<=O;N.setDate(N.getDate()+7))R.push({date:new Date(N).toDateString(),completed:!1});else if(k.type==="specificDays"){const N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],C=k.days||[];for(let L=P;L<=O;L.setDate(L.getDate()+1))C.includes(N[L.getDay()])&&R.push({date:new Date(L).toDateString(),completed:!1})}return R},v=D.useRef(null),w=D.useRef(null),E=()=>{h("startDate"),p(!0)},T=()=>{h("endDate"),p(!0)};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center gap-4",children:[m.jsx("div",{className:"flex items-center gap-4 w-full",children:m.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 dark:placeholder-black",value:t.title,onChange:e})}),m.jsx(St.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:s})]}),m.jsxs("div",{className:"flex justify-between items-start gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"category",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類別",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要培養什麼類別的習慣呢？"})]}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsx(Og,{options:l,value:t.category,onChange:I=>e({target:{name:"category",value:I}})})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣頻率",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要每天、每週還是在特定日期培養習慣呢？"})]}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:t.frequency.type==="daily",onChange:e}),m.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:t.frequency.type==="weekly",onChange:e}),m.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:t.frequency.type==="specificDays",onChange:e}),m.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),t.frequency.type==="specificDays"&&m.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((I,S)=>m.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[I,m.jsx(a1.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 ${g.includes(I)?"bg-primary text-white border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>b(I)})]},S))}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類型",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要養成還是戒除呢？"})]}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:t.type==="to-do",onChange:e}),m.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:t.type==="not-to-do",onChange:e}),m.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣罰款",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"如果沒有完成習慣，你願意支付多少罰款呢？"})]}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"flex gap-2 w-full",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"NT$"}),m.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 no-spinner dark:bg-black-100 dark:placeholder-black",placeholder:"請輸入未完成習慣的罰款金額",value:t.amount,onChange:e,min:0,onKeyDown:I=>I.key==="-"&&I.preventDefault()})]})]}),m.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"time",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["養成期間",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要從哪一天開始、哪一天結束培養這個習慣呢？"})]}),m.jsx(St.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:[m.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:E,children:t.startDate||"開始日期"}),m.jsx("p",{className:"px-2 text-black font-normal text-sm leading-5",children:"-"}),m.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:T,children:t.endDate||"結束日期"})]}),m.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"hidden",ref:v,placeholder:"開始日期",value:t.startDate,onFocus:()=>i("startDate"),onChange:e}),m.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"hidden",ref:w,placeholder:"結束日期",value:t.endDate,onFocus:()=>i("endDate"),onChange:e}),a&&m.jsx("div",{ref:o,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:m.jsx(s1,{date:u,onSelect:f})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-alert text-white rounded-lg",onClick:n,children:"刪除習慣"}),m.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-primary rounded-lg hover:bg-primary-dark",onClick:r,children:"更新習慣"})]})]})};c1.propTypes={habitData:W.object.isRequired,handleHabitChange:W.func.isRequired,handleUpdateHabit:W.func.isRequired,handleDeleteHabit:W.func.isRequired,handleFocus:W.func.isRequired,showMonthCalendar:W.bool.isRequired,calendarTarget:W.string.isRequired,selectedDate:W.object.isRequired,handleSelectDate:W.func.isRequired,calendarRef:W.object.isRequired,handleEditModal:W.func.isRequired,habitCategories:W.array.isRequired,setHabitData:W.func.isRequired,monthCalendarDate:W.object.isRequired,handleMonthCalendarSelectDate:W.func.isRequired,setCalendarTarget:W.func.isRequired,setShowMonthCalendar:W.func.isRequired};const u1=({habits:t,habitCategories:e,handleDetailClick:r,weekDates:n,handleCheck:i})=>{const a=hs(),o=s=>{switch(s){case"to-do":return"養成";case"not-to-do":return"戒除";default:return""}};return m.jsx("ul",{className:`space-y-4 mt-2 ${a.pathname==="/home"?"p-4":""}`,children:Array.isArray(t)&&t.map(s=>{const l=new Date;l.setHours(0,0,0,0);const c=new Date(s.endDate);c.setHours(0,0,0,0);const u=c<l,f=e.find(p=>p.id===s.category),h=f?f.icon:null;return m.jsxs("li",{className:`p-4 rounded-2xl ${u?"bg-black-300 hover:bg-black-200 dark:bg-black-800 dark:hover:bg-black-900":"bg-black-50 dark:bg-black-500 hover:bg-black-0 dark:hover:bg-black-600"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:h&&m.jsx(h,{className:"w-8 h-8"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:s.title}),m.jsxs("div",{className:"flex",children:[m.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:[o(s.type),"｜罰款 $",s.amount,"｜已達成 ",s.status.filter(p=>p.completed).length]}),m.jsxs("p",{className:"text-black-500 dark:text-black-300 font-normal text-sm leading-5",children:["/",s.status.length]})]})]})]}),m.jsx("button",{className:"text-black dark:text-black-0 hover:text-alert",onClick:()=>r(s),children:m.jsx(Uq.TbCalendarSmile,{className:"w-6 h-6 md:w-8 md:h-8"})})]}),n&&m.jsxs("div",{className:"grid grid-cols-7 gap-y-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((p,g)=>m.jsx("div",{className:"text-center text-sm leading-5 md:font-normal md:text-base md:leading-6 text-black dark:text-black-0",children:p},g)),n.map((p,g)=>{const y=s.status.find(b=>new Date(b.date).toDateString()===new Date(p.year,p.month,p.day).toDateString());return m.jsx("div",{className:"flex flex-col items-center",children:y?u&&!y.completed?m.jsx(St.TbX,{className:"w-10 h-10 md:w-12 md:h-12 border-2 rounded-full bg-alert text-black-0 border-alert cursor-not-allowed"}):m.jsx(a1.TbCheck,{className:`w-10 h-10 md:w-12 md:h-12 border-2 rounded-full ${y.completed?"bg-primary text-black-0 border-primary":"text-black-500 dark:text-black-0 border-black-500 dark:border-black-300"} ${u?"cursor-not-allowed":"cursor-pointer hover:bg-primary-light"}`,onClick:()=>!u&&y&&i(s.id,y.date),disabled:!y}):m.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full cursor-not-allowed border-2 border-dashed ${u?"bg-black-transparent border-black-500":"bg-transparent border-black-300"}`})},g)})]})]},s.id)})})};u1.propTypes={habits:W.array.isRequired,habitCategories:W.array.isRequired,handleDetailClick:W.func.isRequired,weekDates:W.array,handleCheck:W.func};function Kq(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[i,a]=D.useState(!1),[o,s]=D.useState({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""}),[l,c]=D.useState([]),[u,f]=D.useState(null),[h,p]=D.useState(!1),[g,y]=D.useState(""),[b,_]=D.useState(null),[v,w]=D.useState([]),[E,T]=D.useState(0),[I,S]=D.useState(null),k=D.useRef(null),{user:P}=D.useContext(Gn),O=[{id:0,name:"生產力",icon:Er.TbRocket},{id:1,name:"個人成長",icon:Er.TbBook},{id:2,name:"運動健身",icon:Er.TbWalk},{id:3,name:"飲食健康",icon:Er.TbBowlChopsticks},{id:4,name:"心靈成長",icon:Er.TbMoodHeart},{id:5,name:"手作興趣",icon:Er.TbHandGrab},{id:6,name:"財務管理",icon:Er.TbCash},{id:7,name:"環境生活",icon:Er.TbPlant}];D.useEffect(()=>{P&&N()},[P]),D.useEffect(()=>{const J=H=>{k.current&&!k.current.contains(H.target)&&p(!1)};return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]),D.useEffect(()=>{const J=new Date;f({year:J.getFullYear(),month:J.getMonth(),day:J.getDate()}),S({year:J.getFullYear(),month:J.getMonth(),day:J.getDate()})},[]);const R=(J,H,oe)=>{const le=new Date(J),K=new Date(H),Se=new Date(oe);return le.setHours(0,0,0,0),K.setHours(0,0,0,0),Se.setHours(23,59,59,999),le>=K&&le<=Se},N=async(J=null)=>{const H=await as(P.uid),oe=J?new Date(J.year,J.month,J.day):new Date,K=H.sort((Se,xe)=>new Date(xe.createdTime)-new Date(Se.createdTime)).filter(Se=>R(oe,Se.startDate,Se.endDate)).sort((Se,xe)=>new Date(xe.endDate)-new Date(Se.endDate));c(K||[])},C=()=>{e(!t),s({category:null,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[],type:""})},L=()=>{n(!r)},z=J=>{s({category:J.category,title:J.title,frequency:J.frequency,amount:J.amount,startDate:J.startDate,endDate:J.endDate,status:J.status,type:J.type}),n(!1),a(!i)},B=J=>{const{name:H,value:oe}=J.target;if(H==="frequency"){const le={type:oe},K=X(o.startDate,o.endDate,le);s(Se=>({...Se,frequency:le,status:K}))}else s(le=>({...le,[H]:oe}))},X=(J,H,oe)=>{const le=new Date(J),K=new Date(H),Se=[];if(oe.type==="daily")for(let xe=le;xe<=K;xe.setDate(xe.getDate()+1))Se.push({date:new Date(xe).toDateString(),completed:!1});else if(oe.type==="weekly")for(let xe=new Date(le);xe<=K;xe.setDate(xe.getDate()+7)){const We=new Date(xe);We.setDate(We.getDate()+(6-We.getDay())),We<=K&&Se.push({date:We.toDateString(),completed:!1})}else if(oe.type==="specificDays"){const xe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],We=o.frequency.days||[];for(let Xe=le;Xe<=K;Xe.setDate(Xe.getDate()+1))We.includes(xe[Xe.getDay()])&&Se.push({date:new Date(Xe).toDateString(),completed:!1})}return Se},F=async()=>{if(P){const J=new Date(o.startDate);if(new Date(o.endDate)<=J){alert("結束日期必須晚於開始日期");return}const oe=X(o.startDate,o.endDate,o.frequency),le={...o,status:oe};await FW(P.uid,le),await gl(P.uid),await Nu(P.uid),N(),C(),s({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""})}else console.error("User not authenticated")},Y=async()=>{if(P&&b){const J=new Date(o.startDate);if(new Date(o.endDate)<=J){alert("結束日期必須晚於開始日期");return}const le={...b,...o,id:b.id};await kb(P.uid,b.id,le),await gl(P.uid),await Nu(P.uid);const K=await Ou(P.uid,"habit");await Cu(P.uid,"habit",K),N(),a(!1),n(!1)}else console.error("User not authenticated or habit not selected")},re=async()=>{if(P&&b){await yD(P.uid,b.id),await gl(P.uid),await Nu(P.uid);const J=await Ou(P.uid,"habit");await Cu(P.uid,"habit",J);const H=await as(P.uid);c(H),H.filter(le=>le.category===b.category).length===0&&await xD(P.uid,b.category),N(),a(!1),n(!1)}else console.error("User not authenticated or habit not selected")},de=async J=>{f(J),await N(J),g&&(s(H=>({...H,[g]:`${J.year}-${String(J.month+1).padStart(2,"0")}-${String(J.day).padStart(2,"0")}`})),p(!1),y(""))},te=J=>{if(S(J),g){const H=`${J.year}-${String(J.month+1).padStart(2,"0")}-${String(J.day).padStart(2,"0")}`;s(oe=>({...oe,[g]:H})),p(!1),y("")}},he=J=>{y(J),p(!0)},Ee=async(J,H)=>{const oe=l.map(K=>{if(K.id===J){const Se=K.status.map(xe=>new Date(xe.date).toDateString()===new Date(H).toDateString()?{...xe,completed:!xe.completed}:xe);return{...K,status:Se}}return K});c(oe);const le=oe.find(K=>K.id===J);try{await kb(P.uid,J,le),await ne("habit")}catch(K){console.error("Error updating habit in Firestore: ",K)}},je=J=>{const H=new Date;return H.setHours(0,0,0,0),J.status.filter(le=>{const K=new Date(le.date);return K.setHours(0,0,0,0),K<H&&!le.completed}).length*J.amount},Q=J=>{_(J),T(je(J)),n(!0)},ne=async J=>{if(!(!P||!P.uid))try{const H=await Ou(P.uid,J);await Cu(P.uid,J,H)}catch(H){console.error("Error handling achievements: ",H)}};return m.jsxs("div",{className:"md:pb-6",children:[m.jsx(OD,{date:u,onSelect:de,onWeekChange:w}),m.jsx(u1,{habits:l,habitCategories:O,handleDetailClick:Q,weekDates:v,handleCheck:Ee}),m.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center fixed right-4 bottom-20 md:bottom-10 bg-primary hover:bg-primary-dark cursor-pointer",onClick:C,children:m.jsx(Bq.TbPlus,{className:"w-8 h-8 md:w-10 md:h-10 text-black-0"})}),m.jsx(wn,{isOpen:t,children:m.jsx(CD,{habitData:o,handleHabitChange:B,handleAddHabit:F,handleFocus:he,showMonthCalendar:h,calendarRef:k,handleHabitModal:C,habitCategories:O,setHabitData:s,monthCalendarDate:I,handleMonthCalendarSelectDate:te,setCalendarTarget:y,setShowMonthCalendar:p})}),m.jsx(wn,{isOpen:r,onClose:L,children:m.jsx(l1,{selectedHabit:b,handleDetailModal:L,uncompletedFine:E,handleEditModal:z,habitCategories:O})}),m.jsx(wn,{isOpen:i,onClose:z,children:m.jsx(c1,{habitData:o,handleHabitChange:B,handleUpdateHabit:Y,handleFocus:he,showMonthCalendar:h,calendarTarget:g,calendarRef:k,handleEditModal:z,handleDeleteHabit:re,habitCategories:O,setHabitData:s,monthCalendarDate:I,handleMonthCalendarSelectDate:te,setCalendarTarget:y,setShowMonthCalendar:p})})]})}function ND(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=ND(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Me(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=ND(t))&&(n&&(n+=" "),n+=e);return n}var Gq=Array.isArray,Zr=Gq,Xq=typeof Hd=="object"&&Hd&&Hd.Object===Object&&Hd,RD=Xq,Yq=RD,Qq=typeof self=="object"&&self&&self.Object===Object&&self,Jq=Yq||Qq||Function("return this")(),bi=Jq,Zq=bi,eH=Zq.Symbol,wd=eH,oA=wd,jD=Object.prototype,tH=jD.hasOwnProperty,rH=jD.toString,qc=oA?oA.toStringTag:void 0;function nH(t){var e=tH.call(t,qc),r=t[qc];try{t[qc]=void 0;var n=!0}catch{}var i=rH.call(t);return n&&(e?t[qc]=r:delete t[qc]),i}var iH=nH,aH=Object.prototype,oH=aH.toString;function sH(t){return oH.call(t)}var lH=sH,sA=wd,cH=iH,uH=lH,fH="[object Null]",dH="[object Undefined]",lA=sA?sA.toStringTag:void 0;function hH(t){return t==null?t===void 0?dH:fH:lA&&lA in Object(t)?cH(t):uH(t)}var aa=hH;function pH(t){return t!=null&&typeof t=="object"}var oa=pH,mH=aa,gH=oa,yH="[object Symbol]";function vH(t){return typeof t=="symbol"||gH(t)&&mH(t)==yH}var lc=vH,bH=Zr,wH=lc,xH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_H=/^\w*$/;function kH(t,e){if(bH(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||wH(t)?!0:_H.test(t)||!xH.test(t)||e!=null&&t in Object(e)}var f1=kH;function EH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var po=EH;const cc=it(po);var SH=aa,TH=po,AH="[object AsyncFunction]",PH="[object Function]",IH="[object GeneratorFunction]",OH="[object Proxy]";function CH(t){if(!TH(t))return!1;var e=SH(t);return e==PH||e==IH||e==AH||e==OH}var d1=CH;const Ne=it(d1);var NH=bi,RH=NH["__core-js_shared__"],jH=RH,Av=jH,cA=function(){var t=/[^.]+$/.exec(Av&&Av.keys&&Av.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function DH(t){return!!cA&&cA in t}var MH=DH,$H=Function.prototype,LH=$H.toString;function FH(t){if(t!=null){try{return LH.call(t)}catch{}try{return t+""}catch{}}return""}var DD=FH,VH=d1,UH=MH,BH=po,zH=DD,WH=/[\\^$.*+?()[\]{}|]/g,qH=/^\[object .+?Constructor\]$/,HH=Function.prototype,KH=Object.prototype,GH=HH.toString,XH=KH.hasOwnProperty,YH=RegExp("^"+GH.call(XH).replace(WH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function QH(t){if(!BH(t)||UH(t))return!1;var e=VH(t)?YH:qH;return e.test(zH(t))}var JH=QH;function ZH(t,e){return t==null?void 0:t[e]}var eK=ZH,tK=JH,rK=eK;function nK(t,e){var r=rK(t,e);return tK(r)?r:void 0}var ws=nK,iK=ws,aK=iK(Object,"create"),Cg=aK,uA=Cg;function oK(){this.__data__=uA?uA(null):{},this.size=0}var sK=oK;function lK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cK=lK,uK=Cg,fK="__lodash_hash_undefined__",dK=Object.prototype,hK=dK.hasOwnProperty;function pK(t){var e=this.__data__;if(uK){var r=e[t];return r===fK?void 0:r}return hK.call(e,t)?e[t]:void 0}var mK=pK,gK=Cg,yK=Object.prototype,vK=yK.hasOwnProperty;function bK(t){var e=this.__data__;return gK?e[t]!==void 0:vK.call(e,t)}var wK=bK,xK=Cg,_K="__lodash_hash_undefined__";function kK(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=xK&&e===void 0?_K:e,this}var EK=kK,SK=sK,TK=cK,AK=mK,PK=wK,IK=EK;function uc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}uc.prototype.clear=SK;uc.prototype.delete=TK;uc.prototype.get=AK;uc.prototype.has=PK;uc.prototype.set=IK;var OK=uc;function CK(){this.__data__=[],this.size=0}var NK=CK;function RK(t,e){return t===e||t!==t&&e!==e}var h1=RK,jK=h1;function DK(t,e){for(var r=t.length;r--;)if(jK(t[r][0],e))return r;return-1}var Ng=DK,MK=Ng,$K=Array.prototype,LK=$K.splice;function FK(t){var e=this.__data__,r=MK(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():LK.call(e,r,1),--this.size,!0}var VK=FK,UK=Ng;function BK(t){var e=this.__data__,r=UK(e,t);return r<0?void 0:e[r][1]}var zK=BK,WK=Ng;function qK(t){return WK(this.__data__,t)>-1}var HK=qK,KK=Ng;function GK(t,e){var r=this.__data__,n=KK(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var XK=GK,YK=NK,QK=VK,JK=zK,ZK=HK,eG=XK;function fc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fc.prototype.clear=YK;fc.prototype.delete=QK;fc.prototype.get=JK;fc.prototype.has=ZK;fc.prototype.set=eG;var Rg=fc,tG=ws,rG=bi,nG=tG(rG,"Map"),p1=nG,fA=OK,iG=Rg,aG=p1;function oG(){this.size=0,this.__data__={hash:new fA,map:new(aG||iG),string:new fA}}var sG=oG;function lG(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var cG=lG,uG=cG;function fG(t,e){var r=t.__data__;return uG(e)?r[typeof e=="string"?"string":"hash"]:r.map}var jg=fG,dG=jg;function hG(t){var e=dG(this,t).delete(t);return this.size-=e?1:0,e}var pG=hG,mG=jg;function gG(t){return mG(this,t).get(t)}var yG=gG,vG=jg;function bG(t){return vG(this,t).has(t)}var wG=bG,xG=jg;function _G(t,e){var r=xG(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var kG=_G,EG=sG,SG=pG,TG=yG,AG=wG,PG=kG;function dc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dc.prototype.clear=EG;dc.prototype.delete=SG;dc.prototype.get=TG;dc.prototype.has=AG;dc.prototype.set=PG;var m1=dc,MD=m1,IG="Expected a function";function g1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(IG);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(g1.Cache||MD),r}g1.Cache=MD;var $D=g1;const OG=it($D);var CG=$D,NG=500;function RG(t){var e=CG(t,function(n){return r.size===NG&&r.clear(),n}),r=e.cache;return e}var jG=RG,DG=jG,MG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$G=/\\(\\)?/g,LG=DG(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(MG,function(r,n,i,a){e.push(i?a.replace($G,"$1"):n||r)}),e}),FG=LG;function VG(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var y1=VG,dA=wd,UG=y1,BG=Zr,zG=lc,WG=1/0,hA=dA?dA.prototype:void 0,pA=hA?hA.toString:void 0;function LD(t){if(typeof t=="string")return t;if(BG(t))return UG(t,LD)+"";if(zG(t))return pA?pA.call(t):"";var e=t+"";return e=="0"&&1/t==-WG?"-0":e}var qG=LD,HG=qG;function KG(t){return t==null?"":HG(t)}var FD=KG,GG=Zr,XG=f1,YG=FG,QG=FD;function JG(t,e){return GG(t)?t:XG(t,e)?[t]:YG(QG(t))}var VD=JG,ZG=lc,eX=1/0;function tX(t){if(typeof t=="string"||ZG(t))return t;var e=t+"";return e=="0"&&1/t==-eX?"-0":e}var Dg=tX,rX=VD,nX=Dg;function iX(t,e){e=rX(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[nX(e[r++])];return r&&r==n?t:void 0}var v1=iX,aX=v1;function oX(t,e,r){var n=t==null?void 0:aX(t,e);return n===void 0?r:n}var UD=oX;const cn=it(UD);function sX(t){return t==null}var lX=sX;const Le=it(lX);var cX=aa,uX=Zr,fX=oa,dX="[object String]";function hX(t){return typeof t=="string"||!uX(t)&&fX(t)&&cX(t)==dX}var pX=hX;const xd=it(pX);var BD={exports:{}},at={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var or=typeof Symbol=="function"&&Symbol.for,b1=or?Symbol.for("react.element"):60103,w1=or?Symbol.for("react.portal"):60106,Mg=or?Symbol.for("react.fragment"):60107,$g=or?Symbol.for("react.strict_mode"):60108,Lg=or?Symbol.for("react.profiler"):60114,Fg=or?Symbol.for("react.provider"):60109,Vg=or?Symbol.for("react.context"):60110,x1=or?Symbol.for("react.async_mode"):60111,Ug=or?Symbol.for("react.concurrent_mode"):60111,Bg=or?Symbol.for("react.forward_ref"):60112,zg=or?Symbol.for("react.suspense"):60113,mX=or?Symbol.for("react.suspense_list"):60120,Wg=or?Symbol.for("react.memo"):60115,qg=or?Symbol.for("react.lazy"):60116,gX=or?Symbol.for("react.block"):60121,yX=or?Symbol.for("react.fundamental"):60117,vX=or?Symbol.for("react.responder"):60118,bX=or?Symbol.for("react.scope"):60119;function hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case b1:switch(t=t.type,t){case x1:case Ug:case Mg:case Lg:case $g:case zg:return t;default:switch(t=t&&t.$$typeof,t){case Vg:case Bg:case qg:case Wg:case Fg:return t;default:return e}}case w1:return e}}}function zD(t){return hn(t)===Ug}at.AsyncMode=x1;at.ConcurrentMode=Ug;at.ContextConsumer=Vg;at.ContextProvider=Fg;at.Element=b1;at.ForwardRef=Bg;at.Fragment=Mg;at.Lazy=qg;at.Memo=Wg;at.Portal=w1;at.Profiler=Lg;at.StrictMode=$g;at.Suspense=zg;at.isAsyncMode=function(t){return zD(t)||hn(t)===x1};at.isConcurrentMode=zD;at.isContextConsumer=function(t){return hn(t)===Vg};at.isContextProvider=function(t){return hn(t)===Fg};at.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===b1};at.isForwardRef=function(t){return hn(t)===Bg};at.isFragment=function(t){return hn(t)===Mg};at.isLazy=function(t){return hn(t)===qg};at.isMemo=function(t){return hn(t)===Wg};at.isPortal=function(t){return hn(t)===w1};at.isProfiler=function(t){return hn(t)===Lg};at.isStrictMode=function(t){return hn(t)===$g};at.isSuspense=function(t){return hn(t)===zg};at.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mg||t===Ug||t===Lg||t===$g||t===zg||t===mX||typeof t=="object"&&t!==null&&(t.$$typeof===qg||t.$$typeof===Wg||t.$$typeof===Fg||t.$$typeof===Vg||t.$$typeof===Bg||t.$$typeof===yX||t.$$typeof===vX||t.$$typeof===bX||t.$$typeof===gX)};at.typeOf=hn;BD.exports=at;var Eb=BD.exports,wX=aa,xX=oa,_X="[object Number]";function kX(t){return typeof t=="number"||xX(t)&&wX(t)==_X}var WD=kX;const EX=it(WD);var SX=WD;function TX(t){return SX(t)&&t!=+t}var AX=TX;const _d=it(AX);var Mr=function(e){return e===0?0:e>0?1:-1},$o=function(e){return xd(e)&&e.indexOf("%")===e.length-1},fe=function(e){return EX(e)&&!_d(e)},Yt=function(e){return fe(e)||xd(e)},PX=0,kd=function(e){var r=++PX;return"".concat(e||"").concat(r)},$r=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(e)&&!xd(e))return n;var a;if($o(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return _d(a)&&(a=n),i&&a>r&&(a=r),a},Oa=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},IX=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},wa=function(e,r){return fe(e)&&fe(r)?function(n){return e+n*(r-e)}:function(){return r}};function Sb(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):cn(n,e))===r})}function yl(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}var OX=["viewBox","children"],CX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mA=["points","pathLength"],Pv={svg:OX,polygon:mA,polyline:mA},_1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(D.isValidElement(e)&&(n=e.props),!cc(n))return null;var i={};return Object.keys(n).forEach(function(a){_1.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},NX=function(e,r,n){return function(i){return e(r,n,i),null}},os=function(e,r,n){if(!cc(e)||Tb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];_1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=NX(o,r,n))}),i},RX=["children"],jX=["children"];function gA(t,e){if(t==null)return{};var r=DX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DX(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var yA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},zi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},vA=null,Iv=null,k1=function t(e){if(e===vA&&Array.isArray(Iv))return Iv;var r=[];return D.Children.forEach(e,function(n){Le(n)||(Eb.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Iv=r,vA=e,r};function An(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return zi(i)}):n=[zi(e)],k1(t).forEach(function(i){var a=cn(i,"type.displayName")||cn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function nn(t,e){var r=An(t,e);return r&&r[0]}var bA=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!fe(n)||n<=0||!fe(i)||i<=0)},MX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$X=function(e){return e&&e.type&&xd(e.type)&&MX.indexOf(e.type)>=0},LX=function(e,r,n,i){var a,o=(a=Pv==null?void 0:Pv[i])!==null&&a!==void 0?a:[];return!Ne(e)&&(i&&o.includes(r)||CX.includes(r))||n&&_1.includes(r)},Pe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!cc(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;LX((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},Ab=function t(e,r){if(e===r)return!0;var n=D.Children.count(e);if(n!==D.Children.count(r))return!1;if(n===0)return!0;if(n===1)return wA(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!wA(a,o))return!1}return!0},wA=function(e,r){if(Le(e)&&Le(r))return!0;if(!Le(e)&&!Le(r)){var n=e.props||{},i=n.children,a=gA(n,RX),o=r.props||{},s=o.children,l=gA(o,jX);return i&&s?yl(a,l)&&Ab(i,s):!i&&!s?yl(a,l):!1}return!1},xA=function(e,r){var n=[],i={};return k1(e).forEach(function(a,o){if($X(a))n.push(a);else if(a){var s=zi(a.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(a,s,o);n.push(f),i[s]=!0}}}),n},FX=function(e){var r=e&&e.type;return r&&yA[r]?yA[r]:null},VX=function(e,r){return k1(r).indexOf(e)},UX=["children","width","height","viewBox","className","style","title","desc"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pb.apply(this,arguments)}function BX(t,e){if(t==null)return{};var r=zX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zX(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Ib(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=BX(t,UX),u=i||{width:r,height:n,x:0,y:0},f=Me("recharts-surface",a);return $.createElement("svg",Pb({},Pe(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),$.createElement("title",null,s),$.createElement("desc",null,l),e)}var WX=["children","className"];function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ob.apply(this,arguments)}function qX(t,e){if(t==null)return{};var r=HX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HX(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var rt=$.forwardRef(function(t,e){var r=t.children,n=t.className,i=qX(t,WX),a=Me("recharts-layer",n);return $.createElement("g",Ob({className:a},Pe(i,!0),{ref:e}),r)}),zn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function KX(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var GX=KX,XX=GX;function YX(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:XX(t,e,r)}var QX=YX,JX="\\ud800-\\udfff",ZX="\\u0300-\\u036f",eY="\\ufe20-\\ufe2f",tY="\\u20d0-\\u20ff",rY=ZX+eY+tY,nY="\\ufe0e\\ufe0f",iY="\\u200d",aY=RegExp("["+iY+JX+rY+nY+"]");function oY(t){return aY.test(t)}var qD=oY;function sY(t){return t.split("")}var lY=sY,HD="\\ud800-\\udfff",cY="\\u0300-\\u036f",uY="\\ufe20-\\ufe2f",fY="\\u20d0-\\u20ff",dY=cY+uY+fY,hY="\\ufe0e\\ufe0f",pY="["+HD+"]",Cb="["+dY+"]",Nb="\\ud83c[\\udffb-\\udfff]",mY="(?:"+Cb+"|"+Nb+")",KD="[^"+HD+"]",GD="(?:\\ud83c[\\udde6-\\uddff]){2}",XD="[\\ud800-\\udbff][\\udc00-\\udfff]",gY="\\u200d",YD=mY+"?",QD="["+hY+"]?",yY="(?:"+gY+"(?:"+[KD,GD,XD].join("|")+")"+QD+YD+")*",vY=QD+YD+yY,bY="(?:"+[KD+Cb+"?",Cb,GD,XD,pY].join("|")+")",wY=RegExp(Nb+"(?="+Nb+")|"+bY+vY,"g");function xY(t){return t.match(wY)||[]}var _Y=xY,kY=lY,EY=qD,SY=_Y;function TY(t){return EY(t)?SY(t):kY(t)}var AY=TY,PY=QX,IY=qD,OY=AY,CY=FD;function NY(t){return function(e){e=CY(e);var r=IY(e)?OY(e):void 0,n=r?r[0]:e.charAt(0),i=r?PY(r,1).join(""):e.slice(1);return n[t]()+i}}var RY=NY,jY=RY,DY=jY("toUpperCase"),MY=DY;const Hg=it(MY);function ft(t){return function(){return t}}const JD=Math.cos,Zp=Math.sin,Xn=Math.sqrt,em=Math.PI,Kg=2*em,Rb=Math.PI,jb=2*Rb,Io=1e-6,$Y=jb-Io;function ZD(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function LY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ZD;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class FY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ZD:LY(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,c=i-r,u=o-e,f=s-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Io)if(!(Math.abs(f*l-c*u)>Io)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,g=i-s,y=l*l+c*c,b=p*p+g*g,_=Math.sqrt(y),v=Math.sqrt(h),w=a*Math.tan((Rb-Math.acos((y+h-b)/(2*_*v)))/2),E=w/v,T=w/_;Math.abs(E-1)>Io&&this._append`L${e+E*u},${r+E*f}`,this._append`A${a},${a},0,0,${+(f*p>u*g)},${this._x1=e+T*l},${this._y1=r+T*c}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,u=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Io||Math.abs(this._y1-u)>Io)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%jb+jb),h>$Y?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Io&&this._append`A${n},${n},0,${+(h>=Rb)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function E1(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new FY(e)}function S1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eM(t){this._context=t}eM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gg(t){return new eM(t)}function tM(t){return t[0]}function rM(t){return t[1]}function nM(t,e){var r=ft(!0),n=null,i=Gg,a=null,o=E1(s);t=typeof t=="function"?t:t===void 0?tM:ft(t),e=typeof e=="function"?e:e===void 0?rM:ft(e);function s(l){var c,u=(l=S1(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ft(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ft(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ft(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function bh(t,e,r){var n=null,i=ft(!0),a=null,o=Gg,s=null,l=E1(c);t=typeof t=="function"?t:t===void 0?tM:ft(+t),e=typeof e=="function"?e:ft(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?rM:ft(+r);function c(f){var h,p,g,y=(f=S1(f)).length,b,_=!1,v,w=new Array(y),E=new Array(y);for(a==null&&(s=o(v=l())),h=0;h<=y;++h){if(!(h<y&&i(b=f[h],h,f))===_)if(_=!_)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(w[g],E[g]);s.lineEnd(),s.areaEnd()}_&&(w[h]=+t(b,h,f),E[h]=+e(b,h,f),s.point(n?+n(b,h,f):w[h],r?+r(b,h,f):E[h]))}if(v)return s=null,v+""||null}function u(){return nM().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ft(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ft(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ft(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class iM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function VY(t){return new iM(t,!0)}function UY(t){return new iM(t,!1)}const T1={draw(t,e){const r=Xn(e/em);t.moveTo(r,0),t.arc(0,0,r,0,Kg)}},BY={draw(t,e){const r=Xn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},aM=Xn(1/3),zY=aM*2,WY={draw(t,e){const r=Xn(e/zY),n=r*aM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},qY={draw(t,e){const r=Xn(e),n=-r/2;t.rect(n,n,r,r)}},HY=.8908130915292852,oM=Zp(em/10)/Zp(7*em/10),KY=Zp(Kg/10)*oM,GY=-JD(Kg/10)*oM,XY={draw(t,e){const r=Xn(e*HY),n=KY*r,i=GY*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Kg*a/5,s=JD(o),l=Zp(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},Ov=Xn(3),YY={draw(t,e){const r=-Xn(e/(Ov*3));t.moveTo(0,r*2),t.lineTo(-Ov*r,-r),t.lineTo(Ov*r,-r),t.closePath()}},pn=-.5,mn=Xn(3)/2,Db=1/Xn(12),QY=(Db/2+1)*3,JY={draw(t,e){const r=Xn(e/QY),n=r/2,i=r*Db,a=n,o=r*Db+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(pn*n-mn*i,mn*n+pn*i),t.lineTo(pn*a-mn*o,mn*a+pn*o),t.lineTo(pn*s-mn*l,mn*s+pn*l),t.lineTo(pn*n+mn*i,pn*i-mn*n),t.lineTo(pn*a+mn*o,pn*o-mn*a),t.lineTo(pn*s+mn*l,pn*l-mn*s),t.closePath()}};function ZY(t,e){let r=null,n=E1(i);t=typeof t=="function"?t:ft(t||T1),e=typeof e=="function"?e:ft(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ft(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ft(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function tm(){}function rm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function sM(t){this._context=t}sM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eQ(t){return new sM(t)}function lM(t){this._context=t}lM.prototype={areaStart:tm,areaEnd:tm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tQ(t){return new lM(t)}function cM(t){this._context=t}cM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:rm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rQ(t){return new cM(t)}function uM(t){this._context=t}uM.prototype={areaStart:tm,areaEnd:tm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function nQ(t){return new uM(t)}function _A(t){return t<0?-1:1}function kA(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(_A(a)+_A(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function EA(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Cv(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function nm(t){this._context=t}nm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cv(this,this._t0,EA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Cv(this,EA(this,r=kA(this,t,e)),r);break;default:Cv(this,this._t0,r=kA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function fM(t){this._context=new dM(t)}(fM.prototype=Object.create(nm.prototype)).point=function(t,e){nm.prototype.point.call(this,e,t)};function dM(t){this._context=t}dM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function iQ(t){return new nm(t)}function aQ(t){return new fM(t)}function hM(t){this._context=t}hM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=SA(t),i=SA(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function SA(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function oQ(t){return new hM(t)}function Xg(t,e){this._context=t,this._t=e}Xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function sQ(t){return new Xg(t,.5)}function lQ(t){return new Xg(t,0)}function cQ(t){return new Xg(t,1)}function jl(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Mb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function uQ(t,e){return t[e]}function fQ(t){const e=[];return e.key=t,e}function dQ(){var t=ft([]),e=Mb,r=jl,n=uQ;function i(a){var o=Array.from(t.apply(this,arguments),fQ),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,a)]).data=f;for(s=0,u=S1(e(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ft(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ft(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Mb:typeof a=="function"?a:ft(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??jl,i):r},i}function hQ(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}jl(t,e)}}function pQ(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}jl(t,e)}}function mQ(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,g=0;g<s;++g){var y=t[e[g]],b=y[n][1]||0,_=y[n-1][1]||0;p+=b-_}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,jl(t,e)}}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}var gQ=["type","size","sizeType"];function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$b.apply(this,arguments)}function TA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TA(Object(r),!0).forEach(function(n){yQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yQ(t,e,r){return e=vQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vQ(t){var e=bQ(t,"string");return gf(e)=="symbol"?e:String(e)}function bQ(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wQ(t,e){if(t==null)return{};var r=xQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xQ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var pM={symbolCircle:T1,symbolCross:BY,symbolDiamond:WY,symbolSquare:qY,symbolStar:XY,symbolTriangle:YY,symbolWye:JY},_Q=Math.PI/180,kQ=function(e){var r="symbol".concat(Hg(e));return pM[r]||T1},EQ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*_Q;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},SQ=function(e,r){pM["symbol".concat(Hg(e))]=r},A1=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=wQ(e,gQ),c=AA(AA({},l),{},{type:n,size:a,sizeType:s}),u=function(){var b=kQ(n),_=ZY().type(b).size(EQ(a,s,n));return _()},f=c.className,h=c.cx,p=c.cy,g=Pe(c,!0);return h===+h&&p===+p&&a===+a?$.createElement("path",$b({},g,{className:Me("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};A1.registerSymbol=SQ;function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lb.apply(this,arguments)}function PA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(r),!0).forEach(function(n){yf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gM(n.key),n)}}function IQ(t,e,r){return e&&PQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OQ(t,e,r){return e=im(e),CQ(t,mM()?Reflect.construct(e,r||[],im(t).constructor):e.apply(t,r))}function CQ(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NQ(t)}function NQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mM=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},im(t)}function RQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fb(t,e)}function Fb(t,e){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fb(t,e)}function yf(t,e,r){return e=gM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gM(t){var e=jQ(t,"string");return Dl(e)=="symbol"?e:String(e)}function jQ(t,e){if(Dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gn=32,P1=function(t){RQ(e,t);function e(){return AQ(this,e),OQ(this,e,arguments)}return IQ(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=gn/2,o=gn/6,s=gn/3,l=n.inactive?i:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:gn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(gn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(gn/8,"h").concat(gn,"v").concat(gn*3/4,"h").concat(-gn,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var c=TQ({},n);return delete c.legendIcon,$.cloneElement(n.legendIcon,c)}return $.createElement(A1,{fill:l,cx:a,cy:a,size:gn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:gn,height:gn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var y=p.formatter||l,b=Me(yf(yf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=Ne(p.value)?null:p.value;zn(!Ne(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?c:p.color;return $.createElement("li",Lb({className:b,style:f,key:"legend-item-".concat(g)},os(n.props,p,g)),$.createElement(Ib,{width:o,height:o,viewBox:u,style:h},n.renderIcon(p)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},y?y(_,p,g):_))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}]),e}(D.PureComponent);yf(P1,"displayName","Legend");yf(P1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var DQ=Rg;function MQ(){this.__data__=new DQ,this.size=0}var $Q=MQ;function LQ(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var FQ=LQ;function VQ(t){return this.__data__.get(t)}var UQ=VQ;function BQ(t){return this.__data__.has(t)}var zQ=BQ,WQ=Rg,qQ=p1,HQ=m1,KQ=200;function GQ(t,e){var r=this.__data__;if(r instanceof WQ){var n=r.__data__;if(!qQ||n.length<KQ-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new HQ(n)}return r.set(t,e),this.size=r.size,this}var XQ=GQ,YQ=Rg,QQ=$Q,JQ=FQ,ZQ=UQ,eJ=zQ,tJ=XQ;function hc(t){var e=this.__data__=new YQ(t);this.size=e.size}hc.prototype.clear=QQ;hc.prototype.delete=JQ;hc.prototype.get=ZQ;hc.prototype.has=eJ;hc.prototype.set=tJ;var yM=hc,rJ="__lodash_hash_undefined__";function nJ(t){return this.__data__.set(t,rJ),this}var iJ=nJ;function aJ(t){return this.__data__.has(t)}var oJ=aJ,sJ=m1,lJ=iJ,cJ=oJ;function am(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new sJ;++e<r;)this.add(t[e])}am.prototype.add=am.prototype.push=lJ;am.prototype.has=cJ;var vM=am;function uJ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var bM=uJ;function fJ(t,e){return t.has(e)}var wM=fJ,dJ=vM,hJ=bM,pJ=wM,mJ=1,gJ=2;function yJ(t,e,r,n,i,a){var o=r&mJ,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=r&gJ?new dJ:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var g=t[f],y=e[f];if(n)var b=o?n(y,g,f,e,t,a):n(g,y,f,t,e,a);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!hJ(e,function(_,v){if(!pJ(p,v)&&(g===_||i(g,_,r,n,a)))return p.push(v)})){h=!1;break}}else if(!(g===y||i(g,y,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var xM=yJ,vJ=bi,bJ=vJ.Uint8Array,wJ=bJ;function xJ(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var _J=xJ;function kJ(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var I1=kJ,IA=wd,OA=wJ,EJ=h1,SJ=xM,TJ=_J,AJ=I1,PJ=1,IJ=2,OJ="[object Boolean]",CJ="[object Date]",NJ="[object Error]",RJ="[object Map]",jJ="[object Number]",DJ="[object RegExp]",MJ="[object Set]",$J="[object String]",LJ="[object Symbol]",FJ="[object ArrayBuffer]",VJ="[object DataView]",CA=IA?IA.prototype:void 0,Nv=CA?CA.valueOf:void 0;function UJ(t,e,r,n,i,a,o){switch(r){case VJ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case FJ:return!(t.byteLength!=e.byteLength||!a(new OA(t),new OA(e)));case OJ:case CJ:case jJ:return EJ(+t,+e);case NJ:return t.name==e.name&&t.message==e.message;case DJ:case $J:return t==e+"";case RJ:var s=TJ;case MJ:var l=n&PJ;if(s||(s=AJ),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;n|=IJ,o.set(t,e);var u=SJ(s(t),s(e),n,i,a,o);return o.delete(t),u;case LJ:if(Nv)return Nv.call(t)==Nv.call(e)}return!1}var BJ=UJ;function zJ(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var _M=zJ,WJ=_M,qJ=Zr;function HJ(t,e,r){var n=e(t);return qJ(t)?n:WJ(n,r(t))}var KJ=HJ;function GJ(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var XJ=GJ;function YJ(){return[]}var QJ=YJ,JJ=XJ,ZJ=QJ,eZ=Object.prototype,tZ=eZ.propertyIsEnumerable,NA=Object.getOwnPropertySymbols,rZ=NA?function(t){return t==null?[]:(t=Object(t),JJ(NA(t),function(e){return tZ.call(t,e)}))}:ZJ,nZ=rZ;function iZ(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var aZ=iZ,oZ=aa,sZ=oa,lZ="[object Arguments]";function cZ(t){return sZ(t)&&oZ(t)==lZ}var uZ=cZ,RA=uZ,fZ=oa,kM=Object.prototype,dZ=kM.hasOwnProperty,hZ=kM.propertyIsEnumerable,pZ=RA(function(){return arguments}())?RA:function(t){return fZ(t)&&dZ.call(t,"callee")&&!hZ.call(t,"callee")},O1=pZ,om={exports:{}};function mZ(){return!1}var gZ=mZ;om.exports;(function(t,e){var r=bi,n=gZ,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(om,om.exports);var EM=om.exports,yZ=9007199254740991,vZ=/^(?:0|[1-9]\d*)$/;function bZ(t,e){var r=typeof t;return e=e??yZ,!!e&&(r=="number"||r!="symbol"&&vZ.test(t))&&t>-1&&t%1==0&&t<e}var C1=bZ,wZ=9007199254740991;function xZ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wZ}var N1=xZ,_Z=aa,kZ=N1,EZ=oa,SZ="[object Arguments]",TZ="[object Array]",AZ="[object Boolean]",PZ="[object Date]",IZ="[object Error]",OZ="[object Function]",CZ="[object Map]",NZ="[object Number]",RZ="[object Object]",jZ="[object RegExp]",DZ="[object Set]",MZ="[object String]",$Z="[object WeakMap]",LZ="[object ArrayBuffer]",FZ="[object DataView]",VZ="[object Float32Array]",UZ="[object Float64Array]",BZ="[object Int8Array]",zZ="[object Int16Array]",WZ="[object Int32Array]",qZ="[object Uint8Array]",HZ="[object Uint8ClampedArray]",KZ="[object Uint16Array]",GZ="[object Uint32Array]",yt={};yt[VZ]=yt[UZ]=yt[BZ]=yt[zZ]=yt[WZ]=yt[qZ]=yt[HZ]=yt[KZ]=yt[GZ]=!0;yt[SZ]=yt[TZ]=yt[LZ]=yt[AZ]=yt[FZ]=yt[PZ]=yt[IZ]=yt[OZ]=yt[CZ]=yt[NZ]=yt[RZ]=yt[jZ]=yt[DZ]=yt[MZ]=yt[$Z]=!1;function XZ(t){return EZ(t)&&kZ(t.length)&&!!yt[_Z(t)]}var YZ=XZ;function QZ(t){return function(e){return t(e)}}var SM=QZ,sm={exports:{}};sm.exports;(function(t,e){var r=RD,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(sm,sm.exports);var JZ=sm.exports,ZZ=YZ,eee=SM,jA=JZ,DA=jA&&jA.isTypedArray,tee=DA?eee(DA):ZZ,TM=tee,ree=aZ,nee=O1,iee=Zr,aee=EM,oee=C1,see=TM,lee=Object.prototype,cee=lee.hasOwnProperty;function uee(t,e){var r=iee(t),n=!r&&nee(t),i=!r&&!n&&aee(t),a=!r&&!n&&!i&&see(t),o=r||n||i||a,s=o?ree(t.length,String):[],l=s.length;for(var c in t)(e||cee.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||oee(c,l)))&&s.push(c);return s}var fee=uee,dee=Object.prototype;function hee(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||dee;return t===r}var pee=hee;function mee(t,e){return function(r){return t(e(r))}}var AM=mee,gee=AM,yee=gee(Object.keys,Object),vee=yee,bee=pee,wee=vee,xee=Object.prototype,_ee=xee.hasOwnProperty;function kee(t){if(!bee(t))return wee(t);var e=[];for(var r in Object(t))_ee.call(t,r)&&r!="constructor"&&e.push(r);return e}var Eee=kee,See=d1,Tee=N1;function Aee(t){return t!=null&&Tee(t.length)&&!See(t)}var Ed=Aee,Pee=fee,Iee=Eee,Oee=Ed;function Cee(t){return Oee(t)?Pee(t):Iee(t)}var Yg=Cee,Nee=KJ,Ree=nZ,jee=Yg;function Dee(t){return Nee(t,jee,Ree)}var Mee=Dee,MA=Mee,$ee=1,Lee=Object.prototype,Fee=Lee.hasOwnProperty;function Vee(t,e,r,n,i,a){var o=r&$ee,s=MA(t),l=s.length,c=MA(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:Fee.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);for(var b=o;++f<l;){h=s[f];var _=t[h],v=e[h];if(n)var w=o?n(v,_,h,e,t,a):n(_,v,h,t,e,a);if(!(w===void 0?_===v||i(_,v,r,n,a):w)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var E=t.constructor,T=e.constructor;E!=T&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof T=="function"&&T instanceof T)&&(y=!1)}return a.delete(t),a.delete(e),y}var Uee=Vee,Bee=ws,zee=bi,Wee=Bee(zee,"DataView"),qee=Wee,Hee=ws,Kee=bi,Gee=Hee(Kee,"Promise"),Xee=Gee,Yee=ws,Qee=bi,Jee=Yee(Qee,"Set"),PM=Jee,Zee=ws,ete=bi,tte=Zee(ete,"WeakMap"),rte=tte,Vb=qee,Ub=p1,Bb=Xee,zb=PM,Wb=rte,IM=aa,pc=DD,$A="[object Map]",nte="[object Object]",LA="[object Promise]",FA="[object Set]",VA="[object WeakMap]",UA="[object DataView]",ite=pc(Vb),ate=pc(Ub),ote=pc(Bb),ste=pc(zb),lte=pc(Wb),Oo=IM;(Vb&&Oo(new Vb(new ArrayBuffer(1)))!=UA||Ub&&Oo(new Ub)!=$A||Bb&&Oo(Bb.resolve())!=LA||zb&&Oo(new zb)!=FA||Wb&&Oo(new Wb)!=VA)&&(Oo=function(t){var e=IM(t),r=e==nte?t.constructor:void 0,n=r?pc(r):"";if(n)switch(n){case ite:return UA;case ate:return $A;case ote:return LA;case ste:return FA;case lte:return VA}return e});var cte=Oo,Rv=yM,ute=xM,fte=BJ,dte=Uee,BA=cte,zA=Zr,WA=EM,hte=TM,pte=1,qA="[object Arguments]",HA="[object Array]",wh="[object Object]",mte=Object.prototype,KA=mte.hasOwnProperty;function gte(t,e,r,n,i,a){var o=zA(t),s=zA(e),l=o?HA:BA(t),c=s?HA:BA(e);l=l==qA?wh:l,c=c==qA?wh:c;var u=l==wh,f=c==wh,h=l==c;if(h&&WA(t)){if(!WA(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new Rv),o||hte(t)?ute(t,e,r,n,i,a):fte(t,e,l,r,n,i,a);if(!(r&pte)){var p=u&&KA.call(t,"__wrapped__"),g=f&&KA.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,b=g?e.value():e;return a||(a=new Rv),i(y,b,r,n,a)}}return h?(a||(a=new Rv),dte(t,e,r,n,i,a)):!1}var yte=gte,vte=yte,GA=oa;function OM(t,e,r,n,i){return t===e?!0:t==null||e==null||!GA(t)&&!GA(e)?t!==t&&e!==e:vte(t,e,r,n,OM,i)}var R1=OM,bte=yM,wte=R1,xte=1,_te=2;function kte(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],c=t[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new bte;if(n)var h=n(c,u,l,t,e,f);if(!(h===void 0?wte(u,c,xte|_te,n,f):h))return!1}}return!0}var Ete=kte,Ste=po;function Tte(t){return t===t&&!Ste(t)}var CM=Tte,Ate=CM,Pte=Yg;function Ite(t){for(var e=Pte(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Ate(i)]}return e}var Ote=Ite;function Cte(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var NM=Cte,Nte=Ete,Rte=Ote,jte=NM;function Dte(t){var e=Rte(t);return e.length==1&&e[0][2]?jte(e[0][0],e[0][1]):function(r){return r===t||Nte(r,t,e)}}var Mte=Dte;function $te(t,e){return t!=null&&e in Object(t)}var Lte=$te,Fte=VD,Vte=O1,Ute=Zr,Bte=C1,zte=N1,Wte=Dg;function qte(t,e,r){e=Fte(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=Wte(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&zte(i)&&Bte(o,i)&&(Ute(t)||Vte(t)))}var Hte=qte,Kte=Lte,Gte=Hte;function Xte(t,e){return t!=null&&Gte(t,e,Kte)}var Yte=Xte,Qte=R1,Jte=UD,Zte=Yte,ere=f1,tre=CM,rre=NM,nre=Dg,ire=1,are=2;function ore(t,e){return ere(t)&&tre(e)?rre(nre(t),e):function(r){var n=Jte(r,t);return n===void 0&&n===e?Zte(r,t):Qte(e,n,ire|are)}}var sre=ore;function lre(t){return t}var mc=lre;function cre(t){return function(e){return e==null?void 0:e[t]}}var ure=cre,fre=v1;function dre(t){return function(e){return fre(e,t)}}var hre=dre,pre=ure,mre=hre,gre=f1,yre=Dg;function vre(t){return gre(t)?pre(yre(t)):mre(t)}var bre=vre,wre=Mte,xre=sre,_re=mc,kre=Zr,Ere=bre;function Sre(t){return typeof t=="function"?t:t==null?_re:typeof t=="object"?kre(t)?xre(t[0],t[1]):wre(t):Ere(t)}var wi=Sre;function Tre(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var RM=Tre;function Are(t){return t!==t}var Pre=Are;function Ire(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Ore=Ire,Cre=RM,Nre=Pre,Rre=Ore;function jre(t,e,r){return e===e?Rre(t,e,r):Cre(t,Nre,r)}var Dre=jre,Mre=Dre;function $re(t,e){var r=t==null?0:t.length;return!!r&&Mre(t,e,0)>-1}var Lre=$re;function Fre(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Vre=Fre;function Ure(){}var Bre=Ure,jv=PM,zre=Bre,Wre=I1,qre=1/0,Hre=jv&&1/Wre(new jv([,-0]))[1]==qre?function(t){return new jv(t)}:zre,Kre=Hre,Gre=vM,Xre=Lre,Yre=Vre,Qre=wM,Jre=Kre,Zre=I1,ene=200;function tne(t,e,r){var n=-1,i=Xre,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=Yre;else if(a>=ene){var c=e?null:Jre(t);if(c)return Zre(c);o=!1,i=Qre,l=new Gre}else l=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(u)}else i(l,f,r)||(l!==s&&l.push(f),s.push(u))}return s}var rne=tne,nne=wi,ine=rne;function ane(t,e){return t&&t.length?ine(t,nne(e)):[]}var one=ane;const XA=it(one);function jM(t,e,r){return e===!0?XA(t,r):Ne(e)?XA(t,e):t}function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}var sne=["ref"];function YA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ko(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(r),!0).forEach(function(n){Qg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$M(n.key),n)}}function cne(t,e,r){return e&&QA(t.prototype,e),r&&QA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function une(t,e,r){return e=lm(e),fne(t,DM()?Reflect.construct(e,r||[],lm(t).constructor):e.apply(t,r))}function fne(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MM(t)}function DM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DM=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lm(t)}function MM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qb(t,e)}function qb(t,e){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qb(t,e)}function Qg(t,e,r){return e=$M(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $M(t){var e=hne(t,"string");return Ml(e)=="symbol"?e:String(e)}function hne(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pne(t,e){if(t==null)return{};var r=mne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mne(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function gne(t){return t.value}function yne(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var r=pne(e,sne);return $.createElement(P1,r)}var JA=1,vf=function(t){dne(e,t);function e(){var r;lne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=une(this,e,[].concat(i)),Qg(MM(r),"lastBoundingBox",{width:-1,height:-1}),r}return cne(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>JA||Math.abs(i.height-this.lastBoundingBox.height)>JA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ko({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ko(ko({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=ko(ko({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},yne(a,ko(ko({},this.props),{},{payload:jM(u,c,gne)})))}}],[{key:"getWithHeight",value:function(n,i){var a=n.props.layout;return a==="vertical"&&fe(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}]),e}(D.PureComponent);Qg(vf,"displayName","Legend");Qg(vf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ZA=wd,vne=O1,bne=Zr,e2=ZA?ZA.isConcatSpreadable:void 0;function wne(t){return bne(t)||vne(t)||!!(e2&&t&&t[e2])}var xne=wne,_ne=_M,kne=xne;function LM(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=kne),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?LM(s,e-1,r,n,i):_ne(i,s):n||(i[i.length]=s)}return i}var FM=LM;function Ene(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var Sne=Ene,Tne=Sne,Ane=Tne(),Pne=Ane,Ine=Pne,One=Yg;function Cne(t,e){return t&&Ine(t,e,One)}var VM=Cne,Nne=Ed;function Rne(t,e){return function(r,n){if(r==null)return r;if(!Nne(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var jne=Rne,Dne=VM,Mne=jne,$ne=Mne(Dne),j1=$ne,Lne=j1,Fne=Ed;function Vne(t,e){var r=-1,n=Fne(t)?Array(t.length):[];return Lne(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var UM=Vne;function Une(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Bne=Une,t2=lc;function zne(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=t2(t),o=e!==void 0,s=e===null,l=e===e,c=t2(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var Wne=zne,qne=Wne;function Hne(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=qne(i[n],a[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Kne=Hne,Dv=y1,Gne=v1,Xne=wi,Yne=UM,Qne=Bne,Jne=SM,Zne=Kne,eie=mc,tie=Zr;function rie(t,e,r){e.length?e=Dv(e,function(a){return tie(a)?function(o){return Gne(o,a.length===1?a[0]:a)}:a}):e=[eie];var n=-1;e=Dv(e,Jne(Xne));var i=Yne(t,function(a,o,s){var l=Dv(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return Qne(i,function(a,o){return Zne(a,o,r)})}var nie=rie;function iie(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var aie=iie,oie=aie,r2=Math.max;function sie(t,e,r){return e=r2(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=r2(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),oie(t,this,s)}}var lie=sie;function cie(t){return function(){return t}}var uie=cie,fie=ws,die=function(){try{var t=fie(Object,"defineProperty");return t({},"",{}),t}catch{}}(),BM=die,hie=uie,n2=BM,pie=mc,mie=n2?function(t,e){return n2(t,"toString",{configurable:!0,enumerable:!1,value:hie(e),writable:!0})}:pie,gie=mie,yie=800,vie=16,bie=Date.now;function wie(t){var e=0,r=0;return function(){var n=bie(),i=vie-(n-r);if(r=n,i>0){if(++e>=yie)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var xie=wie,_ie=gie,kie=xie,Eie=kie(_ie),Sie=Eie,Tie=mc,Aie=lie,Pie=Sie;function Iie(t,e){return Pie(Aie(t,e,Tie),t+"")}var Oie=Iie,Cie=h1,Nie=Ed,Rie=C1,jie=po;function Die(t,e,r){if(!jie(r))return!1;var n=typeof e;return(n=="number"?Nie(r)&&Rie(e,r.length):n=="string"&&e in r)?Cie(r[e],t):!1}var Jg=Die,Mie=FM,$ie=nie,Lie=Oie,i2=Jg,Fie=Lie(function(t,e){if(t==null)return[];var r=e.length;return r>1&&i2(t,e[0],e[1])?e=[]:r>2&&i2(e[0],e[1],e[2])&&(e=[e[0]]),$ie(t,Mie(e,1),[])}),Vie=Fie;const D1=it(Vie);function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hb.apply(this,arguments)}function Uie(t,e){return qie(t)||Wie(t,e)||zie(t,e)||Bie()}function Bie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zie(t,e){if(t){if(typeof t=="string")return a2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(t,e)}}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function qie(t){if(Array.isArray(t))return t}function o2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(r),!0).forEach(function(n){Hie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hie(t,e,r){return e=Kie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kie(t){var e=Gie(t,"string");return bf(e)=="symbol"?e:String(e)}function Gie(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xie(t){return Array.isArray(t)&&Yt(t[0])&&Yt(t[1])?t.join(" ~ "):t}var Yie=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,b=e.labelFormatter,_=e.accessibilityLayer,v=_===void 0?!1:_,w=function(){if(u&&u.length){var N={padding:0,margin:0},C=(h?D1(u,h):u).map(function(L,z){if(L.type==="none")return null;var B=Mv({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),X=L.formatter||f||Xie,F=L.value,Y=L.name,re=F,de=Y;if(X&&re!=null&&de!=null){var te=X(F,Y,L,z,u);if(Array.isArray(te)){var he=Uie(te,2);re=he[0],de=he[1]}else re=te}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:B},Yt(de)?$.createElement("span",{className:"recharts-tooltip-item-name"},de):null,Yt(de)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},re),$.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:N},C)}return null},E=Mv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=Mv({margin:0},c),I=!Le(y),S=I?y:"",k=Me("recharts-default-tooltip",p),P=Me("recharts-tooltip-label",g);I&&b&&u!==void 0&&u!==null&&(S=b(y,u));var O=v?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",Hb({className:k,style:E},O),$.createElement("p",{className:P,style:T},$.isValidElement(S)?S:"".concat(S)),w())};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function xh(t,e,r){return e=Qie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qie(t){var e=Jie(t,"string");return wf(e)=="symbol"?e:String(e)}function Jie(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hc="recharts-tooltip-wrapper",Zie={visibility:"hidden"};function eae(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Me(Hc,xh(xh(xh(xh({},"".concat(Hc,"-right"),fe(r)&&e&&fe(e.x)&&r>=e.x),"".concat(Hc,"-left"),fe(r)&&e&&fe(e.x)&&r<e.x),"".concat(Hc,"-bottom"),fe(n)&&e&&fe(e.y)&&n>=e.y),"".concat(Hc,"-top"),fe(n)&&e&&fe(e.y)&&n<e.y))}function s2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&fe(a[n]))return a[n];var u=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?u:f;if(o[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+s,y=l[n]+c;return g>y?Math.max(u,l[n]):Math.max(f,l[n])}function tae(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function rae(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return o.height>0&&o.width>0&&r?(u=s2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=s2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=tae({translateX:u,translateY:f,useTranslate3d:s})):c=Zie,{cssProperties:c,cssClasses:eae({translateX:u,translateY:f,coordinate:r})}}function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function l2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(r),!0).forEach(function(n){Xb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WM(n.key),n)}}function aae(t,e,r){return e&&iae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oae(t,e,r){return e=cm(e),sae(t,zM()?Reflect.construct(e,r||[],cm(t).constructor):e.apply(t,r))}function sae(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kb(t)}function zM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zM=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cm(t)}function Kb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gb(t,e)}function Gb(t,e){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gb(t,e)}function Xb(t,e,r){return e=WM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WM(t){var e=cae(t,"string");return $l(e)=="symbol"?e:String(e)}function cae(t,e){if($l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u2=1,uae=function(t){lae(e,t);function e(){var r;nae(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=oae(this,e,[].concat(i)),Xb(Kb(r),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Xb(Kb(r),"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return aae(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>u2||Math.abs(n.height-this.state.lastBoundingBox.height)>u2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,y=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,v=i.wrapperStyle,w=rae({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:_}),E=w.cssClasses,T=w.cssProperties,I=c2(c2({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return $.createElement("div",{tabIndex:-1,className:E,style:I,ref:function(k){n.wrapperNode=k}},c)}}]),e}(D.PureComponent),fae=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wi={isSsr:fae(),get:function(e){return Wi[e]},set:function(e,r){if(typeof e=="string")Wi[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Wi[i]=e[i]})}}};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function f2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(r),!0).forEach(function(n){M1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HM(n.key),n)}}function pae(t,e,r){return e&&hae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mae(t,e,r){return e=um(e),gae(t,qM()?Reflect.construct(e,r||[],um(t).constructor):e.apply(t,r))}function gae(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yae(t)}function yae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qM=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},um(t)}function vae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yb(t,e)}function Yb(t,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yb(t,e)}function M1(t,e,r){return e=HM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HM(t){var e=bae(t,"string");return Ll(e)=="symbol"?e:String(e)}function bae(t,e){if(Ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wae(t){return t.dataKey}function xae(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(Yie,e)}var ei=function(t){vae(e,t);function e(){return dae(this,e),mae(this,e,arguments)}return pae(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,y=i.payloadUniqBy,b=i.position,_=i.reverseDirection,v=i.useTranslate3d,w=i.viewBox,E=i.wrapperStyle,T=g??[];f&&T.length&&(T=jM(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),y,wae));var I=T.length>0;return $.createElement(uae,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:I,offset:p,position:b,reverseDirection:_,useTranslate3d:v,viewBox:w,wrapperStyle:E},xae(c,d2(d2({},this.props),{},{payload:T})))}}]),e}(D.PureComponent);M1(ei,"displayName","Tooltip");M1(ei,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _ae=bi,kae=function(){return _ae.Date.now()},Eae=kae,Sae=/\s/;function Tae(t){for(var e=t.length;e--&&Sae.test(t.charAt(e)););return e}var Aae=Tae,Pae=Aae,Iae=/^\s+/;function Oae(t){return t&&t.slice(0,Pae(t)+1).replace(Iae,"")}var Cae=Oae,Nae=Cae,h2=po,Rae=lc,p2=NaN,jae=/^[-+]0x[0-9a-f]+$/i,Dae=/^0b[01]+$/i,Mae=/^0o[0-7]+$/i,$ae=parseInt;function Lae(t){if(typeof t=="number")return t;if(Rae(t))return p2;if(h2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=h2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Nae(t);var r=Dae.test(t);return r||Mae.test(t)?$ae(t.slice(2),r?2:8):jae.test(t)?p2:+t}var KM=Lae,Fae=po,$v=Eae,m2=KM,Vae="Expected a function",Uae=Math.max,Bae=Math.min;function zae(t,e,r){var n,i,a,o,s,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Vae);e=m2(e)||0,Fae(r)&&(u=!!r.leading,f="maxWait"in r,a=f?Uae(m2(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(I){var S=n,k=i;return n=i=void 0,c=I,o=t.apply(k,S),o}function g(I){return c=I,s=setTimeout(_,e),u?p(I):o}function y(I){var S=I-l,k=I-c,P=e-S;return f?Bae(P,a-k):P}function b(I){var S=I-l,k=I-c;return l===void 0||S>=e||S<0||f&&k>=a}function _(){var I=$v();if(b(I))return v(I);s=setTimeout(_,y(I))}function v(I){return s=void 0,h&&n?p(I):(n=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function E(){return s===void 0?o:v($v())}function T(){var I=$v(),S=b(I);if(n=arguments,i=this,l=I,S){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(_,e),p(l)}return s===void 0&&(s=setTimeout(_,e)),o}return T.cancel=w,T.flush=E,T}var Wae=zae,qae=Wae,Hae=po,Kae="Expected a function";function Gae(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Kae);return Hae(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),qae(t,e,{leading:n,maxWait:e,trailing:i})}var Xae=Gae;const GM=it(Xae);function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function g2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _h(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(r),!0).forEach(function(n){Yae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yae(t,e,r){return e=Qae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qae(t){var e=Jae(t,"string");return xf(e)=="symbol"?e:String(e)}function Jae(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zae(t,e){return noe(t)||roe(t,e)||toe(t,e)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(t,e){if(t){if(typeof t=="string")return y2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y2(t,e)}}function y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function roe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function noe(t){if(Array.isArray(t))return t}var $1=D.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,b=t.id,_=t.className,v=t.onResize,w=t.style,E=w===void 0?{}:w,T=D.useRef(null),I=D.useRef();I.current=v,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=D.useState({containerWidth:i.width,containerHeight:i.height}),k=Zae(S,2),P=k[0],O=k[1],R=D.useCallback(function(C,L){O(function(z){var B=Math.round(C),X=Math.round(L);return z.containerWidth===B&&z.containerHeight===X?z:{containerWidth:B,containerHeight:X}})},[]);D.useEffect(function(){var C=function(Y){var re,de=Y[0].contentRect,te=de.width,he=de.height;R(te,he),(re=I.current)===null||re===void 0||re.call(I,te,he)};y>0&&(C=GM(C,y,{trailing:!0,leading:!1}));var L=new ResizeObserver(C),z=T.current.getBoundingClientRect(),B=z.width,X=z.height;return R(B,X),L.observe(T.current),function(){L.disconnect()}},[R,y]);var N=D.useMemo(function(){var C=P.containerWidth,L=P.containerHeight;if(C<0||L<0)return null;zn($o(o)||$o(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),zn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=$o(o)?C:o,B=$o(l)?L:l;r&&r>0&&(z?B=z/r:B&&(z=B*r),h&&B>h&&(B=h)),zn(z>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,B,o,l,u,f,r);var X=!Array.isArray(p)&&Eb.isElement(p)&&zi(p.type).endsWith("Chart");return $.Children.map(p,function(F){return Eb.isElement(F)?D.cloneElement(F,_h({width:z,height:B},X?{style:_h({height:"100%",width:"100%",maxHeight:B,maxWidth:z},F.props.style)}:{})):F})},[r,p,l,h,f,u,P,o]);return $.createElement("div",{id:b?"".concat(b):void 0,className:Me("recharts-responsive-container",_),style:_h(_h({},E),{},{width:o,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:T},N)}),Sd=function(e){return null};Sd.displayName="Cell";function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){ioe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ioe(t,e,r){return e=aoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aoe(t){var e=ooe(t,"string");return _f(e)=="symbol"?e:String(e)}function ooe(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var js={widthCache:{},cacheCount:0},soe=2e3,loe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},b2="recharts_measurement_span";function coe(t){var e=Qb({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Ru=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wi.isSsr)return{width:0,height:0};var n=coe(r),i=JSON.stringify({text:e,copyStyle:n});if(js.widthCache[i])return js.widthCache[i];try{var a=document.getElementById(b2);a||(a=document.createElement("span"),a.setAttribute("id",b2),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Qb(Qb({},loe),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return js.widthCache[i]=l,++js.cacheCount>soe&&(js.cacheCount=0,js.widthCache={}),l}catch{return{width:0,height:0}}},uoe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function fm(t,e){return poe(t)||hoe(t,e)||doe(t,e)||foe()}function foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function doe(t,e){if(t){if(typeof t=="string")return w2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w2(t,e)}}function w2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function poe(t){if(Array.isArray(t))return t}function moe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yoe(n.key),n)}}function goe(t,e,r){return e&&x2(t.prototype,e),r&&x2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yoe(t){var e=voe(t,"string");return kf(e)=="symbol"?e:String(e)}function voe(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,k2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,boe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,woe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xoe=Object.keys(XM),rl="NaN";function _oe(t,e){return t*XM[e]}var kh=function(){function t(e,r){moe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!boe.test(r)&&(this.num=NaN,this.unit=""),xoe.includes(r)&&(this.num=_oe(e,r),this.unit="px")}return goe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=woe.exec(r))!==null&&n!==void 0?n:[],a=fm(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}]),t}();function YM(t){if(t.includes(rl))return rl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=_2.exec(e))!==null&&r!==void 0?r:[],i=fm(n,4),a=i[1],o=i[2],s=i[3],l=kh.parse(a??""),c=kh.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return rl;e=e.replace(_2,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=k2.exec(e))!==null&&f!==void 0?f:[],p=fm(h,4),g=p[1],y=p[2],b=p[3],_=kh.parse(g??""),v=kh.parse(b??""),w=y==="+"?_.add(v):_.subtract(v);if(w.isNaN())return rl;e=e.replace(k2,w.toString())}return e}var E2=/\(([^()]*)\)/;function koe(t){for(var e=t;e.includes("(");){var r=E2.exec(e),n=fm(r,2),i=n[1];e=e.replace(E2,YM(i))}return e}function Eoe(t){var e=t.replace(/\s+/g,"");return e=koe(e),e=YM(e),e}function Soe(t){try{return Eoe(t)}catch{return rl}}function Lv(t){var e=Soe(t.slice(5,-1));return e===rl?"":e}var Toe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Aoe=["dx","dy","angle","className","breakAll"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jb.apply(this,arguments)}function S2(t,e){if(t==null)return{};var r=Poe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Poe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function T2(t,e){return Noe(t)||Coe(t,e)||Ooe(t,e)||Ioe()}function Ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ooe(t,e){if(t){if(typeof t=="string")return A2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A2(t,e)}}function A2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Coe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Noe(t){if(Array.isArray(t))return t}var QM=/[ \f\n\r\t\v\u2028\u2029]+/,JM=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Le(r)||(n?a=r.toString().split(""):a=r.toString().split(QM));var o=a.map(function(l){return{word:l,width:Ru(l,i).width}}),s=n?0:Ru(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Roe=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=fe(o),f=s,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(B,X){var F=X.word,Y=X.width,re=B[B.length-1];if(re&&(i==null||a||re.width+Y+n<Number(i)))re.words.push(F),re.width+=Y+n;else{var de={words:[F],width:Y};B.push(de)}return B},[])},p=h(r),g=function(z){return z.reduce(function(B,X){return B.width>X.width?B:X})};if(!u)return p;for(var y="…",b=function(z){var B=f.slice(0,z),X=JM({breakAll:c,style:l,children:B+y}).wordsWithComputedWidth,F=h(X),Y=F.length>o||g(F).width>Number(i);return[Y,F]},_=0,v=f.length-1,w=0,E;_<=v&&w<=f.length-1;){var T=Math.floor((_+v)/2),I=T-1,S=b(I),k=T2(S,2),P=k[0],O=k[1],R=b(T),N=T2(R,1),C=N[0];if(!P&&!C&&(_=T+1),P&&C&&(v=T-1),!P&&C){E=O;break}w++}return E||p},P2=function(e){var r=Le(e)?[]:e.toString().split(QM);return[{words:r}]},joe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Wi.isSsr){var l,c,u=JM({breakAll:o,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return P2(i);return Roe({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return P2(i)},I2="#808080",ss=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,b=e.fill,_=b===void 0?I2:b,v=S2(e,Toe),w=D.useMemo(function(){return joe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),E=v.dx,T=v.dy,I=v.angle,S=v.className,k=v.breakAll,P=S2(v,Aoe);if(!Yt(n)||!Yt(a))return null;var O=n+(fe(E)?E:0),R=a+(fe(T)?T:0),N;switch(y){case"start":N=Lv("calc(".concat(c,")"));break;case"middle":N=Lv("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:N=Lv("calc(".concat(w.length-1," * -").concat(s,")"));break}var C=[];if(f){var L=w[0].width,z=v.width;C.push("scale(".concat((fe(z)?z/L:1)/L,")"))}return I&&C.push("rotate(".concat(I,", ").concat(O,", ").concat(R,")")),C.length&&(P.transform=C.join(" ")),$.createElement("text",Jb({},Pe(P,!0),{x:O,y:R,className:Me("recharts-text",S),textAnchor:p,fill:_.includes("url")?I2:_}),w.map(function(B,X){var F=B.words.join(k?"":" ");return $.createElement("tspan",{x:O,dy:X===0?N:s,key:F},F)}))};function Xa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Doe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function L1(t){let e,r,n;t.length!==2?(e=Xa,r=(s,l)=>Xa(t(s),l),n=(s,l)=>t(s)-l):(e=t===Xa||t===Doe?t:Moe,r=t,n=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function Moe(){return 0}function ZM(t){return t===null?NaN:+t}function*$oe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Loe=L1(Xa),Td=Loe.right;L1(ZM).center;class O2 extends Map{constructor(e,r=Uoe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(C2(this,e))}has(e){return super.has(C2(this,e))}set(e,r){return super.set(Foe(this,e),r)}delete(e){return super.delete(Voe(this,e))}}function C2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Foe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Voe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Uoe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Boe(t=Xa){if(t===Xa)return e$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function e$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zoe=Math.sqrt(50),Woe=Math.sqrt(10),qoe=Math.sqrt(2);function dm(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=zoe?10:a>=Woe?5:a>=qoe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?dm(t,e,r*2):[s,l,c]}function Zb(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?dm(e,t,r):dm(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function ew(t,e,r){return e=+e,t=+t,r=+r,dm(t,e,r)[2]}function tw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?ew(e,t,r):ew(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function N2(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function R2(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function t$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?e$:Boe(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*f/l+h)),g=Math.min(n,Math.floor(e+(l-c)*f/l+h));t$(t,e,p,g,i)}const a=t[e];let o=r,s=n;for(Kc(t,r,e),i(t[n],a)>0&&Kc(t,r,n);o<s;){for(Kc(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Kc(t,r,s):(++s,Kc(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Kc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Hoe(t,e,r){if(t=Float64Array.from($oe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return R2(t);if(e>=1)return N2(t);var n,i=(n-1)*e,a=Math.floor(i),o=N2(t$(t,a).subarray(0,a+1)),s=R2(t.subarray(a+1));return o+(s-o)*(i-a)}}function Koe(t,e,r=ZM){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Goe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Cn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function sa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const rw=Symbol("implicit");function F1(){var t=new O2,e=[],r=[],n=rw;function i(a){let o=t.get(a);if(o===void 0){if(n!==rw)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new O2;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return F1(e,r).unknown(n)},Cn.apply(i,arguments),i}function Ef(){var t=F1().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<n,g=p?i:n,y=p?n:i;a=(y-g)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*u,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var b=Goe(h).map(function(_){return g+a*_});return r(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return Ef(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Cn.apply(f(),arguments)}function r$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return r$(e())},t}function ju(){return r$(Ef.apply(null,arguments).paddingInner(1))}function V1(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function n$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ad(){}var Sf=.7,hm=1/Sf,vl="\\s*([+-]?\\d+)\\s*",Tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xoe=/^#([0-9a-f]{3,8})$/,Yoe=new RegExp(`^rgb\\(${vl},${vl},${vl}\\)$`),Qoe=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),Joe=new RegExp(`^rgba\\(${vl},${vl},${vl},${Tf}\\)$`),Zoe=new RegExp(`^rgba\\(${hi},${hi},${hi},${Tf}\\)$`),ese=new RegExp(`^hsl\\(${Tf},${hi},${hi}\\)$`),tse=new RegExp(`^hsla\\(${Tf},${hi},${hi},${Tf}\\)$`),j2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V1(Ad,Af,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:D2,formatHex:D2,formatHex8:rse,formatHsl:nse,formatRgb:M2,toString:M2});function D2(){return this.rgb().formatHex()}function rse(){return this.rgb().formatHex8()}function nse(){return i$(this).formatHsl()}function M2(){return this.rgb().formatRgb()}function Af(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Xoe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?$2(e):r===3?new Gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Eh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Eh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Yoe.exec(t))?new Gr(e[1],e[2],e[3],1):(e=Qoe.exec(t))?new Gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Joe.exec(t))?Eh(e[1],e[2],e[3],e[4]):(e=Zoe.exec(t))?Eh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ese.exec(t))?V2(e[1],e[2]/100,e[3]/100,1):(e=tse.exec(t))?V2(e[1],e[2]/100,e[3]/100,e[4]):j2.hasOwnProperty(t)?$2(j2[t]):t==="transparent"?new Gr(NaN,NaN,NaN,0):null}function $2(t){return new Gr(t>>16&255,t>>8&255,t&255,1)}function Eh(t,e,r,n){return n<=0&&(t=e=r=NaN),new Gr(t,e,r,n)}function ise(t){return t instanceof Ad||(t=Af(t)),t?(t=t.rgb(),new Gr(t.r,t.g,t.b,t.opacity)):new Gr}function nw(t,e,r,n){return arguments.length===1?ise(t):new Gr(t,e,r,n??1)}function Gr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}V1(Gr,nw,n$(Ad,{brighter(t){return t=t==null?hm:Math.pow(hm,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sf:Math.pow(Sf,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gr(qo(this.r),qo(this.g),qo(this.b),pm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L2,formatHex:L2,formatHex8:ase,formatRgb:F2,toString:F2}));function L2(){return`#${Lo(this.r)}${Lo(this.g)}${Lo(this.b)}`}function ase(){return`#${Lo(this.r)}${Lo(this.g)}${Lo(this.b)}${Lo((isNaN(this.opacity)?1:this.opacity)*255)}`}function F2(){const t=pm(this.opacity);return`${t===1?"rgb(":"rgba("}${qo(this.r)}, ${qo(this.g)}, ${qo(this.b)}${t===1?")":`, ${t})`}`}function pm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lo(t){return t=qo(t),(t<16?"0":"")+t.toString(16)}function V2(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Vn(t,e,r,n)}function i$(t){if(t instanceof Vn)return new Vn(t.h,t.s,t.l,t.opacity);if(t instanceof Ad||(t=Af(t)),!t)return new Vn;if(t instanceof Vn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Vn(o,s,l,t.opacity)}function ose(t,e,r,n){return arguments.length===1?i$(t):new Vn(t,e,r,n??1)}function Vn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}V1(Vn,ose,n$(Ad,{brighter(t){return t=t==null?hm:Math.pow(hm,t),new Vn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sf:Math.pow(Sf,t),new Vn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Gr(Fv(t>=240?t-240:t+120,i,n),Fv(t,i,n),Fv(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Vn(U2(this.h),Sh(this.s),Sh(this.l),pm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=pm(this.opacity);return`${t===1?"hsl(":"hsla("}${U2(this.h)}, ${Sh(this.s)*100}%, ${Sh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function U2(t){return t=(t||0)%360,t<0?t+360:t}function Sh(t){return Math.max(0,Math.min(1,t||0))}function Fv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const U1=t=>()=>t;function sse(t,e){return function(r){return t+r*e}}function lse(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function cse(t){return(t=+t)==1?a$:function(e,r){return r-e?lse(e,r,t):U1(isNaN(e)?r:e)}}function a$(t,e){var r=e-t;return r?sse(t,r):U1(isNaN(t)?e:t)}const B2=function t(e){var r=cse(e);function n(i,a){var o=r((i=nw(i)).r,(a=nw(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=a$(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function use(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function fse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dse(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=gc(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function hse(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function mm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function pse(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=gc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var iw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vv=new RegExp(iw.source,"g");function mse(t){return function(){return t}}function gse(t){return function(e){return t(e)+""}}function yse(t,e){var r=iw.lastIndex=Vv.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=iw.exec(t))&&(i=Vv.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:mm(n,i)})),r=Vv.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?gse(l[0].x):mse(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function gc(t,e){var r=typeof e,n;return e==null||r==="boolean"?U1(e):(r==="number"?mm:r==="string"?(n=Af(e))?(e=n,B2):yse:e instanceof Af?B2:e instanceof Date?hse:fse(e)?use:Array.isArray(e)?dse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pse:mm)(t,e)}function B1(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function vse(t,e){e===void 0&&(e=t,t=gc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function bse(t){return function(){return t}}function gm(t){return+t}var z2=[0,1];function Lr(t){return t}function aw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:bse(isNaN(e)?NaN:.5)}function wse(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function xse(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=aw(i,n),a=r(o,a)):(n=aw(n,i),a=r(a,o)),function(s){return a(n(s))}}function _se(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=aw(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=Td(t,s,1,n)-1;return a[l](i[l](s))}}function Pd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zg(){var t=z2,e=z2,r=gc,n,i,a,o=Lr,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==Lr&&(o=wse(t[0],t[h-1])),s=h>2?_se:xse,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((c||(c=s(e,t.map(n),mm)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,gm),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=B1,u()},f.clamp=function(h){return arguments.length?(o=h?!0:Lr,u()):o!==Lr},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,u()}}function z1(){return Zg()(Lr,Lr)}function kse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ym(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Fl(t){return t=ym(Math.abs(t)),t?t[1]:NaN}function Ese(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Sse(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Tse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pf(t){if(!(e=Tse.exec(t)))throw new Error("invalid format: "+t);var e;return new W1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Pf.prototype=W1.prototype;function W1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}W1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ase(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var o$;function Pse(t,e){var r=ym(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(o$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+ym(t,Math.max(0,e+a-1))[0]}function W2(t,e){var r=ym(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const q2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>W2(t*100,e),r:W2,s:Pse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function H2(t){return t}var K2=Array.prototype.map,G2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ise(t){var e=t.grouping===void 0||t.thousands===void 0?H2:Ese(K2.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?H2:Sse(K2.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Pf(f);var h=f.fill,p=f.align,g=f.sign,y=f.symbol,b=f.zero,_=f.width,v=f.comma,w=f.precision,E=f.trim,T=f.type;T==="n"?(v=!0,T="g"):q2[T]||(w===void 0&&(w=12),E=!0,T="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var I=y==="$"?r:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=y==="$"?n:/[%p]/.test(T)?o:"",k=q2[T],P=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(R){var N=I,C=S,L,z,B;if(T==="c")C=k(R)+C,R="";else{R=+R;var X=R<0||1/R<0;if(R=isNaN(R)?l:k(Math.abs(R),w),E&&(R=Ase(R)),X&&+R==0&&g!=="+"&&(X=!1),N=(X?g==="("?g:s:g==="-"||g==="("?"":g)+N,C=(T==="s"?G2[8+o$/3]:"")+C+(X&&g==="("?")":""),P){for(L=-1,z=R.length;++L<z;)if(B=R.charCodeAt(L),48>B||B>57){C=(B===46?i+R.slice(L+1):R.slice(L))+C,R=R.slice(0,L);break}}}v&&!b&&(R=e(R,1/0));var F=N.length+R.length+C.length,Y=F<_?new Array(_-F+1).join(h):"";switch(v&&b&&(R=e(Y+R,Y.length?_-C.length:1/0),Y=""),p){case"<":R=N+R+C+Y;break;case"=":R=N+Y+R+C;break;case"^":R=Y.slice(0,F=Y.length>>1)+N+R+C+Y.slice(F);break;default:R=Y+N+R+C;break}return a(R)}return O.toString=function(){return f+""},O}function u(f,h){var p=c((f=Pf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Fl(h)/3)))*3,y=Math.pow(10,-g),b=G2[8+g/3];return function(_){return p(y*_)+b}}return{format:c,formatPrefix:u}}var Th,q1,s$;Ose({thousands:",",grouping:[3],currency:["$",""]});function Ose(t){return Th=Ise(t),q1=Th.format,s$=Th.formatPrefix,Th}function Cse(t){return Math.max(0,-Fl(Math.abs(t)))}function Nse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fl(e)/3)))*3-Fl(Math.abs(t)))}function Rse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fl(e)-Fl(t))+1}function l$(t,e,r,n){var i=tw(t,e,r),a;switch(n=Pf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Nse(i,o))&&(n.precision=a),s$(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Rse(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Cse(i))&&(n.precision=a-(n.type==="%")*2);break}}return q1(n)}function mo(t){var e=t.domain;return t.ticks=function(r){var n=e();return Zb(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return l$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=ew(o,s,r),c===l)return n[i]=o,n[a]=s,e(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function vm(){var t=z1();return t.copy=function(){return Pd(t,vm())},Cn.apply(t,arguments),mo(t)}function c$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,gm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return c$(t).unknown(e)},t=arguments.length?Array.from(t,gm):[0,1],mo(r)}function u$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function X2(t){return Math.log(t)}function Y2(t){return Math.exp(t)}function jse(t){return-Math.log(-t)}function Dse(t){return-Math.exp(-t)}function Mse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $se(t){return t===10?Mse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Lse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Q2(t){return(e,r)=>-t(-e,r)}function H1(t){const e=t(X2,Y2),r=e.domain;let n=10,i,a;function o(){return i=Lse(n),a=$se(n),r()[0]<0?(i=Q2(i),a=Q2(a),t(jse,Dse)):t(X2,Y2),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),g,y;const b=s==null?10:+s;let _=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(y=h<0?g/a(-h):g*a(h),!(y<c)){if(y>u)break;_.push(y)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<c)){if(y>u)break;_.push(y)}_.length*2<b&&(_=Zb(c,u,b))}else _=Zb(h,p,Math.min(p-h,b)).map(a);return f?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Pf(l)).precision==null&&(l.trim=!0),l=q1(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(u$(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function f$(){const t=H1(Zg()).domain([1,10]);return t.copy=()=>Pd(t,f$()).base(t.base()),Cn.apply(t,arguments),t}function J2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Z2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function K1(t){var e=1,r=t(J2(e),Z2(e));return r.constant=function(n){return arguments.length?t(J2(e=+n),Z2(e)):e},mo(r)}function d$(){var t=K1(Zg());return t.copy=function(){return Pd(t,d$()).constant(t.constant())},Cn.apply(t,arguments)}function eP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Fse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Vse(t){return t<0?-t*t:t*t}function G1(t){var e=t(Lr,Lr),r=1;function n(){return r===1?t(Lr,Lr):r===.5?t(Fse,Vse):t(eP(r),eP(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},mo(e)}function X1(){var t=G1(Zg());return t.copy=function(){return Pd(t,X1()).exponent(t.exponent())},Cn.apply(t,arguments),t}function Use(){return X1.apply(null,arguments).exponent(.5)}function tP(t){return Math.sign(t)*t*t}function Bse(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function h$(){var t=z1(),e=[0,1],r=!1,n;function i(a){var o=Bse(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(tP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,gm)).map(tP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return h$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Cn.apply(i,arguments),mo(i)}function p$(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=Koe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Td(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Xa),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return p$().domain(t).range(e).unknown(n)},Cn.apply(a,arguments)}function m$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Td(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return m$().domain([t,e]).range(i).unknown(a)},Cn.apply(mo(o),arguments)}function g$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Td(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return g$().domain(t).range(e).unknown(r)},Cn.apply(i,arguments)}const Uv=new Date,Bv=new Date;function Qt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>Qt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Uv.setTime(+a),Bv.setTime(+o),t(Uv),t(Bv),Math.floor(r(Uv,Bv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const bm=Qt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);bm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Qt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):bm);bm.range;const $i=1e3,En=$i*60,Li=En*60,ea=Li*24,Y1=ea*7,rP=ea*30,zv=ea*365,Fo=Qt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getUTCSeconds());Fo.range;const Q1=Qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$i)},(t,e)=>{t.setTime(+t+e*En)},(t,e)=>(e-t)/En,t=>t.getMinutes());Q1.range;const J1=Qt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*En)},(t,e)=>(e-t)/En,t=>t.getUTCMinutes());J1.range;const Z1=Qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$i-t.getMinutes()*En)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getHours());Z1.range;const ek=Qt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCHours());ek.range;const Id=Qt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*En)/ea,t=>t.getDate()-1);Id.range;const ey=Qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ea,t=>t.getUTCDate()-1);ey.range;const y$=Qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ea,t=>Math.floor(t/ea));y$.range;function xs(t){return Qt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*En)/Y1)}const ty=xs(0),wm=xs(1),zse=xs(2),Wse=xs(3),Vl=xs(4),qse=xs(5),Hse=xs(6);ty.range;wm.range;zse.range;Wse.range;Vl.range;qse.range;Hse.range;function _s(t){return Qt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Y1)}const ry=_s(0),xm=_s(1),Kse=_s(2),Gse=_s(3),Ul=_s(4),Xse=_s(5),Yse=_s(6);ry.range;xm.range;Kse.range;Gse.range;Ul.range;Xse.range;Yse.range;const tk=Qt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tk.range;const rk=Qt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rk.range;const ta=Qt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ta.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ta.range;const ra=Qt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ra.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ra.range;function v$(t,e,r,n,i,a){const o=[[Fo,1,$i],[Fo,5,5*$i],[Fo,15,15*$i],[Fo,30,30*$i],[a,1,En],[a,5,5*En],[a,15,15*En],[a,30,30*En],[i,1,Li],[i,3,3*Li],[i,6,6*Li],[i,12,12*Li],[n,1,ea],[n,2,2*ea],[r,1,Y1],[e,1,rP],[e,3,3*rP],[t,1,zv]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,p=L1(([,,b])=>b).right(o,h);if(p===o.length)return t.every(tw(c/zv,u/zv,f));if(p===0)return bm.every(Math.max(tw(c,u,f),1));const[g,y]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(y)}return[s,l]}const[Qse,Jse]=v$(ra,rk,ry,y$,ek,J1),[Zse,ele]=v$(ta,tk,ty,Id,Z1,Q1);function Wv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function tle(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=Xc(i),u=Yc(i),f=Xc(a),h=Yc(a),p=Xc(o),g=Yc(o),y=Xc(s),b=Yc(s),_=Xc(l),v=Yc(l),w={a:X,A:F,b:Y,B:re,c:null,d:lP,e:lP,f:Ele,g:jle,G:Mle,H:xle,I:_le,j:kle,L:b$,m:Sle,M:Tle,p:de,q:te,Q:fP,s:dP,S:Ale,u:Ple,U:Ile,V:Ole,w:Cle,W:Nle,x:null,X:null,y:Rle,Y:Dle,Z:$le,"%":uP},E={a:he,A:Ee,b:je,B:Q,c:null,d:cP,e:cP,f:Ule,g:Qle,G:Zle,H:Lle,I:Fle,j:Vle,L:x$,m:Ble,M:zle,p:ne,q:J,Q:fP,s:dP,S:Wle,u:qle,U:Hle,V:Kle,w:Gle,W:Xle,x:null,X:null,y:Yle,Y:Jle,Z:ece,"%":uP},T={a:O,A:R,b:N,B:C,c:L,d:oP,e:oP,f:yle,g:aP,G:iP,H:sP,I:sP,j:hle,L:gle,m:dle,M:ple,p:P,q:fle,Q:ble,s:wle,S:mle,u:ole,U:sle,V:lle,w:ale,W:cle,x:z,X:B,y:aP,Y:iP,Z:ule,"%":vle};w.x=I(r,w),w.X=I(n,w),w.c=I(e,w),E.x=I(r,E),E.X=I(n,E),E.c=I(e,E);function I(H,oe){return function(le){var K=[],Se=-1,xe=0,We=H.length,Xe,Jt,M;for(le instanceof Date||(le=new Date(+le));++Se<We;)H.charCodeAt(Se)===37&&(K.push(H.slice(xe,Se)),(Jt=nP[Xe=H.charAt(++Se)])!=null?Xe=H.charAt(++Se):Jt=Xe==="e"?" ":"0",(M=oe[Xe])&&(Xe=M(le,Jt)),K.push(Xe),xe=Se+1);return K.push(H.slice(xe,Se)),K.join("")}}function S(H,oe){return function(le){var K=Gc(1900,void 0,1),Se=k(K,H,le+="",0),xe,We;if(Se!=le.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(oe&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(xe=qv(Gc(K.y,0,1)),We=xe.getUTCDay(),xe=We>4||We===0?xm.ceil(xe):xm(xe),xe=ey.offset(xe,(K.V-1)*7),K.y=xe.getUTCFullYear(),K.m=xe.getUTCMonth(),K.d=xe.getUTCDate()+(K.w+6)%7):(xe=Wv(Gc(K.y,0,1)),We=xe.getDay(),xe=We>4||We===0?wm.ceil(xe):wm(xe),xe=Id.offset(xe,(K.V-1)*7),K.y=xe.getFullYear(),K.m=xe.getMonth(),K.d=xe.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),We="Z"in K?qv(Gc(K.y,0,1)).getUTCDay():Wv(Gc(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(We+5)%7:K.w+K.U*7-(We+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,qv(K)):Wv(K)}}function k(H,oe,le,K){for(var Se=0,xe=oe.length,We=le.length,Xe,Jt;Se<xe;){if(K>=We)return-1;if(Xe=oe.charCodeAt(Se++),Xe===37){if(Xe=oe.charAt(Se++),Jt=T[Xe in nP?oe.charAt(Se++):Xe],!Jt||(K=Jt(H,le,K))<0)return-1}else if(Xe!=le.charCodeAt(K++))return-1}return K}function P(H,oe,le){var K=c.exec(oe.slice(le));return K?(H.p=u.get(K[0].toLowerCase()),le+K[0].length):-1}function O(H,oe,le){var K=p.exec(oe.slice(le));return K?(H.w=g.get(K[0].toLowerCase()),le+K[0].length):-1}function R(H,oe,le){var K=f.exec(oe.slice(le));return K?(H.w=h.get(K[0].toLowerCase()),le+K[0].length):-1}function N(H,oe,le){var K=_.exec(oe.slice(le));return K?(H.m=v.get(K[0].toLowerCase()),le+K[0].length):-1}function C(H,oe,le){var K=y.exec(oe.slice(le));return K?(H.m=b.get(K[0].toLowerCase()),le+K[0].length):-1}function L(H,oe,le){return k(H,e,oe,le)}function z(H,oe,le){return k(H,r,oe,le)}function B(H,oe,le){return k(H,n,oe,le)}function X(H){return o[H.getDay()]}function F(H){return a[H.getDay()]}function Y(H){return l[H.getMonth()]}function re(H){return s[H.getMonth()]}function de(H){return i[+(H.getHours()>=12)]}function te(H){return 1+~~(H.getMonth()/3)}function he(H){return o[H.getUTCDay()]}function Ee(H){return a[H.getUTCDay()]}function je(H){return l[H.getUTCMonth()]}function Q(H){return s[H.getUTCMonth()]}function ne(H){return i[+(H.getUTCHours()>=12)]}function J(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var oe=I(H+="",w);return oe.toString=function(){return H},oe},parse:function(H){var oe=S(H+="",!1);return oe.toString=function(){return H},oe},utcFormat:function(H){var oe=I(H+="",E);return oe.toString=function(){return H},oe},utcParse:function(H){var oe=S(H+="",!0);return oe.toString=function(){return H},oe}}}var nP={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,rle=/^%/,nle=/[\\^$*+?|[\]().{}]/g;function Ze(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function ile(t){return t.replace(nle,"\\$&")}function Xc(t){return new RegExp("^(?:"+t.map(ile).join("|")+")","i")}function Yc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function ale(t,e,r){var n=sr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function ole(t,e,r){var n=sr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function sle(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function lle(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function cle(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function iP(t,e,r){var n=sr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function aP(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ule(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function fle(t,e,r){var n=sr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function dle(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function oP(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function hle(t,e,r){var n=sr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function sP(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ple(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function mle(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function gle(t,e,r){var n=sr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function yle(t,e,r){var n=sr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function vle(t,e,r){var n=rle.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function ble(t,e,r){var n=sr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function wle(t,e,r){var n=sr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function lP(t,e){return Ze(t.getDate(),e,2)}function xle(t,e){return Ze(t.getHours(),e,2)}function _le(t,e){return Ze(t.getHours()%12||12,e,2)}function kle(t,e){return Ze(1+Id.count(ta(t),t),e,3)}function b$(t,e){return Ze(t.getMilliseconds(),e,3)}function Ele(t,e){return b$(t,e)+"000"}function Sle(t,e){return Ze(t.getMonth()+1,e,2)}function Tle(t,e){return Ze(t.getMinutes(),e,2)}function Ale(t,e){return Ze(t.getSeconds(),e,2)}function Ple(t){var e=t.getDay();return e===0?7:e}function Ile(t,e){return Ze(ty.count(ta(t)-1,t),e,2)}function w$(t){var e=t.getDay();return e>=4||e===0?Vl(t):Vl.ceil(t)}function Ole(t,e){return t=w$(t),Ze(Vl.count(ta(t),t)+(ta(t).getDay()===4),e,2)}function Cle(t){return t.getDay()}function Nle(t,e){return Ze(wm.count(ta(t)-1,t),e,2)}function Rle(t,e){return Ze(t.getFullYear()%100,e,2)}function jle(t,e){return t=w$(t),Ze(t.getFullYear()%100,e,2)}function Dle(t,e){return Ze(t.getFullYear()%1e4,e,4)}function Mle(t,e){var r=t.getDay();return t=r>=4||r===0?Vl(t):Vl.ceil(t),Ze(t.getFullYear()%1e4,e,4)}function $le(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ze(e/60|0,"0",2)+Ze(e%60,"0",2)}function cP(t,e){return Ze(t.getUTCDate(),e,2)}function Lle(t,e){return Ze(t.getUTCHours(),e,2)}function Fle(t,e){return Ze(t.getUTCHours()%12||12,e,2)}function Vle(t,e){return Ze(1+ey.count(ra(t),t),e,3)}function x$(t,e){return Ze(t.getUTCMilliseconds(),e,3)}function Ule(t,e){return x$(t,e)+"000"}function Ble(t,e){return Ze(t.getUTCMonth()+1,e,2)}function zle(t,e){return Ze(t.getUTCMinutes(),e,2)}function Wle(t,e){return Ze(t.getUTCSeconds(),e,2)}function qle(t){var e=t.getUTCDay();return e===0?7:e}function Hle(t,e){return Ze(ry.count(ra(t)-1,t),e,2)}function _$(t){var e=t.getUTCDay();return e>=4||e===0?Ul(t):Ul.ceil(t)}function Kle(t,e){return t=_$(t),Ze(Ul.count(ra(t),t)+(ra(t).getUTCDay()===4),e,2)}function Gle(t){return t.getUTCDay()}function Xle(t,e){return Ze(xm.count(ra(t)-1,t),e,2)}function Yle(t,e){return Ze(t.getUTCFullYear()%100,e,2)}function Qle(t,e){return t=_$(t),Ze(t.getUTCFullYear()%100,e,2)}function Jle(t,e){return Ze(t.getUTCFullYear()%1e4,e,4)}function Zle(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ul(t):Ul.ceil(t),Ze(t.getUTCFullYear()%1e4,e,4)}function ece(){return"+0000"}function uP(){return"%"}function fP(t){return+t}function dP(t){return Math.floor(+t/1e3)}var Ds,k$,E$;tce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tce(t){return Ds=tle(t),k$=Ds.format,Ds.parse,E$=Ds.utcFormat,Ds.utcParse,Ds}function rce(t){return new Date(t)}function nce(t){return t instanceof Date?+t:+new Date(+t)}function nk(t,e,r,n,i,a,o,s,l,c){var u=z1(),f=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),y=c("%I:%M"),b=c("%I %p"),_=c("%a %d"),v=c("%b %d"),w=c("%B"),E=c("%Y");function T(I){return(l(I)<I?p:s(I)<I?g:o(I)<I?y:a(I)<I?b:n(I)<I?i(I)<I?_:v:r(I)<I?w:E)(I)}return u.invert=function(I){return new Date(f(I))},u.domain=function(I){return arguments.length?h(Array.from(I,nce)):h().map(rce)},u.ticks=function(I){var S=h();return t(S[0],S[S.length-1],I??10)},u.tickFormat=function(I,S){return S==null?T:c(S)},u.nice=function(I){var S=h();return(!I||typeof I.range!="function")&&(I=e(S[0],S[S.length-1],I??10)),I?h(u$(S,I)):u},u.copy=function(){return Pd(u,nk(t,e,r,n,i,a,o,s,l,c))},u}function ice(){return Cn.apply(nk(Zse,ele,ta,tk,ty,Id,Z1,Q1,Fo,k$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ace(){return Cn.apply(nk(Qse,Jse,ra,rk,ry,ey,ek,J1,Fo,E$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ny(){var t=0,e=1,r,n,i,a,o=Lr,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),c):[o(0),o(1)]}}return c.range=u(gc),c.rangeRound=u(B1),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function go(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function S$(){var t=mo(ny()(Lr));return t.copy=function(){return go(t,S$())},sa.apply(t,arguments)}function T$(){var t=H1(ny()).domain([1,10]);return t.copy=function(){return go(t,T$()).base(t.base())},sa.apply(t,arguments)}function A$(){var t=K1(ny());return t.copy=function(){return go(t,A$()).constant(t.constant())},sa.apply(t,arguments)}function ik(){var t=G1(ny());return t.copy=function(){return go(t,ik()).exponent(t.exponent())},sa.apply(t,arguments)}function oce(){return ik.apply(null,arguments).exponent(.5)}function P$(){var t=[],e=Lr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Td(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Xa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Hoe(t,a/n))},r.copy=function(){return P$(e).domain(t)},sa.apply(r,arguments)}function iy(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,c=Lr,u,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+u(y))-a)*(n*y<n*a?s:l),c(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,i=u(t=+t),a=u(e=+e),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(c=y,p):c};function g(y){return function(b){var _,v,w;return arguments.length?([_,v,w]=b,c=vse(y,[_,v,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(gc),p.rangeRound=g(B1),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return u=y,i=y(t),a=y(e),o=y(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function I$(){var t=mo(iy()(Lr));return t.copy=function(){return go(t,I$())},sa.apply(t,arguments)}function O$(){var t=H1(iy()).domain([.1,1,10]);return t.copy=function(){return go(t,O$()).base(t.base())},sa.apply(t,arguments)}function C$(){var t=K1(iy());return t.copy=function(){return go(t,C$()).constant(t.constant())},sa.apply(t,arguments)}function ak(){var t=G1(iy());return t.copy=function(){return go(t,ak()).exponent(t.exponent())},sa.apply(t,arguments)}function sce(){return ak.apply(null,arguments).exponent(.5)}const hP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ef,scaleDiverging:I$,scaleDivergingLog:O$,scaleDivergingPow:ak,scaleDivergingSqrt:sce,scaleDivergingSymlog:C$,scaleIdentity:c$,scaleImplicit:rw,scaleLinear:vm,scaleLog:f$,scaleOrdinal:F1,scalePoint:ju,scalePow:X1,scaleQuantile:p$,scaleQuantize:m$,scaleRadial:h$,scaleSequential:S$,scaleSequentialLog:T$,scaleSequentialPow:ik,scaleSequentialQuantile:P$,scaleSequentialSqrt:oce,scaleSequentialSymlog:A$,scaleSqrt:Use,scaleSymlog:d$,scaleThreshold:g$,scaleTime:ice,scaleUtc:ace,tickFormat:l$},Symbol.toStringTag,{value:"Module"}));var lce=lc;function cce(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!lce(o):r(o,s)))var s=o,l=a}return l}var ay=cce;function uce(t,e){return t>e}var N$=uce,fce=ay,dce=N$,hce=mc;function pce(t){return t&&t.length?fce(t,hce,dce):void 0}var mce=pce;const oy=it(mce);function gce(t,e){return t<e}var R$=gce,yce=ay,vce=R$,bce=mc;function wce(t){return t&&t.length?yce(t,bce,vce):void 0}var xce=wce;const sy=it(xce);var _ce=y1,kce=wi,Ece=UM,Sce=Zr;function Tce(t,e){var r=Sce(t)?_ce:Ece;return r(t,kce(e))}var Ace=Tce,Pce=FM,Ice=Ace;function Oce(t,e){return Pce(Ice(t,e),1)}var Cce=Oce;const Nce=it(Cce);var Rce=R1;function jce(t,e){return Rce(t,e)}var Dce=jce;const ly=it(Dce);var yc=1e9,Mce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sk,Tt=!0,On="[DecimalError] ",Ho=On+"Invalid argument: ",ok=On+"Exponent out of range: ",vc=Math.floor,Co=Math.pow,$ce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,an,rr=1e7,vt=7,j$=9007199254740991,_m=vc(j$/vt),ve={};ve.absoluteValue=ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ve.comparedTo=ve.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*vt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ve.dividedBy=ve.div=function(t){return qi(this,new this.constructor(t))};ve.dividedToIntegerBy=ve.idiv=function(t){var e=this,r=e.constructor;return ct(qi(e,new r(t),0,1),r.precision)};ve.equals=ve.eq=function(t){return!this.cmp(t)};ve.exponent=function(){return Wt(this)};ve.greaterThan=ve.gt=function(t){return this.cmp(t)>0};ve.greaterThanOrEqualTo=ve.gte=function(t){return this.cmp(t)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(t){return this.cmp(t)<0};ve.lessThanOrEqualTo=ve.lte=function(t){return this.cmp(t)<1};ve.logarithm=ve.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(an))throw Error(On+"NaN");if(r.s<1)throw Error(On+(r.s?"NaN":"-Infinity"));return r.eq(an)?new n(0):(Tt=!1,e=qi(If(r,a),If(t,a),a),Tt=!0,ct(e,i))};ve.minus=ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$$(e,t):D$(e,(t.s=-t.s,t))};ve.modulo=ve.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(On+"NaN");return r.s?(Tt=!1,e=qi(r,t,0,1).times(t),Tt=!0,r.minus(e)):ct(new n(r),i)};ve.naturalExponential=ve.exp=function(){return M$(this)};ve.naturalLogarithm=ve.ln=function(){return If(this)};ve.negated=ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ve.plus=ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?D$(e,t):$$(e,(t.s=-t.s,t))};ve.precision=ve.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ho+t);if(e=Wt(i)+1,n=i.d.length-1,r=n*vt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ve.squareRoot=ve.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(On+"NaN")}for(t=Wt(s),Tt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=ai(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(qi(s,a,o+2)).times(.5),ai(a.d).slice(0,o)===(e=ai(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ct(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Tt=!0,ct(n,r)};ve.times=ve.mul=function(t){var e,r,n,i,a,o,s,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%rr|0,e=s/rr|0;a[i]=(a[i]+e)%rr|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Tt?ct(t,f.precision):t};ve.toDecimalPlaces=ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(gi(t,0,yc),e===void 0?e=n.rounding:gi(e,0,8),ct(r,t+Wt(r)+1,e))};ve.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ls(n,!0):(gi(t,0,yc),e===void 0?e=i.rounding:gi(e,0,8),n=ct(new i(n),t+1,e),r=ls(n,!0,t+1)),r};ve.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?ls(i):(gi(t,0,yc),e===void 0?e=a.rounding:gi(e,0,8),n=ct(new a(i),t+Wt(i)+1,e),r=ls(n.abs(),!1,t+Wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ve.toInteger=ve.toint=function(){var t=this,e=t.constructor;return ct(new e(t),Wt(t)+1,e.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(an);if(s=new l(s),!s.s){if(t.s<1)throw Error(On+"Infinity");return s}if(s.eq(an))return s;if(n=l.precision,t.eq(an))return ct(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=u<0?-u:u)<=j$){for(i=new l(an),e=Math.ceil(n/vt+4),Tt=!1;r%2&&(i=i.times(s),mP(i.d,e)),r=vc(r/2),r!==0;)s=s.times(s),mP(s.d,e);return Tt=!0,t.s<0?new l(an).div(i):ct(i,n)}}else if(a<0)throw Error(On+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Tt=!1,i=t.times(If(s,n+c)),Tt=!0,i=M$(i),i.s=a,i};ve.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Wt(i),n=ls(i,r<=a.toExpNeg||r>=a.toExpPos)):(gi(t,1,yc),e===void 0?e=a.rounding:gi(e,0,8),i=ct(new a(i),t,e),r=Wt(i),n=ls(i,t<=r||r<=a.toExpNeg,t)),n};ve.toSignificantDigits=ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(gi(t,1,yc),e===void 0?e=n.rounding:gi(e,0,8)),ct(new n(r),t,e)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Wt(t),r=t.constructor;return ls(t,e<=r.toExpNeg||e>=r.toExpPos)};function D$(t,e){var r,n,i,a,o,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Tt?ct(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(f/vt),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/rr|0,l[a]%=rr;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Tt?ct(e,f):e}function gi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ho+t)}function ai(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=vt-n.length,r&&(a+=xa(r)),a+=n;o=t[e],n=o+"",r=vt-n.length,r&&(a+=xa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var qi=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%rr|0,o=a/rr|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*rr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,f,h,p,g,y,b,_,v,w,E,T,I,S,k,P=n.constructor,O=n.s==i.s?1:-1,R=n.d,N=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(On+"Division by zero");for(l=n.e-i.e,S=N.length,T=R.length,p=new P(O),g=p.d=[],c=0;N[c]==(R[c]||0);)++c;if(N[c]>(R[c]||0)&&--l,a==null?v=a=P.precision:o?v=a+(Wt(n)-Wt(i))+1:v=a,v<0)return new P(0);if(v=v/vt+2|0,c=0,S==1)for(u=0,N=N[0],v++;(c<T||u)&&v--;c++)w=u*rr+(R[c]||0),g[c]=w/N|0,u=w%N|0;else{for(u=rr/(N[0]+1)|0,u>1&&(N=t(N,u),R=t(R,u),S=N.length,T=R.length),E=S,y=R.slice(0,S),b=y.length;b<S;)y[b++]=0;k=N.slice(),k.unshift(0),I=N[0],N[1]>=rr/2&&++I;do u=0,s=e(N,y,S,b),s<0?(_=y[0],S!=b&&(_=_*rr+(y[1]||0)),u=_/I|0,u>1?(u>=rr&&(u=rr-1),f=t(N,u),h=f.length,b=y.length,s=e(f,y,h,b),s==1&&(u--,r(f,S<h?k:N,h))):(u==0&&(s=u=1),f=N.slice()),h=f.length,h<b&&f.unshift(0),r(y,f,b),s==-1&&(b=y.length,s=e(N,y,S,b),s<1&&(u++,r(y,S<b?k:N,b))),b=y.length):s===0&&(u++,y=[0]),g[c++]=u,s&&y[0]?y[b++]=R[E]||0:(y=[R[E]],b=1);while((E++<T||y[0]!==void 0)&&v--)}return g[0]||g.shift(),p.e=l,ct(p,o?a+Wt(p)+1:a)}}();function M$(t,e){var r,n,i,a,o,s,l=0,c=0,u=t.constructor,f=u.precision;if(Wt(t)>16)throw Error(ok+Wt(t));if(!t.s)return new u(an);for(e==null?(Tt=!1,s=f):s=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(Co(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(an),u.precision=s;;){if(i=ct(i.times(t),s),r=r.times(++l),o=a.plus(qi(i,r,s)),ai(o.d).slice(0,s)===ai(a.d).slice(0,s)){for(;c--;)a=ct(a.times(a),s);return u.precision=f,e==null?(Tt=!0,ct(a,f)):a}a=o}}function Wt(t){for(var e=t.e*vt,r=t.d[0];r>=10;r/=10)e++;return e}function Hv(t,e,r){if(e>t.LN10.sd())throw Tt=!0,r&&(t.precision=r),Error(On+"LN10 precision limit exceeded");return ct(new t(t.LN10),e)}function xa(t){for(var e="";t--;)e+="0";return e}function If(t,e){var r,n,i,a,o,s,l,c,u,f=1,h=10,p=t,g=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(On+(p.s?"NaN":"-Infinity"));if(p.eq(an))return new y(0);if(e==null?(Tt=!1,c=b):c=e,p.eq(10))return e==null&&(Tt=!0),Hv(y,c);if(c+=h,y.precision=c,r=ai(g),n=r.charAt(0),a=Wt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=ai(p.d),n=r.charAt(0),f++;a=Wt(p),n>1?(p=new y("0."+r),a++):p=new y(n+"."+r.slice(1))}else return l=Hv(y,c+2,b).times(a+""),p=If(new y(n+"."+r.slice(1)),c-h).plus(l),y.precision=b,e==null?(Tt=!0,ct(p,b)):p;for(s=o=p=qi(p.minus(an),p.plus(an),c),u=ct(p.times(p),c),i=3;;){if(o=ct(o.times(u),c),l=s.plus(qi(o,new y(i),c)),ai(l.d).slice(0,c)===ai(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(Hv(y,c+2,b).times(a+""))),s=qi(s,new y(f),c),y.precision=b,e==null?(Tt=!0,ct(s,b)):s;s=l,i+=2}}function pP(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=vc(r/vt),t.d=[],n=(r+1)%vt,r<0&&(n+=vt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=vt;n<i;)t.d.push(+e.slice(n,n+=vt));e=e.slice(n),n=vt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Tt&&(t.e>_m||t.e<-_m))throw Error(ok+r)}else t.s=0,t.e=0,t.d=[0];return t}function ct(t,e,r){var n,i,a,o,s,l,c,u,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=vt,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/vt),a=f.length,u>=a)return t;for(c=a=f[u],o=1;a>=10;a/=10)o++;n%=vt,i=n-vt+o}if(r!==void 0&&(a=Co(10,o-i-1),s=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Co(10,o-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Wt(t),f.length=1,e=e-a-1,f[0]=Co(10,(vt-e%vt)%vt),t.e=vc(-e/vt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Co(10,vt-n),f[u]=i>0?(c/Co(10,o-i)%Co(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==rr&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=rr)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Tt&&(t.e>_m||t.e<-_m))throw Error(ok+Wt(t));return t}function $$(t,e){var r,n,i,a,o,s,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Tt?ct(e,p):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(p/vt),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=rr-1;--l[a],l[i]+=rr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Tt?ct(e,p):e):new h(0)}function ls(t,e,r){var n,i=Wt(t),a=ai(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+xa(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+xa(-i-1)+a,r&&(n=r-o)>0&&(a+=xa(n))):i>=o?(a+=xa(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+xa(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=xa(n))),t.s<0?"-"+a:a}function mP(t,e){if(t.length>e)return t.length=e,!0}function L$(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ho+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return pP(o,a.toString())}else if(typeof a!="string")throw Error(Ho+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,$ce.test(a))pP(o,a);else throw Error(Ho+a)}if(i.prototype=ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=L$,i.config=i.set=Lce,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Lce(t){if(!t||typeof t!="object")throw Error(On+"Object expected");var e,r,n,i=["precision",1,yc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(vc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ho+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ho+r+": "+n);return this}var sk=L$(Mce);an=new sk(1);const ot=sk;function Fce(t){return zce(t)||Bce(t)||Uce(t)||Vce()}function Vce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uce(t,e){if(t){if(typeof t=="string")return ow(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ow(t,e)}}function Bce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function zce(t){if(Array.isArray(t))return ow(t)}function ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wce=function(e){return e},F$={"@@functional/placeholder":!0},V$=function(e){return e===F$},gP=function(e){return function r(){return arguments.length===0||arguments.length===1&&V$(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},qce=function t(e,r){return e===1?r:gP(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==F$}).length;return o>=e?r.apply(void 0,i):t(e-o,gP(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return V$(f)?l.shift():f});return r.apply(void 0,Fce(u).concat(l))}))})},cy=function(e){return qce(e.length,e)},sw=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Hce=cy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Kce=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Wce;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},lw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},U$=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function Gce(t){var e;return t===0?e=1:e=Math.floor(new ot(t).abs().log(10).toNumber())+1,e}function Xce(t,e,r){for(var n=new ot(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Yce=cy(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Qce=cy(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Jce=cy(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const uy={rangeStep:Xce,getDigitCount:Gce,interpolateNumber:Yce,uninterpolateNumber:Qce,uninterpolateTruncation:Jce};function cw(t){return tue(t)||eue(t)||B$(t)||Zce()}function Zce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function tue(t){if(Array.isArray(t))return uw(t)}function Of(t,e){return iue(t)||nue(t,e)||B$(t,e)||rue()}function rue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B$(t,e){if(t){if(typeof t=="string")return uw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uw(t,e)}}function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nue(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function iue(t){if(Array.isArray(t))return t}function z$(t){var e=Of(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function W$(t,e,r){if(t.lte(0))return new ot(0);var n=uy.getDigitCount(t.toNumber()),i=new ot(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new ot(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new ot(Math.ceil(l))}function aue(t,e,r){var n=1,i=new ot(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new ot(10).pow(uy.getDigitCount(t)-1),i=new ot(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ot(Math.floor(t)))}else t===0?i=new ot(Math.floor((e-1)/2)):r||(i=new ot(Math.floor(t)));var o=Math.floor((e-1)/2),s=Kce(Hce(function(l){return i.add(new ot(l-o).mul(n)).toNumber()}),sw);return s(0,e)}function q$(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var a=W$(new ot(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new ot(0):(o=new ot(t).add(e).div(2),o=o.sub(new ot(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new ot(e).sub(o).div(a).toNumber()),c=s+l+1;return c>r?q$(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:a,tickMin:o.sub(new ot(s).mul(a)),tickMax:o.add(new ot(l).mul(a))})}function oue(t){var e=Of(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=z$([r,n]),l=Of(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(cw(sw(0,i-1).map(function(){return 1/0}))):[].concat(cw(sw(0,i-1).map(function(){return-1/0})),[u]);return r>n?lw(f):f}if(c===u)return aue(c,i,a);var h=q$(c,u,o,a),p=h.step,g=h.tickMin,y=h.tickMax,b=uy.rangeStep(g,y.add(new ot(.1).mul(p)),p);return r>n?lw(b):b}function sue(t,e){var r=Of(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=z$([n,i]),s=Of(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=W$(new ot(c).sub(l).div(u-1),a,0),h=[].concat(cw(uy.rangeStep(new ot(l),new ot(c).sub(new ot(.99).mul(f)),f)),[c]);return n>i?lw(h):h}var lue=U$(oue),cue=U$(sue),uue="Invariant failed";function cs(t,e){throw new Error(uue)}var fue=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},km.apply(this,arguments)}function due(t,e){return gue(t)||mue(t,e)||pue(t,e)||hue()}function hue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pue(t,e){if(t){if(typeof t=="string")return yP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yP(t,e)}}function yP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function gue(t){if(Array.isArray(t))return t}function yue(t,e){if(t==null)return{};var r=vue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vue(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function fy(t){var e=t.offset,r=t.layout,n=t.width,i=t.dataKey,a=t.data,o=t.dataPointFormatter,s=t.xAxis,l=t.yAxis,c=yue(t,fue),u=Pe(c,!1);t.direction==="x"&&s.type!=="number"&&cs();var f=a.map(function(h){var p=o(h,i),g=p.x,y=p.y,b=p.value,_=p.errorVal;if(!_)return null;var v=[],w,E;if(Array.isArray(_)){var T=due(_,2);w=T[0],E=T[1]}else w=E=_;if(r==="vertical"){var I=s.scale,S=y+e,k=S+n,P=S-n,O=I(b-w),R=I(b+E);v.push({x1:R,y1:k,x2:R,y2:P}),v.push({x1:O,y1:S,x2:R,y2:S}),v.push({x1:O,y1:k,x2:O,y2:P})}else if(r==="horizontal"){var N=l.scale,C=g+e,L=C-n,z=C+n,B=N(b-w),X=N(b+E);v.push({x1:L,y1:X,x2:z,y2:X}),v.push({x1:C,y1:B,x2:C,y2:X}),v.push({x1:L,y1:B,x2:z,y2:B})}return $.createElement(rt,km({className:"recharts-errorBar",key:"bar-".concat(v.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},u),v.map(function(F){return $.createElement("line",km({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return $.createElement(rt,{className:"recharts-errorBars"},f)}fy.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};fy.displayName="ErrorBar";function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function vP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(r),!0).forEach(function(n){bue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bue(t,e,r){return e=wue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wue(t){var e=xue(t,"string");return Cf(e)=="symbol"?e:String(e)}function xue(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H$=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=nn(r,vf);if(!o)return null;var s;return o.props&&o.props.payload?s=o.props&&o.props.payload:a==="children"?s=(n||[]).reduce(function(l,c){var u=c.item,f=c.props,h=f.sectors||f.data||[];return l.concat(h.map(function(p){return{type:o.props.iconType||u.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):s=(n||[]).map(function(l){var c=l.item,u=c.props,f=u.dataKey,h=u.name,p=u.legendType,g=u.hide;return{inactive:g,dataKey:f,type:o.props.iconType||p||"square",color:lk(c),value:h||f,payload:c.props}}),Kv(Kv(Kv({},o.props),vf.getWithHeight(o,i)),{},{payload:s,item:o})};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function bP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(r),!0).forEach(function(n){bl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bl(t,e,r){return e=_ue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ue(t){var e=kue(t,"string");return Nf(e)=="symbol"?e:String(e)}function kue(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wP(t){return Aue(t)||Tue(t)||Sue(t)||Eue()}function Eue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sue(t,e){if(t){if(typeof t=="string")return fw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fw(t,e)}}function Tue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aue(t){if(Array.isArray(t))return fw(t)}function fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pr(t,e,r){return Le(t)||Le(e)?r:Yt(e)?cn(t,e,r):Ne(e)?e(t):r}function Du(t,e,r,n){var i=Nce(t,function(s){return Pr(s,e)});if(r==="number"){var a=i.filter(function(s){return fe(s)||parseFloat(s)});return a.length?[sy(a),oy(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Le(s)}):i;return o.map(function(s){return Yt(s)||s instanceof Date?s:""})}var Pue=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Mr(f-u)!==Mr(h-f)){var g=[];if(Mr(h-f)===Mr(l[1]-l[0])){p=h;var y=f+l[1]-l[0];g[0]=Math.min(y,(y+u)/2),g[1]=Math.max(y,(y+u)/2)}else{p=u;var b=h+l[1]-l[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var _=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){o=i[c].index;break}}else{var v=Math.min(u,h),w=Math.max(u,h);if(e>(v+f)/2&&e<=(w+f)/2){o=i[c].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<s-1&&e>(n[E].coordinate+n[E-1].coordinate)/2&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E===s-1&&e>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}return o},lk=function(e){var r=e,n=r.type.displayName,i=e.props,a=i.stroke,o=i.fill,s;switch(n){case"Line":s=a;break;case"Area":case"Radar":s=a&&a!=="none"?a:o;break;default:s=o;break}return s},Iue=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var g=u[f[h]],y=g.items,b=g.cateAxisId,_=y.filter(function(T){return zi(T.type).indexOf("Bar")>=0});if(_&&_.length){var v=_[0].props.barSize,w=_[0].props[b];o[w]||(o[w]=[]);var E=Le(v)?r:v;o[w].push({item:_[0],stackList:_.slice(1),barSize:Le(E)?void 0:$r(E,n,0)})}}return o},Oue=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=$r(r,i,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,g=o.reduce(function(E,T){return E+T.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var y=(i-g)/2>>0,b={offset:y-c,size:0};u=o.reduce(function(E,T){var I={item:T.item,position:{offset:b.offset+b.size+c,size:h?p:T.barSize}},S=[].concat(wP(E),[I]);return b=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(k){S.push({item:k,position:b})}),S},f)}else{var _=$r(n,i,0,!0);i-2*_-(l-1)*c<=0&&(c=0);var v=(i-2*_-(l-1)*c)/l;v>1&&(v>>=0);var w=s===+s?Math.min(v,s):v;u=o.reduce(function(E,T,I){var S=[].concat(wP(E),[{item:T.item,position:{offset:_+(v+c)*I+(v-w)/2,size:w}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(k){S.push({item:k,position:S[S.length-1].position})}),S},f)}return u},Cue=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=H$({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,g=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&fe(e[p]))return xn(xn({},e),{},bl({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&fe(e[g]))return xn(xn({},e),{},bl({},g,e[g]+(h||0)))}return e},Nue=function(e,r,n){return Le(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},K$=function(e,r,n,i,a){var o=r.props.children,s=An(o,fy).filter(function(c){return Nue(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=Pr(u,n);if(Le(f))return c;var h=Array.isArray(f)?[sy(f),oy(f)]:[f,f],p=l.reduce(function(g,y){var b=Pr(u,y,0),_=h[0]-Math.abs(Array.isArray(b)?b[0]:b),v=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(_,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Rue=function(e,r,n,i,a){var o=r.map(function(s){return K$(e,s,n,a,i)}).filter(function(s){return!Le(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},G$=function(e,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&K$(e,l,c,i)||Du(e,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},X$=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Y$=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},Fi=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Mr(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!_d(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},Gv=new WeakMap,Ah=function(e,r){if(typeof r!="function")return e;Gv.has(e)||Gv.set(e,new WeakMap);var n=Gv.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Q$=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Ef(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:vm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ju(),realScaleType:"point"}:a==="category"?{scale:Ef(),realScaleType:"band"}:{scale:vm(),realScaleType:"linear"};if(xd(i)){var l="scale".concat(Hg(i));return{scale:(hP[l]||ju)(),realScaleType:hP[l]?l:"point"}}return Ne(i)?{scale:i}:{scale:ju(),realScaleType:"point"}},xP=1e-4,J$=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-xP,o=Math.max(i[0],i[1])+xP,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},jue=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Due=function(e,r){if(!r||r.length!==2||!fe(r[0])||!fe(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!fe(e[0])||e[0]<n)&&(a[0]=n),(!fe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Mue=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=_d(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},$ue=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=_d(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Lue={sign:Mue,expand:hQ,none:jl,silhouette:pQ,wiggle:mQ,positive:$ue},Fue=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Lue[n],o=dQ().keys(i).value(function(s,l){return+Pr(s,l,0)}).order(Mb).offset(a);return o(e)},Vue=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,h){var p=h.props,g=p.stackId,y=p.hide;if(y)return f;var b=h.props[n],_=f[b]||{hasStack:!1,stackGroups:{}};if(Yt(g)){var v=_.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};v.items.push(h),_.hasStack=!0,_.stackGroups[g]=v}else _.stackGroups[kd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return xn(xn({},f),{},bl({},b,_))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,b){var _=p.stackGroups[b];return xn(xn({},y),{},bl({},b,{numericAxisId:n,cateAxisId:i,items:_.items,stackedData:Fue(e,_.items,a)}))},g)}return xn(xn({},f),{},bl({},h,p))},u)},Z$=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=lue(c,a,s);return e.domain([sy(u),oy(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=cue(f,a,s);return{niceTicks:h}}return null},_P=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Pr(o,r.dataKey,r.domain[s]);return Le(l)?null:r.scale(l)-a/2+i},Uue=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Bue=function(e,r){var n=e.props.stackId;if(Yt(n)){var i=r[n];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null},zue=function(e){return e.reduce(function(r,n){return[sy(n.concat([r[0]]).filter(fe)),oy(n.concat([r[1]]).filter(fe))]},[1/0,-1/0])},eL=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,u){var f=zue(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},kP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dw=function(e,r,n){if(Ne(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(fe(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(kP.test(e[0])){var a=+kP.exec(e[0])[1];i[0]=r[0]-a}else Ne(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(fe(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(EP.test(e[1])){var o=+EP.exec(e[1])[1];i[1]=r[1]+o}else Ne(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Em=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=D1(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},SP=function(e,r,n){return!e||!e.length||ly(e,cn(n,"type.defaultProps.domain"))?r:e},tL=function(e,r){var n=e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return xn(xn({},Pe(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:lk(e),value:Pr(r,i),type:l,payload:r,chartType:c,hide:u})};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function TP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(r),!0).forEach(function(n){rL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rL(t,e,r){return e=Wue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wue(t){var e=que(t,"string");return Rf(e)=="symbol"?e:String(e)}function que(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hue(t,e){return Yue(t)||Xue(t,e)||Gue(t,e)||Kue()}function Kue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gue(t,e){if(t){if(typeof t=="string")return AP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AP(t,e)}}function AP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Yue(t){if(Array.isArray(t))return t}var Sm=Math.PI/180,Que=function(e){return e*180/Math.PI},ht=function(e,r,n,i){return{x:e+Math.cos(-Sm*i)*n,y:r+Math.sin(-Sm*i)*n}},nL=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Jue=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,c=e.endAngle,u=$r(e.cx,o,o/2),f=$r(e.cy,s,s/2),h=nL(o,s,n),p=$r(e.innerRadius,h,0),g=$r(e.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(b,_){var v=r[_],w=v.domain,E=v.reversed,T;if(Le(v.range))i==="angleAxis"?T=[l,c]:i==="radiusAxis"&&(T=[p,g]),E&&(T=[T[1],T[0]]);else{T=v.range;var I=T,S=Hue(I,2);l=S[0],c=S[1]}var k=Q$(v,a),P=k.realScaleType,O=k.scale;O.domain(w).range(T),J$(O);var R=Z$(O,Pi(Pi({},v),{},{realScaleType:P})),N=Pi(Pi(Pi({},v),R),{},{range:T,radius:g,realScaleType:P,scale:O,cx:u,cy:f,innerRadius:p,outerRadius:g,startAngle:l,endAngle:c});return Pi(Pi({},b),{},rL({},_,N))},{})},Zue=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},efe=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=Zue({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:Que(c),angleInRadian:c}},tfe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},rfe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},PP=function(e,r){var n=e.x,i=e.y,a=efe({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=tfe(r),f=u.startAngle,h=u.endAngle,p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Pi(Pi({},r),{},{radius:o,angle:rfe(p,r)}):null},iL=function(e){return!D.isValidElement(e)&&!Ne(e)&&typeof e!="boolean"?e.className:""};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}var nfe=["offset"];function ife(t){return lfe(t)||sfe(t)||ofe(t)||afe()}function afe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ofe(t,e){if(t){if(typeof t=="string")return hw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hw(t,e)}}function sfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lfe(t){if(Array.isArray(t))return hw(t)}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cfe(t,e){if(t==null)return{};var r=ufe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ufe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function IP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(r),!0).forEach(function(n){ffe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ffe(t,e,r){return e=dfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dfe(t){var e=hfe(t,"string");return jf(e)=="symbol"?e:String(e)}function hfe(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Df.apply(this,arguments)}var pfe=function(e){var r=e.value,n=e.formatter,i=Le(e.children)?r:e.children;return Ne(n)?n(i):i},mfe=function(e,r){var n=Mr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},gfe=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,b=(f+h)/2,_=mfe(p,g),v=_>=0?1:-1,w,E;i==="insideStart"?(w=p+v*o,E=y):i==="insideEnd"?(w=g-v*o,E=!y):i==="end"&&(w=g+v*o,E=y),E=_<=0?E:!E;var T=ht(c,u,b,w),I=ht(c,u,b,w+(E?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(I.x,",").concat(I.y),k=Le(e.id)?kd("recharts-radial-line-"):e.id;return $.createElement("text",Df({},n,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",s)}),$.createElement("defs",null,$.createElement("path",{id:k,d:S})),$.createElement("textPath",{xlinkHref:"#".concat(k)},r))},yfe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var p=ht(o,s,c+n,h),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,_=ht(o,s,b,h),v=_.x,w=_.y;return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},vfe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",y=c>=0?1:-1,b=y*i,_=y>0?"end":"start",v=y>0?"start":"end";if(a==="top"){var w={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Ht(Ht({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var E={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Ht(Ht({},E),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var T={x:s-b,y:l+u/2,textAnchor:_,verticalAnchor:"middle"};return Ht(Ht({},T),n?{width:Math.max(T.x-n.x,0),height:u}:{})}if(a==="right"){var I={x:s+c+b,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Ht(Ht({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:u}:{})}var S=n?{width:c,height:u}:{};return a==="insideLeft"?Ht({x:s+b,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},S):a==="insideRight"?Ht({x:s+c-b,y:l+u/2,textAnchor:_,verticalAnchor:"middle"},S):a==="insideTop"?Ht({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},S):a==="insideBottom"?Ht({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},S):a==="insideTopLeft"?Ht({x:s+b,y:l+h,textAnchor:v,verticalAnchor:g},S):a==="insideTopRight"?Ht({x:s+c-b,y:l+h,textAnchor:_,verticalAnchor:g},S):a==="insideBottomLeft"?Ht({x:s+b,y:l+u-h,textAnchor:v,verticalAnchor:p},S):a==="insideBottomRight"?Ht({x:s+c-b,y:l+u-h,textAnchor:_,verticalAnchor:p},S):cc(a)&&(fe(a.x)||$o(a.x))&&(fe(a.y)||$o(a.y))?Ht({x:s+$r(a.x,c),y:l+$r(a.y,u),textAnchor:"end",verticalAnchor:"end"},S):Ht({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},bfe=function(e){return"cx"in e&&fe(e.cx)};function ir(t){var e=t.offset,r=e===void 0?5:e,n=cfe(t,nfe),i=Ht({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||Le(s)&&Le(l)&&!D.isValidElement(c)&&!Ne(c))return null;if(D.isValidElement(c))return D.cloneElement(c,i);var p;if(Ne(c)){if(p=D.createElement(c,i),D.isValidElement(p))return p}else p=pfe(i);var g=bfe(a),y=Pe(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return gfe(i,p,y);var b=g?yfe(i):vfe(i);return $.createElement(ss,Df({className:Me("recharts-label",f)},y,b,{breakAll:h}),p)}ir.displayName="Label";var aL=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,g=e.left,y=e.width,b=e.height,_=e.clockWise,v=e.labelViewBox;if(v)return v;if(fe(y)&&fe(b)){if(fe(f)&&fe(h))return{x:f,y:h,width:y,height:b};if(fe(p)&&fe(g))return{x:p,y:g,width:y,height:b}}return fe(f)&&fe(h)?{x:f,y:h,width:0,height:0}:fe(r)&&fe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},wfe=function(e,r){return e?e===!0?$.createElement(ir,{key:"label-implicit",viewBox:r}):Yt(e)?$.createElement(ir,{key:"label-implicit",viewBox:r,value:e}):D.isValidElement(e)?e.type===ir?D.cloneElement(e,{key:"label-implicit",viewBox:r}):$.createElement(ir,{key:"label-implicit",content:e,viewBox:r}):Ne(e)?$.createElement(ir,{key:"label-implicit",content:e,viewBox:r}):cc(e)?$.createElement(ir,Df({viewBox:r},e,{key:"label-implicit"})):null:null},xfe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=aL(e),o=An(i,ir).map(function(l,c){return D.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=wfe(e.label,r||a);return[s].concat(ife(o))};ir.parseViewBox=aL;ir.renderCallByParent=xfe;function _fe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var kfe=_fe;const Efe=it(kfe);function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var Sfe=["valueAccessor"],Tfe=["data","dataKey","clockWise","id","textBreakAll"];function Afe(t){return Cfe(t)||Ofe(t)||Ife(t)||Pfe()}function Pfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ife(t,e){if(t){if(typeof t=="string")return pw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pw(t,e)}}function Ofe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cfe(t){if(Array.isArray(t))return pw(t)}function pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tm.apply(this,arguments)}function OP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(r),!0).forEach(function(n){Nfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nfe(t,e,r){return e=Rfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rfe(t){var e=jfe(t,"string");return Mf(e)=="symbol"?e:String(e)}function jfe(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NP(t,e){if(t==null)return{};var r=Dfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dfe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Mfe=function(e){return Array.isArray(e.value)?Efe(e.value):e.value};function Ya(t){var e=t.valueAccessor,r=e===void 0?Mfe:e,n=NP(t,Sfe),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=NP(n,Tfe);return!i||!i.length?null:$.createElement(rt,{className:"recharts-label-list"},i.map(function(u,f){var h=Le(a)?r(u,f):Pr(u&&u.payload,a),p=Le(s)?{}:{id:"".concat(s,"-").concat(f)};return $.createElement(ir,Tm({},Pe(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:ir.parseViewBox(Le(o)?u:CP(CP({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ya.displayName="LabelList";function $fe(t,e){return t?t===!0?$.createElement(Ya,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Ne(t)?$.createElement(Ya,{key:"labelList-implicit",data:e,content:t}):cc(t)?$.createElement(Ya,Tm({data:e},t,{key:"labelList-implicit"})):null:null}function Lfe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=An(n,Ya).map(function(o,s){return D.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=$fe(t.label,e);return[a].concat(Afe(i))}Ya.renderCallByParent=Lfe;function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mw.apply(this,arguments)}function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){Ffe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ffe(t,e,r){return e=Vfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vfe(t){var e=Ufe(t,"string");return $f(e)=="symbol"?e:String(e)}function Ufe(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bfe=function(e,r){var n=Mr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Ph=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/Sm,h=c?a:a+o*f,p=ht(r,n,u,h),g=ht(r,n,i,h),y=c?a-o*f:a,b=ht(r,n,u*Math.cos(f*Sm),y);return{center:p,circleTangency:g,lineTangency:b,theta:f}},oL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Bfe(o,s),c=o+l,u=ht(r,n,a,o),f=ht(r,n,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=ht(r,n,i,o),g=ht(r,n,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},zfe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Mr(u-c),h=Ph({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,y=h.theta,b=Ph({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:l}),_=b.circleTangency,v=b.lineTangency,w=b.theta,E=l?Math.abs(c-u):Math.abs(c-u)-y-w;if(E<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):oL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var I=Ph({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=I.circleTangency,k=I.lineTangency,P=I.theta,O=Ph({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),R=O.circleTangency,N=O.lineTangency,C=O.theta,L=l?Math.abs(c-u):Math.abs(c-u)-P-C;if(L<0&&o===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},Wfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sL=function(e){var r=jP(jP({},Wfe),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(o<a||u===f)return null;var p=Me("recharts-sector",h),g=o-a,y=$r(s,g,0,!0),b;return y>0&&Math.abs(u-f)<360?b=zfe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):b=oL({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),$.createElement("path",mw({},Pe(r,!0),{className:p,d:b,role:"img"}))};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gw.apply(this,arguments)}function DP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(r),!0).forEach(function(n){qfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qfe(t,e,r){return e=Hfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hfe(t){var e=Kfe(t,"string");return Lf(e)=="symbol"?e:String(e)}function Kfe(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $P={curveBasisClosed:tQ,curveBasisOpen:rQ,curveBasis:eQ,curveBumpX:VY,curveBumpY:UY,curveLinearClosed:nQ,curveLinear:Gg,curveMonotoneX:iQ,curveMonotoneY:aQ,curveNatural:oQ,curveStep:sQ,curveStepAfter:cQ,curveStepBefore:lQ},Ih=function(e){return e.x===+e.x&&e.y===+e.y},Qc=function(e){return e.x},Jc=function(e){return e.y},Gfe=function(e,r){if(Ne(e))return e;var n="curve".concat(Hg(e));return(n==="curveMonotone"||n==="curveBump")&&r?$P["".concat(n).concat(r==="vertical"?"Y":"X")]:$P[n]||Gg},Xfe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Gfe(n,s),f=c?a.filter(function(y){return Ih(y)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(y){return Ih(y)}):o,g=f.map(function(y,b){return MP(MP({},y),{},{base:p[b]})});return s==="vertical"?h=bh().y(Jc).x1(Qc).x0(function(y){return y.base.x}):h=bh().x(Qc).y1(Jc).y0(function(y){return y.base.y}),h.defined(Ih).curve(u),h(g)}return s==="vertical"&&fe(o)?h=bh().y(Jc).x1(Qc).x0(o):fe(o)?h=bh().x(Qc).y1(Jc).y0(o):h=nM().x(Qc).y(Jc),h.defined(Ih).curve(u),h(f)},yw=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Xfe(e):i;return $.createElement("path",gw({},Pe(e,!1),Jp(e),{className:Me("recharts-curve",r),d:o,ref:a}))},Yfe=Object.getOwnPropertyNames,Qfe=Object.getOwnPropertySymbols,Jfe=Object.prototype.hasOwnProperty;function LP(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Oh(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function FP(t){return Yfe(t).concat(Qfe(t))}var lL=Object.hasOwn||function(t,e){return Jfe.call(t,e)};function bc(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var cL="_owner",VP=Object.getOwnPropertyDescriptor,UP=Object.keys;function Zfe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function ede(t,e){return bc(t.getTime(),e.getTime())}function BP(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.entries(),a=0,o,s;(o=i.next())&&!o.done;){for(var l=e.entries(),c=!1,u=0;(s=l.next())&&!s.done;){var f=o.value,h=f[0],p=f[1],g=s.value,y=g[0],b=g[1];!c&&!n[u]&&(c=r.equals(h,y,a,u,t,e,r)&&r.equals(p,b,h,y,t,e,r))&&(n[u]=!0),u++}if(!c)return!1;a++}return!0}function tde(t,e,r){var n=UP(t),i=n.length;if(UP(e).length!==i)return!1;for(var a;i-- >0;)if(a=n[i],a===cL&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!lL(e,a)||!r.equals(t[a],e[a],a,a,t,e,r))return!1;return!0}function Zc(t,e,r){var n=FP(t),i=n.length;if(FP(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],a===cL&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!lL(e,a)||!r.equals(t[a],e[a],a,a,t,e,r)||(o=VP(t,a),s=VP(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function rde(t,e){return bc(t.valueOf(),e.valueOf())}function nde(t,e){return t.source===e.source&&t.flags===e.flags}function zP(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.values(),a,o;(a=i.next())&&!a.done;){for(var s=e.values(),l=!1,c=0;(o=s.next())&&!o.done;)!l&&!n[c]&&(l=r.equals(a.value,o.value,a.value,o.value,t,e,r))&&(n[c]=!0),c++;if(!l)return!1}return!0}function ide(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var ade="[object Arguments]",ode="[object Boolean]",sde="[object Date]",lde="[object Map]",cde="[object Number]",ude="[object Object]",fde="[object RegExp]",dde="[object Set]",hde="[object String]",pde=Array.isArray,WP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,qP=Object.assign,mde=Object.prototype.toString.call.bind(Object.prototype.toString);function gde(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(u,f,h){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var p=u.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(u,f,h);if(pde(u))return e(u,f,h);if(WP!=null&&WP(u))return l(u,f,h);if(p===Date)return r(u,f,h);if(p===RegExp)return o(u,f,h);if(p===Map)return n(u,f,h);if(p===Set)return s(u,f,h);var g=mde(u);return g===sde?r(u,f,h):g===fde?o(u,f,h):g===lde?n(u,f,h):g===dde?s(u,f,h):g===ude?typeof u.then!="function"&&typeof f.then!="function"&&i(u,f,h):g===ade?i(u,f,h):g===ode||g===cde||g===hde?a(u,f,h):!1}}function yde(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Zc:Zfe,areDatesEqual:ede,areMapsEqual:n?LP(BP,Zc):BP,areObjectsEqual:n?Zc:tde,arePrimitiveWrappersEqual:rde,areRegExpsEqual:nde,areSetsEqual:n?LP(zP,Zc):zP,areTypedArraysEqual:n?Zc:ide};if(r&&(i=qP({},i,r(i))),e){var a=Oh(i.areArraysEqual),o=Oh(i.areMapsEqual),s=Oh(i.areObjectsEqual),l=Oh(i.areSetsEqual);i=qP({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function vde(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function bde(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var wde=yo();yo({strict:!0});yo({circular:!0});yo({circular:!0,strict:!0});yo({createInternalComparator:function(){return bc}});yo({strict:!0,createInternalComparator:function(){return bc}});yo({circular:!0,createInternalComparator:function(){return bc}});yo({circular:!0,createInternalComparator:function(){return bc},strict:!0});function yo(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=yde(t),l=gde(s),c=n?n(l):vde(l);return bde({circular:r,comparator:l,createState:i,equals:c,strict:o})}function xde(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function HP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):xde(i)};requestAnimationFrame(n)}function vw(t){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vw(t)}function _de(t){return Tde(t)||Sde(t)||Ede(t)||kde()}function kde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ede(t,e){if(t){if(typeof t=="string")return KP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KP(t,e)}}function KP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tde(t){if(Array.isArray(t))return t}function Ade(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=_de(o),l=s[0],c=s.slice(1);if(typeof l=="number"){HP(i.bind(null,c),l);return}i(l),HP(i.bind(null,c));return}vw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function GP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(r),!0).forEach(function(n){uL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uL(t,e,r){return e=Pde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pde(t){var e=Ide(t,"string");return Ff(e)==="symbol"?e:String(e)}function Ide(t,e){if(Ff(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ff(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ode=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Cde=function(e){return e},Nde=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Mu=function(e,r){return Object.keys(r).reduce(function(n,i){return XP(XP({},n),{},uL({},i,e(i,r[i])))},{})},YP=function(e,r,n){return e.map(function(i){return"".concat(Nde(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Rde(t,e){return Mde(t)||Dde(t,e)||fL(t,e)||jde()}function jde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Mde(t){if(Array.isArray(t))return t}function $de(t){return Vde(t)||Fde(t)||fL(t)||Lde()}function Lde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fL(t,e){if(t){if(typeof t=="string")return bw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bw(t,e)}}function Fde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vde(t){if(Array.isArray(t))return bw(t)}function bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Am=1e-4,dL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},hL=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},QP=function(e,r){return function(n){var i=dL(e,r);return hL(i,n)}},Ude=function(e,r){return function(n){var i=dL(e,r),a=[].concat($de(i.map(function(o,s){return o*s}).slice(1)),[0]);return hL(a,n)}},JP=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),u=Rde(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var f=QP(i,o),h=QP(a,s),p=Ude(i,o),g=function(_){return _>1?1:_<0?0:_},y=function(_){for(var v=_>1?1:_,w=v,E=0;E<8;++E){var T=f(w)-v,I=p(w);if(Math.abs(T-v)<Am||I<Am)return h(w);w=g(w-T/I)}return h(w)};return y.isStepper=!1,y},Bde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(u,f,h){var p=-(u-f)*n,g=h*a,y=h+(p-g)*s/1e3,b=h*s/1e3+u;return Math.abs(b-f)<Am&&Math.abs(y)<Am?[f,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},zde=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JP(i);case"spring":return Bde();default:if(i.split("(")[0]==="cubic-bezier")return JP(i)}return typeof i=="function"?i:null};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function ZP(t){return Hde(t)||qde(t)||pL(t)||Wde()}function Wde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hde(t){if(Array.isArray(t))return xw(t)}function eI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(r),!0).forEach(function(n){ww(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ww(t,e,r){return e=Kde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kde(t){var e=Gde(t,"string");return Vf(e)==="symbol"?e:String(e)}function Gde(t,e){if(Vf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xde(t,e){return Jde(t)||Qde(t,e)||pL(t,e)||Yde()}function Yde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pL(t,e){if(t){if(typeof t=="string")return xw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xw(t,e)}}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Jde(t){if(Array.isArray(t))return t}var Pm=function(e,r,n){return e+(r-e)*n},_w=function(e){var r=e.from,n=e.to;return r!==n},Zde=function t(e,r,n){var i=Mu(function(a,o){if(_w(o)){var s=e(o.from,o.to,o.velocity),l=Xde(s,2),c=l[0],u=l[1];return cr(cr({},o),{},{from:c,velocity:u})}return o},r);return n<1?Mu(function(a,o){return _w(o)?cr(cr({},o),{},{velocity:Pm(o.velocity,i[a].velocity,n),from:Pm(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const ehe=function(t,e,r,n,i){var a=Ode(t,e),o=a.reduce(function(b,_){return cr(cr({},b),{},ww({},_,[t[_],e[_]]))},{}),s=a.reduce(function(b,_){return cr(cr({},b),{},ww({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Mu(function(_,v){return v.from},s)},p=function(){return!Object.values(s).filter(_w).length},g=function(_){c||(c=_);var v=_-c,w=v/r.dt;s=Zde(r,s,w),i(cr(cr(cr({},t),e),h())),c=_,p()||(l=requestAnimationFrame(f))},y=function(_){u||(u=_);var v=(_-u)/n,w=Mu(function(T,I){return Pm.apply(void 0,ZP(I).concat([r(v)]))},o);if(i(cr(cr(cr({},t),e),w)),v<1)l=requestAnimationFrame(f);else{var E=Mu(function(T,I){return Pm.apply(void 0,ZP(I).concat([r(1)]))},o);i(cr(cr(cr({},t),e),E))}};return f=r.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}var the=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rhe(t,e){if(t==null)return{};var r=nhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nhe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Xv(t){return she(t)||ohe(t)||ahe(t)||ihe()}function ihe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ahe(t,e){if(t){if(typeof t=="string")return kw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kw(t,e)}}function ohe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function she(t){if(Array.isArray(t))return kw(t)}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(r),!0).forEach(function(n){du(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function du(t,e,r){return e=mL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function che(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mL(n.key),n)}}function uhe(t,e,r){return e&&che(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mL(t){var e=fhe(t,"string");return Bl(e)==="symbol"?e:String(e)}function fhe(t,e){if(Bl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ew(t,e)}function hhe(t){var e=phe();return function(){var n=Im(t),i;if(e){var a=Im(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Sw(this,i)}}function Sw(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tw(t)}function Tw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function phe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(t)}var na=function(t){dhe(r,t);var e=hhe(r);function r(n,i){var a;lhe(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Tw(a)),a.changeStyle=a.changeStyle.bind(Tw(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),Sw(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},Sw(a);a.state={style:l?du({},l,c):c}}else a.state={style:{}};return a}return uhe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?du({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(wde(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||c?f:i.to;if(this.state&&h){var b={style:l?du({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(b)}this.runAnimation(jn(jn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=ehe(o,s,zde(c),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(y,b,_){if(_===0)return y;var v=b.duration,w=b.easing,E=w===void 0?"ease":w,T=b.style,I=b.properties,S=b.onAnimationEnd,k=_>0?o[_-1]:b,P=I||Object.keys(T);if(typeof E=="function"||E==="spring")return[].concat(Xv(y),[a.runJSAnimation.bind(a,{from:k.style,to:T,duration:v,easing:E}),v]);var O=YP(P,v,E),R=jn(jn(jn({},k.style),T),{},{transition:O});return[].concat(Xv(y),[R,v,S]).filter(Cde)};return this.manager.start([l].concat(Xv(o.reduce(p,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ade());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?du({},s,l):l,b=YP(Object.keys(y),o,c);g.start([u,a,jn(jn({},y),{},{transition:b}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=rhe(i,the),c=D.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var f=function(p){var g=p.props,y=g.style,b=y===void 0?{}:y,_=g.className,v=D.cloneElement(p,jn(jn({},l),{},{style:jn(jn({},b),u),className:_}));return v};return c===1?f(D.Children.only(a)):$.createElement("div",null,D.Children.map(a,function(h){return f(h)}))}}]),r}(D.PureComponent);na.displayName="Animate";na.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};na.propTypes={from:W.oneOfType([W.object,W.string]),to:W.oneOfType([W.object,W.string]),attributeName:W.string,duration:W.number,begin:W.number,easing:W.oneOfType([W.string,W.func]),steps:W.arrayOf(W.shape({duration:W.number.isRequired,style:W.object.isRequired,easing:W.oneOfType([W.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),W.func]),properties:W.arrayOf("string"),onAnimationEnd:W.func})),children:W.oneOfType([W.node,W.func]),isActive:W.bool,canBegin:W.bool,onAnimationEnd:W.func,shouldReAnimate:W.bool,onAnimationStart:W.func,onAnimationReStart:W.func};W.object,W.object,W.object,W.element;W.object,W.object,W.object,W.oneOfType([W.array,W.element]),W.any;function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Om.apply(this,arguments)}function mhe(t,e){return bhe(t)||vhe(t,e)||yhe(t,e)||ghe()}function ghe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yhe(t,e){if(t){if(typeof t=="string")return rI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rI(t,e)}}function rI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function bhe(t){if(Array.isArray(t))return t}function nI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(r),!0).forEach(function(n){whe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function whe(t,e,r){return e=xhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xhe(t){var e=_he(t,"string");return Uf(e)=="symbol"?e:String(e)}function _he(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aI=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];u="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*f[1])),u+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);u="M ".concat(e,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*g,`
            L `).concat(e+n,",").concat(r+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},khe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=u&&i>=f&&i<=h}return!1},Ehe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ck=function(e){var r=iI(iI({},Ehe),e),n=D.useRef(),i=D.useState(-1),a=mhe(i,2),o=a[0],s=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&s(E)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,y=r.animationDuration,b=r.animationBegin,_=r.isAnimationActive,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var w=Me("recharts-rectangle",p);return v?$.createElement(na,{canBegin:o>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:y,animationEasing:g,isActive:v},function(E){var T=E.width,I=E.height,S=E.x,k=E.y;return $.createElement(na,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:_,easing:g},$.createElement("path",Om({},Pe(r,!0),{className:w,d:aI(S,k,T,I,h),ref:n})))}):$.createElement("path",Om({},Pe(r,!0),{className:w,d:aI(l,c,u,f,h)}))},She=["points","className","baseLinePoints","connectNulls"];function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nl.apply(this,arguments)}function The(t,e){if(t==null)return{};var r=Ahe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ahe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function oI(t){return Che(t)||Ohe(t)||Ihe(t)||Phe()}function Phe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ihe(t,e){if(t){if(typeof t=="string")return Aw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(t,e)}}function Ohe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Che(t){if(Array.isArray(t))return Aw(t)}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var sI=function(e){return e&&e.x===+e.x&&e.y===+e.y},Nhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){sI(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),sI(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},$u=function(e,r){var n=Nhe(e);r&&(n=[n.reduce(function(a,o){return[].concat(oI(a),oI(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Rhe=function(e,r,n){var i=$u(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat($u(r.reverse(),n).slice(1))},jhe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=The(e,She);if(!r||!r.length)return null;var s=Me("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=Rhe(r,i,a);return $.createElement("g",{className:s},$.createElement("path",nl({},Pe(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?$.createElement("path",nl({},Pe(o,!0),{fill:"none",d:$u(r,a)})):null,l?$.createElement("path",nl({},Pe(o,!0),{fill:"none",d:$u(i,a)})):null)}var u=$u(r,a);return $.createElement("path",nl({},Pe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pw.apply(this,arguments)}var uk=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Me("recharts-dot",a);return r===+r&&n===+n&&i===+i?$.createElement("circle",Pw({},Pe(e,!1),Jp(e),{className:o,cx:r,cy:n,r:i})):null};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}var Dhe=["x","y","top","left","width","height","className"];function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iw.apply(this,arguments)}function lI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mhe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(r),!0).forEach(function(n){$he(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $he(t,e,r){return e=Lhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lhe(t){var e=Fhe(t,"string");return Bf(e)=="symbol"?e:String(e)}function Fhe(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vhe(t,e){if(t==null)return{};var r=Uhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uhe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Bhe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},zhe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,g=e.className,y=Vhe(e,Dhe),b=Mhe({x:n,y:a,top:s,left:c,width:f,height:p},y);return!fe(n)||!fe(a)||!fe(f)||!fe(p)||!fe(s)||!fe(c)?null:$.createElement("path",Iw({},Pe(b,!0),{className:Me("recharts-cross",g),d:Bhe(n,a,f,p,s,c)}))},Whe=ay,qhe=N$,Hhe=wi;function Khe(t,e){return t&&t.length?Whe(t,Hhe(e),qhe):void 0}var Ghe=Khe;const Xhe=it(Ghe);var Yhe=ay,Qhe=wi,Jhe=R$;function Zhe(t,e){return t&&t.length?Yhe(t,Qhe(e),Jhe):void 0}var epe=Zhe;const tpe=it(epe);var rpe=["cx","cy","angle","ticks","axisLine"],npe=["ticks","tick","angle","tickFormatter","stroke"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lu.apply(this,arguments)}function cI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(r),!0).forEach(function(n){dy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uI(t,e){if(t==null)return{};var r=ipe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ipe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ape(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yL(n.key),n)}}function ope(t,e,r){return e&&fI(t.prototype,e),r&&fI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function spe(t,e,r){return e=Cm(e),lpe(t,gL()?Reflect.construct(e,r||[],Cm(t).constructor):e.apply(t,r))}function lpe(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cpe(t)}function cpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gL=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(t)}function upe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ow(t,e)}function Ow(t,e){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ow(t,e)}function dy(t,e,r){return e=yL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yL(t){var e=fpe(t,"string");return zl(e)=="symbol"?e:String(e)}function fpe(t,e){if(zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hy=function(t){upe(e,t);function e(){return ape(this,e),spe(this,e,arguments)}return ope(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return ht(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=Xhe(s,function(u){return u.coordinate||0}),c=tpe(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=uI(n,rpe),u=s.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),f=ht(i,a,u[0],o),h=ht(i,a,u[1],o),p=Eo(Eo(Eo({},Pe(c,!1)),{},{fill:"none"},Pe(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return $.createElement("line",Lu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=uI(i,npe),f=this.getTickTextAnchor(),h=Pe(u,!1),p=Pe(o,!1),g=a.map(function(y,b){var _=n.getTickValueCoord(y),v=Eo(Eo(Eo(Eo({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:b},_),{},{payload:y});return $.createElement(rt,Lu({className:Me("recharts-polar-radius-axis-tick",iL(o)),key:"tick-".concat(y.coordinate)},os(n.props,y,b)),e.renderTickItem(o,v,l?l(y.value,b):y.value))});return $.createElement(rt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:$.createElement(rt,{className:Me("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ir.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):Ne(n)?o=n(i):o=$.createElement(ss,Lu({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}]),e}(D.PureComponent);dy(hy,"displayName","PolarRadiusAxis");dy(hy,"axisType","radiusAxis");dy(hy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function No(){return No=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},No.apply(this,arguments)}function dI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function So(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(r),!0).forEach(function(n){py(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bL(n.key),n)}}function hpe(t,e,r){return e&&hI(t.prototype,e),r&&hI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ppe(t,e,r){return e=Nm(e),mpe(t,vL()?Reflect.construct(e,r||[],Nm(t).constructor):e.apply(t,r))}function mpe(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gpe(t)}function gpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vL=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nm(t)}function ype(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cw(t,e)}function py(t,e,r){return e=bL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bL(t){var e=vpe(t,"string");return Wl(e)=="symbol"?e:String(e)}function vpe(t,e){if(Wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bpe=Math.PI/180,pI=1e-5,my=function(t){ype(e,t);function e(){return dpe(this,e),ppe(this,e,arguments)}return hpe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=ht(a,o,s,n.coordinate),h=ht(a,o,s+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*bpe),o;return a>pI?o=i==="outer"?"start":"end":a<-pI?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=So(So({},Pe(this.props,!1)),{},{fill:"none"},Pe(s,!1));if(l==="circle")return $.createElement(uk,No({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var u=this.props.ticks,f=u.map(function(h){return ht(i,a,o,h.coordinate)});return $.createElement(jhe,No({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=Pe(this.props,!1),f=Pe(o,!1),h=So(So({},u),{},{fill:"none"},Pe(s,!1)),p=a.map(function(g,y){var b=n.getTickLineCoord(g),_=n.getTickTextAnchor(g),v=So(So(So({textAnchor:_},u),{},{stroke:"none",fill:c},f),{},{index:y,payload:g,x:b.x2,y:b.y2});return $.createElement(rt,No({className:Me("recharts-polar-angle-axis-tick",iL(o)),key:"tick-".concat(g.coordinate)},os(n.props,g,y)),s&&$.createElement("line",No({className:"recharts-polar-angle-axis-tick-line"},h,b)),o&&e.renderTickItem(o,v,l?l(g.value,y):g.value))});return $.createElement(rt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:$.createElement(rt,{className:Me("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):Ne(n)?o=n(i):o=$.createElement(ss,No({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}]),e}(D.PureComponent);py(my,"displayName","PolarAngleAxis");py(my,"axisType","angleAxis");py(my,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var wpe=AM,xpe=wpe(Object.getPrototypeOf,Object),_pe=xpe,kpe=aa,Epe=_pe,Spe=oa,Tpe="[object Object]",Ape=Function.prototype,Ppe=Object.prototype,wL=Ape.toString,Ipe=Ppe.hasOwnProperty,Ope=wL.call(Object);function Cpe(t){if(!Spe(t)||kpe(t)!=Tpe)return!1;var e=Epe(t);if(e===null)return!0;var r=Ipe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&wL.call(r)==Ope}var Npe=Cpe;const Rpe=it(Npe);var jpe=aa,Dpe=oa,Mpe="[object Boolean]";function $pe(t){return t===!0||t===!1||Dpe(t)&&jpe(t)==Mpe}var Lpe=$pe;const Fpe=it(Lpe);function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rm.apply(this,arguments)}function Vpe(t,e){return Wpe(t)||zpe(t,e)||Bpe(t,e)||Upe()}function Upe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bpe(t,e){if(t){if(typeof t=="string")return mI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mI(t,e)}}function mI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Wpe(t){if(Array.isArray(t))return t}function gI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(r),!0).forEach(function(n){qpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qpe(t,e,r){return e=Hpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hpe(t){var e=Kpe(t,"string");return zf(e)=="symbol"?e:String(e)}function Kpe(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vI=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},Gpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xpe=function(e){var r=yI(yI({},Gpe),e),n=D.useRef(),i=D.useState(-1),a=Vpe(i,2),o=a[0],s=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,y=r.animationDuration,b=r.animationBegin,_=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var v=Me("recharts-trapezoid",p);return _?$.createElement(na,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:y,animationEasing:g,isActive:_},function(w){var E=w.upperWidth,T=w.lowerWidth,I=w.height,S=w.x,k=w.y;return $.createElement(na,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:g},$.createElement("path",Rm({},Pe(r,!0),{className:v,d:vI(S,k,E,T,I),ref:n})))}):$.createElement("g",null,$.createElement("path",Rm({},Pe(r,!0),{className:v,d:vI(l,c,u,f,h)})))},Ype=["option","shapeType","propTransformer","activeClassName","isActive"];function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function Qpe(t,e){if(t==null)return{};var r=Jpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jpe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function bI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(r),!0).forEach(function(n){Zpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zpe(t,e,r){return e=eme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eme(t){var e=tme(t,"string");return Wf(e)=="symbol"?e:String(e)}function tme(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rme(t,e){return jm(jm({},e),t)}function nme(t,e){return t==="symbols"}function wI(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return $.createElement(ck,r);case"trapezoid":return $.createElement(Xpe,r);case"sector":return $.createElement(sL,r);case"symbols":if(nme(e))return $.createElement(A1,r);break;default:return null}}function ime(t){return D.isValidElement(t)?t.props:t}function xL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?rme:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Qpe(t,Ype),c;if(D.isValidElement(e))c=D.cloneElement(e,jm(jm({},l),ime(e)));else if(Ne(e))c=e(l);else if(Rpe(e)&&!Fpe(e)){var u=i(e,l);c=$.createElement(wI,{shapeType:r,elementProps:u})}else{var f=l;c=$.createElement(wI,{shapeType:r,elementProps:f})}return s?$.createElement(rt,{className:o},c):c}function gy(t,e){return e!=null&&"trapezoids"in t.props}function yy(t,e){return e!=null&&"sectors"in t.props}function qf(t,e){return e!=null&&"points"in t.props}function ame(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function ome(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function sme(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function lme(t,e){var r;return gy(t,e)?r=ame:yy(t,e)?r=ome:qf(t,e)&&(r=sme),r}function cme(t,e){var r;return gy(t,e)?r="trapezoids":yy(t,e)?r="sectors":qf(t,e)&&(r="points"),r}function ume(t,e){if(gy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(yy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return qf(t,e)?e.payload:{}}function fme(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=cme(r,e),a=ume(r,e),o=n.filter(function(l,c){var u=ly(a,l),f=r.props[i].filter(function(g){var y=lme(r,e);return y(g,e)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),s=n.indexOf(o[o.length-1]);return s}var rp;function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},il.apply(this,arguments)}function xI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(r),!0).forEach(function(n){_n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kL(n.key),n)}}function hme(t,e,r){return e&&_I(t.prototype,e),r&&_I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pme(t,e,r){return e=Dm(e),mme(t,_L()?Reflect.construct(e,r||[],Dm(t).constructor):e.apply(t,r))}function mme(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vs(t)}function _L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_L=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dm(t)}function Vs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nw(t,e)}function _n(t,e,r){return e=kL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kL(t){var e=yme(t,"string");return ql(e)=="symbol"?e:String(e)}function yme(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xi=function(t){gme(e,t);function e(r){var n;return dme(this,e),n=pme(this,e,[r]),_n(Vs(n),"pieRef",null),_n(Vs(n),"sectorRefs",[]),_n(Vs(n),"id",kd("recharts-pie-")),_n(Vs(n),"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ne(i)&&i()}),_n(Vs(n),"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ne(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return hme(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,u=Pe(this.props,!1),f=Pe(o,!1),h=Pe(s,!1),p=o&&o.offsetRadius||20,g=n.map(function(y,b){var _=(y.startAngle+y.endAngle)/2,v=ht(y.cx,y.cy,y.outerRadius+p,_),w=kt(kt(kt(kt({},u),y),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(v.x,y.cx)},v),E=kt(kt(kt(kt({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[ht(y.cx,y.cy,y.outerRadius,_),v],key:"line"}),T=l;return Le(l)&&Le(c)?T="value":Le(l)&&(T=c),$.createElement(rt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,E),e.renderLabelItem(o,w,Pr(y,T)))});return $.createElement(rt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,g=kt(kt({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return $.createElement(rt,il({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},os(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),$.createElement(xL,il({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return $.createElement(na,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,b=[],_=a&&a[0],v=_.startAngle;return a.forEach(function(w,E){var T=h&&h[E],I=E>0?cn(w,"paddingAngle",0):0;if(T){var S=wa(T.endAngle-T.startAngle,w.endAngle-w.startAngle),k=kt(kt({},w),{},{startAngle:v+I,endAngle:v+S(y)+I});b.push(k),v=k.endAngle}else{var P=w.endAngle,O=w.startAngle,R=wa(0,P-O),N=R(y),C=kt(kt({},w),{},{startAngle:v+I,endAngle:v+N+I});b.push(C),v=C.endAngle}}),$.createElement(rt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!ly(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!fe(c)||!fe(u)||!fe(f)||!fe(h))return null;var y=Me("recharts-pie",s);return $.createElement(rt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(_){n.pieRef=_}},this.renderSectors(),l&&this.renderLabels(o),ir.renderCallByParent(this.props,null,!1),(!p||g)&&Ya.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i){if($.isValidElement(n))return $.cloneElement(n,i);if(Ne(n))return n(i);var a=Me("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return $.createElement(yw,il({},i,{type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,a){if($.isValidElement(n))return $.cloneElement(n,i);var o=a;if(Ne(n)&&(o=n(i),$.isValidElement(o)))return o;var s=Me("recharts-pie-label-text",typeof n!="boolean"&&!Ne(n)?n.className:"");return $.createElement(ss,il({},i,{alignmentBaseline:"middle",className:s}),o)}}]),e}(D.PureComponent);rp=xi;_n(xi,"displayName","Pie");_n(xi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Wi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_n(xi,"parseDeltaAngle",function(t,e){var r=Mr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});_n(xi,"getRealPieData",function(t){var e=t.props,r=e.data,n=e.children,i=Pe(t.props,!1),a=An(n,Sd);return r&&r.length?r.map(function(o,s){return kt(kt(kt({payload:o},i),o),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(o){return kt(kt({},i),o.props)}):[]});_n(xi,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=nL(i,a),s=n+$r(t.props.cx,i,i/2),l=r+$r(t.props.cy,a,a/2),c=$r(t.props.innerRadius,o,0),u=$r(t.props.outerRadius,o,o*.8),f=t.props.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});_n(xi,"getComposedData",function(t){var e=t.item,r=t.offset,n=rp.getRealPieData(e);if(!n||!n.length)return null;var i=e.props,a=i.cornerRadius,o=i.startAngle,s=i.endAngle,l=i.paddingAngle,c=i.dataKey,u=i.nameKey,f=i.valueKey,h=i.tooltipType,p=Math.abs(e.props.minAngle),g=rp.parseCoordinateOfPie(e,r),y=rp.parseDeltaAngle(o,s),b=Math.abs(y),_=c;Le(c)&&Le(f)?(zn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Le(c)&&(zn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var v=n.filter(function(k){return Pr(k,_,0)!==0}).length,w=(b>=360?v:v-1)*l,E=b-v*p-w,T=n.reduce(function(k,P){var O=Pr(P,_,0);return k+(fe(O)?O:0)},0),I;if(T>0){var S;I=n.map(function(k,P){var O=Pr(k,_,0),R=Pr(k,u,P),N=(fe(O)?O:0)/T,C;P?C=S.endAngle+Mr(y)*l*(O!==0?1:0):C=o;var L=C+Mr(y)*((O!==0?p:0)+N*E),z=(C+L)/2,B=(g.innerRadius+g.outerRadius)/2,X=[{name:R,value:O,payload:k,dataKey:_,type:h}],F=ht(g.cx,g.cy,B,z);return S=kt(kt(kt({percent:N,cornerRadius:a,name:R,tooltipPayload:X,midAngle:z,middleRadius:B,tooltipPosition:F},k),g),{},{value:Pr(k,_),startAngle:C,endAngle:L,payload:k,paddingAngle:Mr(y)*l}),S})}return kt(kt({},g),{},{sectors:I,data:n})});var vme=Math.ceil,bme=Math.max;function wme(t,e,r,n){for(var i=-1,a=bme(vme((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var xme=wme,_me=KM,kI=1/0,kme=17976931348623157e292;function Eme(t){if(!t)return t===0?t:0;if(t=_me(t),t===kI||t===-kI){var e=t<0?-1:1;return e*kme}return t===t?t:0}var EL=Eme,Sme=xme,Tme=Jg,Yv=EL;function Ame(t){return function(e,r,n){return n&&typeof n!="number"&&Tme(e,r,n)&&(r=n=void 0),e=Yv(e),r===void 0?(r=e,e=0):r=Yv(r),n=n===void 0?e<r?1:-1:Yv(n),Sme(e,r,n,t)}}var Pme=Ame,Ime=Pme,Ome=Ime(),Cme=Ome;const Mm=it(Cme);function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function EI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(r),!0).forEach(function(n){SL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SL(t,e,r){return e=Nme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nme(t){var e=Rme(t,"string");return Hf(e)=="symbol"?e:String(e)}function Rme(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jme=["Webkit","Moz","O","ms"],Dme=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=jme.reduce(function(a,o){return SI(SI({},a),{},SL({},o+n,r))},{});return i[e]=r,i};function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$m.apply(this,arguments)}function TI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(r),!0).forEach(function(n){tn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AL(n.key),n)}}function $me(t,e,r){return e&&AI(t.prototype,e),r&&AI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lme(t,e,r){return e=Lm(e),Fme(t,TL()?Reflect.construct(e,r||[],Lm(t).constructor):e.apply(t,r))}function Fme(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qn(t)}function TL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TL=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(t)}function Qn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rw(t,e)}function tn(t,e,r){return e=AL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AL(t){var e=Ume(t,"string");return Hl(e)=="symbol"?e:String(e)}function Ume(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bme=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=ju().domain(Mm(0,l)).range([a,a+o-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},PI=function(e){return e.changedTouches&&!!e.changedTouches.length},Kl=function(t){Vme(e,t);function e(r){var n;return Mme(this,e),n=Lme(this,e,[r]),tn(Qn(n),"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),tn(Qn(n),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),tn(Qn(n),"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),tn(Qn(n),"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),tn(Qn(n),"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),tn(Qn(n),"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),tn(Qn(n),"handleSlideDragStart",function(i){var a=PI(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(Qn(n),"startX"),endX:n.handleTravellerDragStart.bind(Qn(n),"endX")},n.state={},n}return $me(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),g=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Pr(a[n],s,n);return Ne(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,y=n.pageX-a;y>0?y=Math.min(y,c+u-f-s,c+u-f-o):y<0&&(y=Math.max(y,c-o,c-s));var b=this.getIndex({startX:o+y,endX:s+y});(b.startIndex!==h||b.endIndex!==p)&&g&&g(b),this.setState({startX:o+y,endX:s+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=PI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,y=u.gap,b=u.data,_={startX:this.state.startX,endX:this.state.endX},v=n.pageX-a;v>0?v=Math.min(v,f+h-p-c):v<0&&(v=Math.max(v,f-c)),_[o]=c+v;var w=this.getIndex(_),E=w.startIndex,T=w.endIndex,I=function(){var k=b.length-1;return o==="startX"&&(s>l?E%y===0:T%y===0)||s<l&&T===k||o==="endX"&&(s>l?T%y===0:E%y===0)||s>l&&T===k};this.setState(tn(tn({},o,c+v),"brushMoveStartX",n.pageX),function(){g&&I()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(tn({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return $.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,f=D.Children.only(c);return f?$.cloneElement(f,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,b=l.endIndex,_=Math.max(n,this.props.x),v=Qv(Qv({},Pe(this.props,!1)),{},{x:_,y:c,width:u,height:f}),w=p||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[b])===null||o===void 0?void 0:o.name);return $.createElement(rt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return $.createElement(rt,{className:"recharts-brush-texts"},$.createElement(ss,$m({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},g),this.getTextOfTick(i)),$.createElement(ss,$m({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,y=h.isTextActive,b=h.isSlideMoving,_=h.isTravellerMoving,v=h.isTravellerFocused;if(!i||!i.length||!fe(s)||!fe(l)||!fe(c)||!fe(u)||c<=0||u<=0)return null;var w=Me("recharts-brush",a),E=$.Children.count(o)===1,T=Dme("userSelect","none");return $.createElement(rt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||b||_||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return $.isValidElement(n)?a=$.cloneElement(n,i):Ne(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return Qv({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?Bme({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}]),e}(D.PureComponent);tn(Kl,"displayName","Brush");tn(Kl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zme=j1;function Wme(t,e){var r;return zme(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var qme=Wme,Hme=bM,Kme=wi,Gme=qme,Xme=Zr,Yme=Jg;function Qme(t,e,r){var n=Xme(t)?Hme:Gme;return r&&Yme(t,e,r)&&(e=void 0),n(t,Kme(e))}var Jme=Qme;const Zme=it(Jme);var pi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},II=BM;function ege(t,e,r){e=="__proto__"&&II?II(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var tge=ege,rge=tge,nge=VM,ige=wi;function age(t,e){var r={};return e=ige(e),nge(t,function(n,i,a){rge(r,i,e(n,i,a))}),r}var oge=age;const sge=it(oge);function lge(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var cge=lge,uge=j1;function fge(t,e){var r=!0;return uge(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var dge=fge,hge=cge,pge=dge,mge=wi,gge=Zr,yge=Jg;function vge(t,e,r){var n=gge(t)?hge:pge;return r&&yge(t,e,r)&&(e=void 0),n(t,mge(e))}var bge=vge;const PL=it(bge);var wge=["x","y"];function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jw.apply(this,arguments)}function OI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(r),!0).forEach(function(n){xge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xge(t,e,r){return e=_ge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ge(t){var e=kge(t,"string");return Kf(e)=="symbol"?e:String(e)}function kge(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ege(t,e){if(t==null)return{};var r=Sge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sge(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Tge(t,e){var r=t.x,n=t.y,i=Ege(t,wge),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return eu(eu(eu(eu(eu({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function CI(t){return $.createElement(xL,jw({shapeType:"rectangle",propTransformer:Tge,activeClassName:"recharts-active-bar"},t))}var Age=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||cs(),r)}},Pge=["value","background"],IL;function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function Ige(t,e){if(t==null)return{};var r=Oge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oge(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fm.apply(this,arguments)}function NI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(r),!0).forEach(function(n){Da(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CL(n.key),n)}}function Nge(t,e,r){return e&&RI(t.prototype,e),r&&RI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rge(t,e,r){return e=Vm(e),jge(t,OL()?Reflect.construct(e,r||[],Vm(t).constructor):e.apply(t,r))}function jge(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hu(t)}function OL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OL=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(t)}function hu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dw(t,e)}function Da(t,e,r){return e=CL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CL(t){var e=Mge(t,"string");return Gl(e)=="symbol"?e:String(e)}function Mge(t,e){if(Gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ks=function(t){Dge(e,t);function e(){var r;Cge(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Rge(this,e,[].concat(i)),Da(hu(r),"state",{isAnimationFinished:!1}),Da(hu(r),"id",kd("recharts-bar-")),Da(hu(r),"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Da(hu(r),"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Nge(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=Pe(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?c:o,y=er(er(er({},u),f),{},{isActive:p,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(rt,Fm({className:"recharts-bar-rectangle"},os(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),$.createElement(CI,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return $.createElement(na,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=a.map(function(b,_){var v=h&&h[_];if(v){var w=wa(v.x,b.x),E=wa(v.y,b.y),T=wa(v.width,b.width),I=wa(v.height,b.height);return er(er({},b),{},{x:w(g),y:E(g),width:T(g),height:I(g)})}if(o==="horizontal"){var S=wa(0,b.height),k=S(g);return er(er({},b),{},{y:b.y+b.height-k,height:k})}var P=wa(0,b.width),O=P(g);return er(er({},b),{},{width:O})});return $.createElement(rt,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ly(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Pe(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=Ige(c,Pge);if(!f)return null;var p=er(er(er(er(er({},h),{},{fill:"#eee"},f),l),os(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,key:"background-bar-".concat(u),className:"recharts-bar-background-rectangle"});return $.createElement(CI,Fm({option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=An(u,fy);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(b,_){var v=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:v,errorVal:Pr(b,_)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return $.createElement(rt,g,f.map(function(y){return $.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,y=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,_=Me("recharts-bar",o),v=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,E=v||w,T=Le(y)?this.id:y;return $.createElement(rt,{className:_},v||w?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(T)},$.createElement("rect",{x:v?c:c-f/2,y:w?u:u-h/2,width:v?f:f*2,height:w?h:h*2}))):null,$.createElement(rt,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,T),(!p||b)&&Ya.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}]),e}(D.PureComponent);IL=ks;Da(ks,"displayName","Bar");Da(ks,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Da(ks,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=jue(n,r);if(!p)return null;var g=e.layout,y=r.props,b=y.dataKey,_=y.children,v=y.minPointSize,w=g==="horizontal"?o:a,E=c?w.scale.domain():null,T=Uue({numericAxis:w}),I=An(_,Sd),S=f.map(function(k,P){var O,R,N,C,L,z;c?O=Due(c[u+P],E):(O=Pr(k,b),Array.isArray(O)||(O=[T,O]));var B=Age(v,IL.defaultProps.minPointSize)(O[1],P);if(g==="horizontal"){var X,F=[o.scale(O[0]),o.scale(O[1])],Y=F[0],re=F[1];R=_P({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:k,index:P}),N=(X=re??Y)!==null&&X!==void 0?X:void 0,C=p.size;var de=Y-re;if(L=Number.isNaN(de)?0:de,z={x:R,y:o.y,width:C,height:o.height},Math.abs(B)>0&&Math.abs(L)<Math.abs(B)){var te=Mr(L||B)*(Math.abs(B)-Math.abs(L));N-=te,L+=te}}else{var he=[a.scale(O[0]),a.scale(O[1])],Ee=he[0],je=he[1];if(R=Ee,N=_P({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:k,index:P}),C=je-Ee,L=p.size,z={x:a.x,y:N,width:a.width,height:L},Math.abs(B)>0&&Math.abs(C)<Math.abs(B)){var Q=Mr(C||B)*(Math.abs(B)-Math.abs(C));C+=Q}}return er(er(er({},k),{},{x:R,y:N,width:C,height:L,value:c?O:O[1],payload:k,background:z},I&&I[P]&&I[P].props),{},{tooltipPayload:[tL(r,k)],tooltipPosition:{x:R+C/2,y:N+L/2}})});return er({data:S,layout:g},h)});function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function $ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NL(n.key),n)}}function Lge(t,e,r){return e&&jI(t.prototype,e),r&&jI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(r),!0).forEach(function(n){vy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vy(t,e,r){return e=NL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NL(t){var e=Fge(t,"string");return Gf(e)=="symbol"?e:String(e)}function Fge(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vge=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!nn(c,ks);return u.reduce(function(p,g){var y=r[g],b=y.orientation,_=y.domain,v=y.padding,w=v===void 0?{}:v,E=y.mirror,T=y.reversed,I="".concat(b).concat(E?"Mirror":""),S,k,P,O,R;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var N=_[1]-_[0],C=1/0,L=y.categoricalDomain.sort();if(L.forEach(function(Ee,je){je>0&&(C=Math.min((Ee||0)-(L[je-1]||0),C))}),Number.isFinite(C)){var z=C/N,B=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(S=z*B/2),y.padding==="no-gap"){var X=$r(e.barCategoryGap,z*B),F=z*B/2;S=F-X-(F-X)/B*X}}}i==="xAxis"?k=[n.left+(w.left||0)+(S||0),n.left+n.width-(w.right||0)-(S||0)]:i==="yAxis"?k=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(S||0),n.top+n.height-(w.bottom||0)-(S||0)]:k=y.range,T&&(k=[k[1],k[0]]);var Y=Q$(y,a,h),re=Y.scale,de=Y.realScaleType;re.domain(_).range(k),J$(re);var te=Z$(re,$n($n({},y),{},{realScaleType:de}));i==="xAxis"?(R=b==="top"&&!E||b==="bottom"&&E,P=n.left,O=f[I]-R*y.height):i==="yAxis"&&(R=b==="left"&&!E||b==="right"&&E,P=f[I]-R*y.width,O=n.top);var he=$n($n($n({},y),te),{},{realScaleType:de,x:P,y:O,scale:re,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return he.bandSize=Em(he,te),!y.hide&&i==="xAxis"?f[I]+=(R?-1:1)*he.height:y.hide||(f[I]+=(R?-1:1)*he.width),$n($n({},p),{},vy({},g,he))},{})},RL=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Uge=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return RL({x:r,y:n},{x:i,y:a})},jL=function(){function t(e){$ge(this,t),this.scale=e}return Lge(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}]),t}();vy(jL,"EPS",1e-4);var fk=function(e){var r=Object.keys(e).reduce(function(n,i){return $n($n({},n),{},vy({},i,jL.create(e[i])))},{});return $n($n({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return sge(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return PL(i,function(a,o){return r[o].isInRange(a)})}})};function Bge(t){return(t%180+180)%180}var zge=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Bge(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Wge=wi,qge=Ed,Hge=Yg;function Kge(t){return function(e,r,n){var i=Object(e);if(!qge(e)){var a=Wge(r);e=Hge(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var Gge=Kge,Xge=EL;function Yge(t){var e=Xge(t),r=e%1;return e===e?r?e-r:e:0}var Qge=Yge,Jge=RM,Zge=wi,eye=Qge,tye=Math.max;function rye(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:eye(r);return i<0&&(i=tye(n+i,0)),Jge(t,Zge(e),i)}var nye=rye,iye=Gge,aye=nye,oye=iye(aye),sye=oye;const lye=it(sye);var cye=OG(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),dk=D.createContext(void 0),hk=D.createContext(void 0),DL=D.createContext(void 0),ML=D.createContext({}),$L=D.createContext(void 0),LL=D.createContext(0),FL=D.createContext(0),MI=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=cye(a);return $.createElement(dk.Provider,{value:n},$.createElement(hk.Provider,{value:i},$.createElement(ML.Provider,{value:a},$.createElement(DL.Provider,{value:u},$.createElement($L.Provider,{value:o},$.createElement(LL.Provider,{value:c},$.createElement(FL.Provider,{value:l},s)))))))},uye=function(){return D.useContext($L)},VL=function(e){var r=D.useContext(dk);r==null&&cs();var n=r[e];return n==null&&cs(),n},fye=function(){var e=D.useContext(dk);return Oa(e)},dye=function(){var e=D.useContext(hk),r=lye(e,function(n){return PL(n.domain,Number.isFinite)});return r||Oa(e)},UL=function(e){var r=D.useContext(hk);r==null&&cs();var n=r[e];return n==null&&cs(),n},hye=function(){var e=D.useContext(DL);return e},pye=function(){return D.useContext(ML)},pk=function(){return D.useContext(FL)},mk=function(){return D.useContext(LL)};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function $I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(r),!0).forEach(function(n){mye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$I(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mye(t,e,r){return e=gye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gye(t){var e=yye(t,"string");return Xf(e)=="symbol"?e:String(e)}function yye(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vye(t,e){return _ye(t)||xye(t,e)||wye(t,e)||bye()}function bye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wye(t,e){if(t){if(typeof t=="string")return FI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FI(t,e)}}function FI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function _ye(t){if(Array.isArray(t))return t}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mw.apply(this,arguments)}var kye=function(e,r){var n;return $.isValidElement(e)?n=$.cloneElement(e,r):Ne(e)?n=e(r):n=$.createElement("line",Mw({},r,{className:"recharts-reference-line-line"})),n},Eye=function(e,r,n,i,a,o,s,l,c){var u=a.x,f=a.y,h=a.width,p=a.height;if(n){var g=c.y,y=e.y.apply(g,{position:o});if(pi(c,"discard")&&!e.y.isInRange(y))return null;var b=[{x:u+h,y},{x:u,y}];return l==="left"?b.reverse():b}if(r){var _=c.x,v=e.x.apply(_,{position:o});if(pi(c,"discard")&&!e.x.isInRange(v))return null;var w=[{x:v,y:f+p},{x:v,y:f}];return s==="top"?w.reverse():w}if(i){var E=c.segment,T=E.map(function(I){return e.apply(I,{position:o})});return pi(c,"discard")&&Zme(T,function(I){return!e.isInRange(I)})?null:T}return null};function gk(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=uye(),u=VL(i),f=UL(a),h=hye();if(!c||!h)return null;zn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=fk({x:u.scale,y:f.scale}),g=Yt(e),y=Yt(r),b=n&&n.length===2,_=Eye(p,g,y,b,h,t.position,u.orientation,f.orientation,t);if(!_)return null;var v=vye(_,2),w=v[0],E=w.x,T=w.y,I=v[1],S=I.x,k=I.y,P=pi(t,"hidden")?"url(#".concat(c,")"):void 0,O=LI(LI({clipPath:P},Pe(t,!0)),{},{x1:E,y1:T,x2:S,y2:k});return $.createElement(rt,{className:Me("recharts-reference-line",s)},kye(o,O),ir.renderCallByParent(t,Uge({x1:E,y1:T,x2:S,y2:k})))}gk.displayName="ReferenceLine";gk.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$w.apply(this,arguments)}function VI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(r),!0).forEach(function(n){Sye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sye(t,e,r){return e=Tye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tye(t){var e=Aye(t,"string");return Yf(e)=="symbol"?e:String(e)}function Aye(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pye=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=fk({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return pi(e,"discard")&&!o.isInRange(s)?null:s};function Od(t){var e=t.x,r=t.y,n=t.r,i=t.alwaysShow,a=t.clipPathId,o=Yt(e),s=Yt(r);if(zn(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!s)return null;var l=Pye(t);if(!l)return null;var c=l.x,u=l.y,f=t.shape,h=t.className,p=pi(t,"hidden")?"url(#".concat(a,")"):void 0,g=UI(UI({clipPath:p},Pe(t,!0)),{},{cx:c,cy:u});return $.createElement(rt,{className:Me("recharts-reference-dot",h)},Od.renderDot(f,g),ir.renderCallByParent(t,{x:c-n,y:u-n,width:2*n,height:2*n}))}Od.displayName="ReferenceDot";Od.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Od.renderDot=function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):Ne(t)?r=t(e):r=$.createElement(uk,$w({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lw.apply(this,arguments)}function BI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(r),!0).forEach(function(n){Iye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iye(t,e,r){return e=Oye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oye(t){var e=Cye(t,"string");return Qf(e)=="symbol"?e:String(e)}function Cye(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nye=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=fk({x:u.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return pi(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:RL(p,g)};function Cd(t){var e=t.x1,r=t.x2,n=t.y1,i=t.y2,a=t.className,o=t.alwaysShow,s=t.clipPathId;zn(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=Yt(e),c=Yt(r),u=Yt(n),f=Yt(i),h=t.shape;if(!l&&!c&&!u&&!f&&!h)return null;var p=Nye(l,c,u,f,t);if(!p&&!h)return null;var g=pi(t,"hidden")?"url(#".concat(s,")"):void 0;return $.createElement(rt,{className:Me("recharts-reference-area",a)},Cd.renderRect(h,zI(zI({clipPath:g},Pe(t,!0)),p)),ir.renderCallByParent(t,p))}Cd.displayName="ReferenceArea";Cd.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Cd.renderRect=function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):Ne(t)?r=t(e):r=$.createElement(ck,Lw({},e,{className:"recharts-reference-area-rect"})),r};function BL(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Rye(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return zge(n,r)}function jye(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Um(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Dye(t,e){return BL(t,e+1)}function Mye(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,c=1,u=o,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:BL(n,c)};var y=l,b,_=function(){return b===void 0&&(b=r(g,y)),b},v=g.coordinate,w=l===0||Um(t,v,_,u,s);w||(l=0,u=o,c+=1),w&&(u=v+t*(_()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function WI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(r),!0).forEach(function(n){$ye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ye(t,e,r){return e=Lye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lye(t){var e=Fye(t,"string");return Jf(e)=="symbol"?e:String(e)}function Fye(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vye(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var p=a[h],g,y=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var b=t*(p.coordinate+t*y()/2-l);a[h]=p=_r(_r({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else a[h]=p=_r(_r({},p),{},{tickCoord:p.coordinate});var _=Um(t,p.tickCoord,y,s,l);_&&(l=p.tickCoord-t*(y()/2+i),a[h]=_r(_r({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function Uye(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var u=n[s-1],f=r(u,s-1),h=t*(u.coordinate+t*f/2-c);o[s-1]=u=_r(_r({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=Um(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),o[s-1]=_r(_r({},u),{},{isShow:!0}))}for(var g=a?s-1:s,y=function(v){var w=o[v],E,T=function(){return E===void 0&&(E=r(w,v)),E};if(v===0){var I=t*(w.coordinate-t*T()/2-l);o[v]=w=_r(_r({},w),{},{tickCoord:I<0?w.coordinate-I*t:w.coordinate})}else o[v]=w=_r(_r({},w),{},{tickCoord:w.coordinate});var S=Um(t,w.tickCoord,T,l,c);S&&(l=w.tickCoord+t*(T()/2+i),o[v]=_r(_r({},w),{},{isShow:!0}))},b=0;b<g;b++)y(b);return o}function yk(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(fe(l)||Wi.isSsr)return Dye(i,typeof l=="number"&&fe(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",g=u&&p==="width"?Ru(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(w,E){var T=Ne(c)?c(w.value,E):w.value;return p==="width"?Rye(Ru(T,{fontSize:e,letterSpacing:r}),g,f):Ru(T,{fontSize:e,letterSpacing:r})[p]},b=i.length>=2?Mr(i[1].coordinate-i[0].coordinate):1,_=jye(a,b,p);return l==="equidistantPreserveStart"?Mye(b,_,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Uye(b,_,y,i,o,l==="preserveStartEnd"):h=Vye(b,_,y,i,o),h.filter(function(v){return v.isShow}))}var Bye=["viewBox"],zye=["viewBox"],Wye=["ticks"];function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},al.apply(this,arguments)}function qI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(r),!0).forEach(function(n){vk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jv(t,e){if(t==null)return{};var r=qye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qye(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Hye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WL(n.key),n)}}function Kye(t,e,r){return e&&HI(t.prototype,e),r&&HI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gye(t,e,r){return e=Bm(e),Xye(t,zL()?Reflect.construct(e,r||[],Bm(t).constructor):e.apply(t,r))}function Xye(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yye(t)}function Yye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zL=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(t)}function Qye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fw(t,e)}function vk(t,e,r){return e=WL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WL(t){var e=Jye(t,"string");return Xl(e)=="symbol"?e:String(e)}function Jye(t,e){if(Xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wc=function(t){Qye(e,t);function e(r){var n;return Hye(this,e),n=Gye(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Kye(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Jv(n,Bye),s=this.props,l=s.viewBox,c=Jv(s,zye);return!yl(a,l)||!yl(o,c)||!yl(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,y,b,_,v,w=f?-1:1,E=n.tickSize||u,T=fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,b=o+ +!f*l,y=b-w*E,v=y-w*h,_=T;break;case"left":y=b=n.coordinate,g=a+ +!f*s,p=g-w*E,_=p-w*h,v=T;break;case"right":y=b=n.coordinate,g=a+ +f*s,p=g+w*E,_=p+w*h,v=T;break;default:p=g=n.coordinate,b=o+ +f*l,y=b+w*E,v=y+w*h,_=T;break}return{line:{x1:p,y1:y,x2:g,y2:b},tick:{x:_,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Nr(Nr(Nr({},Pe(this.props,!1)),Pe(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Nr(Nr({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Nr(Nr({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return $.createElement("line",al({},f,{className:Me("recharts-cartesian-axis-line",cn(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,p=yk(Nr(Nr({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=Pe(this.props,!1),_=Pe(u,!1),v=Nr(Nr({},b),{},{fill:"none"},Pe(l,!1)),w=p.map(function(E,T){var I=o.getTickLineCoord(E),S=I.line,k=I.tick,P=Nr(Nr(Nr(Nr({textAnchor:g,verticalAnchor:y},b),{},{stroke:"none",fill:c},_),k),{},{index:T,payload:E,visibleTicksCount:p.length,tickFormatter:f});return $.createElement(rt,al({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},os(o.props,E,T)),l&&$.createElement("line",al({},v,S,{className:Me("recharts-cartesian-axis-tick-line",cn(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(Ne(f)?f(E.value,T):E.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=Jv(f,Wye),g=h;return Ne(l)&&(g=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!g||!g.length?null:$.createElement(rt,{className:Me("recharts-cartesian-axis",c),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):Ne(n)?o=n(i):o=$.createElement(ss,al({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}]),e}(D.Component);vk(wc,"displayName","CartesianAxis");vk(wc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Zye=["x1","y1","x2","y2","key"],eve=["offset"];function us(t){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(t)}function KI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(r),!0).forEach(function(n){tve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tve(t,e,r){return e=rve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rve(t){var e=nve(t,"string");return us(e)=="symbol"?e:String(e)}function nve(t,e){if(us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vo.apply(this,arguments)}function GI(t,e){if(t==null)return{};var r=ive(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ive(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var ave=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height;return $.createElement("rect",{x:i,y:a,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function qL(t,e){var r;if($.isValidElement(t))r=$.cloneElement(t,e);else if(Ne(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=GI(e,Zye),c=Pe(l,!1);c.offset;var u=GI(c,eve);r=$.createElement("line",Vo({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function ove(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Ar(Ar({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return qL(i,c)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function sve(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Ar(Ar({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return qL(i,c)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function lve(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],y=g?i+o-h:u[p+1]-h;if(y<=0)return null;var b=p%e.length;return $.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function cve(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],y=g?a+s-h:u[p+1]-h;if(y<=0)return null;var b=p%n.length;return $.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:y,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var uve=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return Y$(yk(Ar(Ar(Ar({},wc.defaultProps),n),{},{ticks:Fi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},fve=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return Y$(yk(Ar(Ar(Ar({},wc.defaultProps),n),{},{ticks:Fi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Ms={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function HL(t){var e,r,n,i,a,o,s=pk(),l=mk(),c=pye(),u=Ar(Ar({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ms.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ms.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ms.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ms.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ms.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ms.verticalFill,x:fe(t.x)?t.x:c.left,y:fe(t.y)?t.y:c.top,width:fe(t.width)?t.width:c.width,height:fe(t.height)?t.height:c.height}),f=u.x,h=u.y,p=u.width,g=u.height,y=u.syncWithTicks,b=u.horizontalValues,_=u.verticalValues,v=fye(),w=dye();if(!fe(p)||p<=0||!fe(g)||g<=0||!fe(f)||f!==+f||!fe(h)||h!==+h)return null;var E=u.verticalCoordinatesGenerator||uve,T=u.horizontalCoordinatesGenerator||fve,I=u.horizontalPoints,S=u.verticalPoints;if((!I||!I.length)&&Ne(T)){var k=b&&b.length,P=T({yAxis:w?Ar(Ar({},w),{},{ticks:k?b:w.ticks}):void 0,width:s,height:l,offset:c},k?!0:y);zn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(us(P),"]")),Array.isArray(P)&&(I=P)}if((!S||!S.length)&&Ne(E)){var O=_&&_.length,R=E({xAxis:v?Ar(Ar({},v),{},{ticks:O?_:v.ticks}):void 0,width:s,height:l,offset:c},O?!0:y);zn(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(us(R),"]")),Array.isArray(R)&&(S=R)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(ave,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height}),$.createElement(ove,Vo({},u,{offset:c,horizontalPoints:I,xAxis:v,yAxis:w})),$.createElement(sve,Vo({},u,{offset:c,verticalPoints:S,xAxis:v,yAxis:w})),$.createElement(lve,Vo({},u,{horizontalPoints:I})),$.createElement(cve,Vo({},u,{verticalPoints:S})))}HL.displayName="CartesianGrid";function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vw.apply(this,arguments)}var by=function(e){var r=e.xAxisId,n=pk(),i=mk(),a=VL(r);return a==null?null:$.createElement(wc,Vw({},a,{className:Me("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Fi(s,!0)}}))};by.displayName="XAxis";by.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uw.apply(this,arguments)}var wy=function(e){var r=e.yAxisId,n=pk(),i=mk(),a=UL(r);return a==null?null:$.createElement(wc,Uw({},a,{className:Me("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Fi(s,!0)}}))};wy.displayName="YAxis";wy.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function XI(t){return mve(t)||pve(t)||hve(t)||dve()}function dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hve(t,e){if(t){if(typeof t=="string")return Bw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bw(t,e)}}function pve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mve(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var zw=function(e,r,n,i,a){var o=An(e,gk),s=An(e,Od),l=[].concat(XI(o),XI(s)),c=An(e,Cd),u="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(y,b){if(b.props[u]===n&&pi(b.props,"extendDomain")&&fe(b.props[f])){var _=b.props[f];return[Math.min(y[0],_),Math.max(y[1],_)]}return y},h)),c.length){var p="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(y,b){if(b.props[u]===n&&pi(b.props,"extendDomain")&&fe(b.props[p])&&fe(b.props[g])){var _=b.props[p],v=b.props[g];return[Math.min(y[0],_,v),Math.max(y[1],_,v)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,b){return fe(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},KL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,g){var y=r?r+c:c;if(!this._events[y])return!1;var b=this._events[y],_=arguments.length,v,w;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,h),!0;case 5:return b.fn.call(b.context,u,f,h,p),!0;case 6:return b.fn.call(b.context,u,f,h,p,g),!0}for(w=1,v=new Array(_-1);w<_;w++)v[w-1]=arguments[w];b.fn.apply(b.context,v)}else{var E=b.length,T;for(w=0;w<E;w++)switch(b[w].once&&this.removeListener(c,b[w].fn,void 0,!0),_){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,u);break;case 3:b[w].fn.call(b[w].context,u,f);break;case 4:b[w].fn.call(b[w].context,u,f,h);break;default:if(!v)for(T=1,v=new Array(_-1);T<_;T++)v[T-1]=arguments[T];b[w].fn.apply(b[w].context,v)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var y=0,b=[],_=g.length;y<_;y++)(g[y].fn!==u||h&&!g[y].once||f&&g[y].context!==f)&&b.push(g[y]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(KL);var gve=KL.exports;const yve=it(gve);var Zv=new yve,e0="recharts.syncMouseEvents";function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function vve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GL(n.key),n)}}function wve(t,e,r){return e&&bve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t0(t,e,r){return e=GL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GL(t){var e=xve(t,"string");return Zf(e)=="symbol"?e:String(e)}function xve(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ve=function(){function t(){vve(this,t),t0(this,"activeIndex",0),t0(this,"coordinateList",[]),t0(this,"layout","horizontal")}return wve(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}]),t}();function kve(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&fe(n)&&fe(i))return!0}return!1}function Eve(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function XL(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=ht(e,r,n,i),s=ht(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Sve(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=ht(s,l,c,f),p=ht(s,l,u,f);n=h.x,i=h.y,a=p.x,o=p.y}else return XL(e);return[{x:n,y:i},{x:a,y:o}]}function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function YI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ch(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(r),!0).forEach(function(n){Tve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tve(t,e,r){return e=Ave(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ave(t){var e=Pve(t,"string");return ed(e)=="symbol"?e:String(e)}function Pve(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ive(t){var e=t.element,r=t.tooltipEventType,n=t.isActive,i=t.activeCoordinate,a=t.activePayload,o=t.offset,s=t.activeTooltipIndex,l=t.tooltipAxisBandSize,c=t.layout,u=t.chartName;if(!e||!e.props.cursor||!n||!i||u!=="ScatterChart"&&r!=="axis")return null;var f,h=yw;if(u==="ScatterChart")f=i,h=zhe;else if(u==="BarChart")f=Eve(c,i,o,l),h=ck;else if(c==="radial"){var p=XL(i),g=p.cx,y=p.cy,b=p.radius,_=p.startAngle,v=p.endAngle;f={cx:g,cy:y,startAngle:_,endAngle:v,innerRadius:b,outerRadius:b},h=sL}else f={points:Sve(c,i,o)},h=yw;var w=Ch(Ch(Ch(Ch({stroke:"#ccc",pointerEvents:"none"},o),f),Pe(e.props.cursor,!1)),{},{payload:a,payloadIndex:s,className:Me("recharts-tooltip-cursor",e.props.cursor.className)});return D.isValidElement(e.props.cursor)?D.cloneElement(e.props.cursor,w):D.createElement(h,w)}var Ove=["item"],Cve=["children","className","width","height","style","compact","title","desc"];function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fu.apply(this,arguments)}function QI(t,e){return jve(t)||Rve(t,e)||QL(t,e)||Nve()}function Nve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function jve(t){if(Array.isArray(t))return t}function JI(t,e){if(t==null)return{};var r=Dve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dve(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Mve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JL(n.key),n)}}function Lve(t,e,r){return e&&$ve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fve(t,e,r){return e=zm(e),Vve(t,YL()?Reflect.construct(e,r||[],zm(t).constructor):e.apply(t,r))}function Vve(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(t)}function YL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YL=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(t)}function He(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ww(t,e)}function Ql(t){return Wve(t)||zve(t)||QL(t)||Bve()}function Bve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QL(t,e){if(t){if(typeof t=="string")return qw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qw(t,e)}}function zve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wve(t){if(Array.isArray(t))return qw(t)}function qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(r),!0).forEach(function(n){Te(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Te(t,e,r){return e=JL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JL(t){var e=qve(t,"string");return Yl(e)=="symbol"?e:String(e)}function qve(t,e){if(Yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hve={xAxis:["bottom","top"],yAxis:["left","right"]},Kve={width:"100%",height:"100%"},ZL={x:0,y:0};function Nh(t){return t}var Gve=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Xve=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Z(Z(Z({},i),ht(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return Z(Z(Z({},i),ht(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return ZL},xy=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Ql(s),Ql(c)):s},[]);return o.length>0?o:e&&e.length&&fe(i)&&fe(a)?e.slice(i,a+1):[]};function e4(t){return t==="number"?[0,"auto"]:void 0}var Hw=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=xy(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Sb(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(Ql(l),[tL(c,h)]):l},[])},eO=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=Gve(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Pue(o,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=Hw(e,r,u,f),p=Xve(n,s,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Yve=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=X$(u,a);return n.reduce(function(g,y){var b,_=y.props,v=_.type,w=_.dataKey,E=_.allowDataOverflow,T=_.allowDuplicatedCategory,I=_.scale,S=_.ticks,k=_.includeHidden,P=y.props[o];if(g[P])return g;var O=xy(e.data,{graphicalItems:i.filter(function(te){return te.props[o]===P}),dataStartIndex:l,dataEndIndex:c}),R=O.length,N,C,L;kve(y.props.domain,E,v)&&(N=dw(y.props.domain,null,E),p&&(v==="number"||I!=="auto")&&(L=Du(O,w,"category")));var z=e4(v);if(!N||N.length===0){var B,X=(B=y.props.domain)!==null&&B!==void 0?B:z;if(w){if(N=Du(O,w,v),v==="category"&&p){var F=IX(N);T&&F?(C=N,N=Mm(0,R)):T||(N=SP(X,N,y).reduce(function(te,he){return te.indexOf(he)>=0?te:[].concat(Ql(te),[he])},[]))}else if(v==="category")T?N=N.filter(function(te){return te!==""&&!Le(te)}):N=SP(X,N,y).reduce(function(te,he){return te.indexOf(he)>=0||he===""||Le(he)?te:[].concat(Ql(te),[he])},[]);else if(v==="number"){var Y=Rue(O,i.filter(function(te){return te.props[o]===P&&(k||!te.props.hide)}),w,a,u);Y&&(N=Y)}p&&(v==="number"||I!=="auto")&&(L=Du(O,w,"category"))}else p?N=Mm(0,R):s&&s[P]&&s[P].hasStack&&v==="number"?N=h==="expand"?[0,1]:eL(s[P].stackGroups,l,c):N=G$(O,i.filter(function(te){return te.props[o]===P&&(k||!te.props.hide)}),v,u,!0);if(v==="number")N=zw(f,N,P,a,S),X&&(N=dw(X,N,E));else if(v==="category"&&X){var re=X,de=N.every(function(te){return re.indexOf(te)>=0});de&&(N=re)}}return Z(Z({},g),{},Te({},P,Z(Z({},y.props),{},{axisType:a,domain:N,categoricalDomain:L,duplicateDomain:C,originalDomain:(b=y.props.domain)!==null&&b!==void 0?b:z,isCategorical:p,layout:u})))},{})},Qve=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=xy(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=X$(u,a),y=-1;return n.reduce(function(b,_){var v=_.props[o],w=e4("number");if(!b[v]){y++;var E;return g?E=Mm(0,p):s&&s[v]&&s[v].hasStack?(E=eL(s[v].stackGroups,l,c),E=zw(f,E,v,a)):(E=dw(w,G$(h,n.filter(function(T){return T.props[o]===v&&!T.props.hide}),"number",u),i.defaultProps.allowDataOverflow),E=zw(f,E,v,a)),Z(Z({},b),{},Te({},v,Z(Z({axisType:a},i.defaultProps),{},{hide:!0,orientation:cn(Hve,"".concat(a,".").concat(y%2),null),domain:E,originalDomain:w,isCategorical:g,layout:u})))}return b},{})},Jve=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=An(u,a),p={};return h&&h.length?p=Yve(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=Qve(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},Zve=function(e){var r=Oa(e),n=Fi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:D1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Em(r,n)}},tO=function(e){var r=e.children,n=e.defaultShowTooltip,i=nn(r,Kl),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},e0e=function(e){return!e||!e.length?!1:e.some(function(r){var n=zi(r&&r.type);return n&&n.indexOf("Bar")>=0})},rO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},t0e=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=nn(f,Kl),g=nn(f,vf),y=Object.keys(l).reduce(function(T,I){var S=l[I],k=S.orientation;return!S.mirror&&!S.hide?Z(Z({},T),{},Te({},k,T[k]+S.width)):T},{left:h.left||0,right:h.right||0}),b=Object.keys(o).reduce(function(T,I){var S=o[I],k=S.orientation;return!S.mirror&&!S.hide?Z(Z({},T),{},Te({},k,cn(T,"".concat(k))+S.height)):T},{top:h.top||0,bottom:h.bottom||0}),_=Z(Z({},b),y),v=_.bottom;p&&(_.bottom+=p.props.height||Kl.defaultProps.height),g&&r&&(_=Cue(_,i,n,r));var w=c-_.left-_.right,E=u-_.top-_.bottom;return Z(Z({brushBottom:v},_),{},{width:Math.max(w,0),height:Math.max(E,0)})},r0e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},t4=function(e){var r,n=e.chartName,i=e.GraphicalChild,a=e.defaultTooltipEventType,o=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(b,_){var v=_.graphicalItems,w=_.stackGroups,E=_.offset,T=_.updateId,I=_.dataStartIndex,S=_.dataEndIndex,k=b.barSize,P=b.layout,O=b.barGap,R=b.barCategoryGap,N=b.maxBarSize,C=rO(P),L=C.numericAxisName,z=C.cateAxisName,B=e0e(v),X=[];return v.forEach(function(F,Y){var re=xy(b.data,{graphicalItems:[F],dataStartIndex:I,dataEndIndex:S}),de=F.props,te=de.dataKey,he=de.maxBarSize,Ee=F.props["".concat(L,"Id")],je=F.props["".concat(z,"Id")],Q={},ne=c.reduce(function(q,ue){var ce=_["".concat(ue.axisType,"Map")],ae=F.props["".concat(ue.axisType,"Id")];ce&&ce[ae]||ue.axisType==="zAxis"||cs();var be=ce[ae];return Z(Z({},q),{},Te(Te({},ue.axisType,be),"".concat(ue.axisType,"Ticks"),Fi(be)))},Q),J=ne[z],H=ne["".concat(z,"Ticks")],oe=w&&w[Ee]&&w[Ee].hasStack&&Bue(F,w[Ee].stackGroups),le=zi(F.type).indexOf("Bar")>=0,K=Em(J,H),Se=[],xe=B&&Iue({barSize:k,stackGroups:w,totalSize:r0e(ne,z)});if(le){var We,Xe,Jt=Le(he)?N:he,M=(We=(Xe=Em(J,H,!0))!==null&&Xe!==void 0?Xe:Jt)!==null&&We!==void 0?We:0;Se=Oue({barGap:O,barCategoryGap:R,bandSize:M!==K?M:K,sizeList:xe[je],maxBarSize:Jt}),M!==K&&(Se=Se.map(function(q){return Z(Z({},q),{},{position:Z(Z({},q.position),{},{offset:q.position.offset-M/2})})}))}var U=F&&F.type&&F.type.getComposedData;U&&X.push({props:Z(Z({},U(Z(Z({},ne),{},{displayedData:re,props:b,dataKey:te,item:F,bandSize:K,barPosition:Se,offset:E,stackedData:oe,layout:P,dataStartIndex:I,dataEndIndex:S}))),{},Te(Te(Te({key:F.key||"item-".concat(Y)},L,ne[L]),z,ne[z]),"animationId",T)),childIndex:VX(F,b.children),item:F})}),X},g=function(b,_){var v=b.props,w=b.dataStartIndex,E=b.dataEndIndex,T=b.updateId;if(!bA({props:v}))return null;var I=v.children,S=v.layout,k=v.stackOffset,P=v.data,O=v.reverseStackOrder,R=rO(S),N=R.numericAxisName,C=R.cateAxisName,L=An(I,i),z=Vue(P,L,"".concat(N,"Id"),"".concat(C,"Id"),k,O),B=c.reduce(function(de,te){var he="".concat(te.axisType,"Map");return Z(Z({},de),{},Te({},he,Jve(v,Z(Z({},te),{},{graphicalItems:L,stackGroups:te.axisType===N&&z,dataStartIndex:w,dataEndIndex:E}))))},{}),X=t0e(Z(Z({},B),{},{props:v,graphicalItems:L}),_==null?void 0:_.legendBBox);Object.keys(B).forEach(function(de){B[de]=f(v,B[de],X,de.replace("Map",""),n)});var F=B["".concat(C,"Map")],Y=Zve(F),re=p(v,Z(Z({},B),{},{dataStartIndex:w,dataEndIndex:E,updateId:T,graphicalItems:L,stackGroups:z,offset:X}));return Z(Z({formattedGraphicalItems:re,graphicalItems:L,offset:X,stackGroups:z},Y),B)};return r=function(y){Uve(b,y);function b(_){var v,w,E;return Mve(this,b),E=Fve(this,b,[_]),Te(He(E),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(He(E),"accessibilityManager",new _ve),Te(He(E),"handleLegendBBoxUpdate",function(T){if(T){var I=E.state,S=I.dataStartIndex,k=I.dataEndIndex,P=I.updateId;E.setState(Z({legendBBox:T},g({props:E.props,dataStartIndex:S,dataEndIndex:k,updateId:P},Z(Z({},E.state),{},{legendBBox:T}))))}}),Te(He(E),"handleReceiveSyncEvent",function(T,I,S){if(E.props.syncId===T){if(S===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(I)}}),Te(He(E),"handleBrushChange",function(T){var I=T.startIndex,S=T.endIndex;if(I!==E.state.dataStartIndex||S!==E.state.dataEndIndex){var k=E.state.updateId;E.setState(function(){return Z({dataStartIndex:I,dataEndIndex:S},g({props:E.props,dataStartIndex:I,dataEndIndex:S,updateId:k},E.state))}),E.triggerSyncEvent({dataStartIndex:I,dataEndIndex:S})}}),Te(He(E),"handleMouseEnter",function(T){var I=E.getMouseInfo(T);if(I){var S=Z(Z({},I),{},{isTooltipActive:!0});E.setState(S),E.triggerSyncEvent(S);var k=E.props.onMouseEnter;Ne(k)&&k(S,T)}}),Te(He(E),"triggeredAfterMouseMove",function(T){var I=E.getMouseInfo(T),S=I?Z(Z({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var k=E.props.onMouseMove;Ne(k)&&k(S,T)}),Te(He(E),"handleItemMouseEnter",function(T){E.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Te(He(E),"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Te(He(E),"handleMouseMove",function(T){T.persist(),E.throttleTriggeredAfterMouseMove(T)}),Te(He(E),"handleMouseLeave",function(T){E.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var S=E.props.onMouseLeave;Ne(S)&&S(I,T)}),Te(He(E),"handleOuterEvent",function(T){var I=FX(T),S=cn(E.props,"".concat(I));if(I&&Ne(S)){var k,P;/.*touch.*/i.test(I)?P=E.getMouseInfo(T.changedTouches[0]):P=E.getMouseInfo(T),S((k=P)!==null&&k!==void 0?k:{},T)}}),Te(He(E),"handleClick",function(T){var I=E.getMouseInfo(T);if(I){var S=Z(Z({},I),{},{isTooltipActive:!0});E.setState(S),E.triggerSyncEvent(S);var k=E.props.onClick;Ne(k)&&k(S,T)}}),Te(He(E),"handleMouseDown",function(T){var I=E.props.onMouseDown;if(Ne(I)){var S=E.getMouseInfo(T);I(S,T)}}),Te(He(E),"handleMouseUp",function(T){var I=E.props.onMouseUp;if(Ne(I)){var S=E.getMouseInfo(T);I(S,T)}}),Te(He(E),"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Te(He(E),"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.handleMouseDown(T.changedTouches[0])}),Te(He(E),"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.handleMouseUp(T.changedTouches[0])}),Te(He(E),"triggerSyncEvent",function(T){E.props.syncId!==void 0&&Zv.emit(e0,E.props.syncId,T,E.eventEmitterSymbol)}),Te(He(E),"applySyncEvent",function(T){var I=E.props,S=I.layout,k=I.syncMethod,P=E.state.updateId,O=T.dataStartIndex,R=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)E.setState(Z({dataStartIndex:O,dataEndIndex:R},g({props:E.props,dataStartIndex:O,dataEndIndex:R,updateId:P},E.state)));else if(T.activeTooltipIndex!==void 0){var N=T.chartX,C=T.chartY,L=T.activeTooltipIndex,z=E.state,B=z.offset,X=z.tooltipTicks;if(!B)return;if(typeof k=="function")L=k(X,T);else if(k==="value"){L=-1;for(var F=0;F<X.length;F++)if(X[F].value===T.activeLabel){L=F;break}}var Y=Z(Z({},B),{},{x:B.left,y:B.top}),re=Math.min(N,Y.x+Y.width),de=Math.min(C,Y.y+Y.height),te=X[L]&&X[L].value,he=Hw(E.state,E.props.data,L),Ee=X[L]?{x:S==="horizontal"?X[L].coordinate:re,y:S==="horizontal"?de:X[L].coordinate}:ZL;E.setState(Z(Z({},T),{},{activeLabel:te,activeCoordinate:Ee,activePayload:he,activeTooltipIndex:L}))}else E.setState(T)}),Te(He(E),"renderCursor",function(T){var I,S=E.state,k=S.isTooltipActive,P=S.activeCoordinate,O=S.activePayload,R=S.offset,N=S.activeTooltipIndex,C=S.tooltipAxisBandSize,L=E.getTooltipEventType(),z=(I=T.props.active)!==null&&I!==void 0?I:k,B=E.props.layout,X=T.key||"_recharts-cursor";return $.createElement(Ive,{key:X,activeCoordinate:P,activePayload:O,activeTooltipIndex:N,chartName:n,element:T,isActive:z,layout:B,offset:R,tooltipAxisBandSize:C,tooltipEventType:L})}),Te(He(E),"renderPolarAxis",function(T,I,S){var k=cn(T,"type.axisType"),P=cn(E.state,"".concat(k,"Map")),O=P&&P[T.props["".concat(k,"Id")]];return D.cloneElement(T,Z(Z({},O),{},{className:Me(k,O.className),key:T.key||"".concat(I,"-").concat(S),ticks:Fi(O,!0)}))}),Te(He(E),"renderPolarGrid",function(T){var I=T.props,S=I.radialLines,k=I.polarAngles,P=I.polarRadius,O=E.state,R=O.radiusAxisMap,N=O.angleAxisMap,C=Oa(R),L=Oa(N),z=L.cx,B=L.cy,X=L.innerRadius,F=L.outerRadius;return D.cloneElement(T,{polarAngles:Array.isArray(k)?k:Fi(L,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(P)?P:Fi(C,!0).map(function(Y){return Y.coordinate}),cx:z,cy:B,innerRadius:X,outerRadius:F,key:T.key||"polar-grid",radialLines:S})}),Te(He(E),"renderLegend",function(){var T=E.state.formattedGraphicalItems,I=E.props,S=I.children,k=I.width,P=I.height,O=E.props.margin||{},R=k-(O.left||0)-(O.right||0),N=H$({children:S,formattedGraphicalItems:T,legendWidth:R,legendContent:u});if(!N)return null;var C=N.item,L=JI(N,Ove);return D.cloneElement(C,Z(Z({},L),{},{chartWidth:k,chartHeight:P,margin:O,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Te(He(E),"renderTooltip",function(){var T,I=E.props,S=I.children,k=I.accessibilityLayer,P=nn(S,ei);if(!P)return null;var O=E.state,R=O.isTooltipActive,N=O.activeCoordinate,C=O.activePayload,L=O.activeLabel,z=O.offset,B=(T=P.props.active)!==null&&T!==void 0?T:R;return D.cloneElement(P,{viewBox:Z(Z({},z),{},{x:z.left,y:z.top}),active:B,label:L,payload:B?C:[],coordinate:N,accessibilityLayer:k})}),Te(He(E),"renderBrush",function(T){var I=E.props,S=I.margin,k=I.data,P=E.state,O=P.offset,R=P.dataStartIndex,N=P.dataEndIndex,C=P.updateId;return D.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Ah(E.handleBrushChange,T.props.onChange),data:k,x:fe(T.props.x)?T.props.x:O.left,y:fe(T.props.y)?T.props.y:O.top+O.height+O.brushBottom-(S.bottom||0),width:fe(T.props.width)?T.props.width:O.width,startIndex:R,endIndex:N,updateId:"brush-".concat(C)})}),Te(He(E),"renderReferenceElement",function(T,I,S){if(!T)return null;var k=He(E),P=k.clipPathId,O=E.state,R=O.xAxisMap,N=O.yAxisMap,C=O.offset,L=T.props,z=L.xAxisId,B=L.yAxisId;return D.cloneElement(T,{key:T.key||"".concat(I,"-").concat(S),xAxis:R[z],yAxis:N[B],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:P})}),Te(He(E),"renderActivePoints",function(T){var I=T.item,S=T.activePoint,k=T.basePoint,P=T.childIndex,O=T.isRange,R=[],N=I.props.key,C=I.item.props,L=C.activeDot,z=C.dataKey,B=Z(Z({index:P,dataKey:z,cx:S.x,cy:S.y,r:4,fill:lk(I.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value,key:"".concat(N,"-activePoint-").concat(P)},Pe(L,!1)),Jp(L));return R.push(b.renderActiveDot(L,B)),k?R.push(b.renderActiveDot(L,Z(Z({},B),{},{cx:k.x,cy:k.y,key:"".concat(N,"-basePoint-").concat(P)}))):O&&R.push(null),R}),Te(He(E),"renderGraphicChild",function(T,I,S){var k=E.filterFormatItem(T,I,S);if(!k)return null;var P=E.getTooltipEventType(),O=E.state,R=O.isTooltipActive,N=O.tooltipAxis,C=O.activeTooltipIndex,L=O.activeLabel,z=E.props.children,B=nn(z,ei),X=k.props,F=X.points,Y=X.isRange,re=X.baseLine,de=k.item.props,te=de.activeDot,he=de.hide,Ee=de.activeBar,je=de.activeShape,Q=!!(!he&&R&&B&&(te||Ee||je)),ne={};P!=="axis"&&B&&B.props.trigger==="click"?ne={onClick:Ah(E.handleItemMouseEnter,T.props.onClick)}:P!=="axis"&&(ne={onMouseLeave:Ah(E.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Ah(E.handleItemMouseEnter,T.props.onMouseEnter)});var J=D.cloneElement(T,Z(Z({},k.props),ne));function H(ue){return typeof N.dataKey=="function"?N.dataKey(ue.payload):null}if(Q)if(C>=0){var oe,le;if(N.dataKey&&!N.allowDuplicatedCategory){var K=typeof N.dataKey=="function"?H:"payload.".concat(N.dataKey.toString());oe=Sb(F,K,L),le=Y&&re&&Sb(re,K,L)}else oe=F==null?void 0:F[C],le=Y&&re&&re[C];if(je||Ee){var Se=T.props.activeIndex!==void 0?T.props.activeIndex:C;return[D.cloneElement(T,Z(Z(Z({},k.props),ne),{},{activeIndex:Se})),null,null]}if(!Le(oe))return[J].concat(Ql(E.renderActivePoints({item:k,activePoint:oe,basePoint:le,childIndex:C,isRange:Y})))}else{var xe,We=(xe=E.getItemByXY(E.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:J},Xe=We.graphicalItem,Jt=Xe.item,M=Jt===void 0?T:Jt,U=Xe.childIndex,q=Z(Z(Z({},k.props),ne),{},{activeIndex:U});return[D.cloneElement(M,q),null,null]}return Y?[J,null,null]:[J,null]}),Te(He(E),"renderCustomized",function(T,I,S){return D.cloneElement(T,Z(Z({key:"recharts-customized-".concat(S)},E.props),E.state))}),Te(He(E),"renderMap",{CartesianGrid:{handler:Nh,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Nh},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Nh},YAxis:{handler:Nh},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((v=_.id)!==null&&v!==void 0?v:kd("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=GM(E.triggeredAfterMouseMove,(w=_.throttleDelay)!==null&&w!==void 0?w:1e3/60),E.state={},E}return Lve(b,[{key:"componentDidMount",value:function(){var v,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,w=v.children,E=v.data,T=v.height,I=v.layout,S=nn(w,ei);if(S){var k=S.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length)){var P=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=Hw(this.state,E,k,P),R=this.state.tooltipTicks[k].coordinate,N=(this.state.offset.top+T)/2,C=I==="horizontal",L=C?{x:R,y:N}:{y:R,x:N},z=this.state.formattedGraphicalItems.find(function(X){var F=X.item;return F.type.name==="Scatter"});z&&(L=Z(Z({},L),z.props.points[k].tooltipPosition),O=z.props.points[k].tooltipPayload);var B={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:P,activePayload:O,activeCoordinate:L};this.setState(B),this.renderCursor(S),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var E,T;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(v){Ab([nn(v.children,ei)],[nn(this.props.children,ei)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=nn(this.props.children,ei);if(v&&typeof v.props.shared=="boolean"){var w=v.props.shared?"axis":"item";return l.indexOf(w)>=0?w:o}return o}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var w=this.container,E=w.getBoundingClientRect(),T=uoe(E),I={chartX:Math.round(v.pageX-T.left),chartY:Math.round(v.pageY-T.top)},S=E.width/w.offsetWidth||1,k=this.inRange(I.chartX,I.chartY,S);if(!k)return null;var P=this.state,O=P.xAxisMap,R=P.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&O&&R){var C=Oa(O).scale,L=Oa(R).scale,z=C&&C.invert?C.invert(I.chartX):null,B=L&&L.invert?L.invert(I.chartY):null;return Z(Z({},I),{},{xValue:z,yValue:B})}var X=eO(this.state,this.props.data,this.props.layout,k);return X?Z(Z({},I),X):null}},{key:"inRange",value:function(v,w){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,I=v/E,S=w/E;if(T==="horizontal"||T==="vertical"){var k=this.state.offset,P=I>=k.left&&I<=k.left+k.width&&S>=k.top&&S<=k.top+k.height;return P?{x:I,y:S}:null}var O=this.state,R=O.angleAxisMap,N=O.radiusAxisMap;if(R&&N){var C=Oa(R);return PP({x:I,y:S},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,w=this.getTooltipEventType(),E=nn(v,ei),T={};E&&w==="axis"&&(E.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var I=Jp(this.props,this.handleOuterEvent);return Z(Z({},I),T)}},{key:"addListener",value:function(){Zv.on(e0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Zv.removeListener(e0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,w,E){for(var T=this.state.formattedGraphicalItems,I=0,S=T.length;I<S;I++){var k=T[I];if(k.item===v||k.props.key===v.key||w===zi(k.item.type)&&E===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,w=this.state.offset,E=w.left,T=w.top,I=w.height,S=w.width;return $.createElement("defs",null,$.createElement("clipPath",{id:v},$.createElement("rect",{x:E,y:T,height:I,width:S})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(w,E){var T=QI(E,2),I=T[0],S=T[1];return Z(Z({},w),{},Te({},I,S.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(w,E){var T=QI(E,2),I=T[0],S=T[1];return Z(Z({},w),{},Te({},I,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[v])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(v){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[v])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(v){var w=this.state,E=w.formattedGraphicalItems,T=w.activeItem;if(E&&E.length)for(var I=0,S=E.length;I<S;I++){var k=E[I],P=k.props,O=k.item,R=zi(O.type);if(R==="Bar"){var N=(P.data||[]).find(function(B){return khe(v,B)});if(N)return{graphicalItem:k,payload:N}}else if(R==="RadialBar"){var C=(P.data||[]).find(function(B){return PP(v,B)});if(C)return{graphicalItem:k,payload:C}}else if(gy(k,T)||yy(k,T)||qf(k,T)){var L=fme({graphicalItem:k,activeTooltipItem:T,itemData:O.props.data}),z=O.props.activeIndex===void 0?L:O.props.activeIndex;return{graphicalItem:Z(Z({},k),{},{childIndex:z}),payload:qf(k,T)?O.props.data[L]:k.props.data[L]}}}return null}},{key:"render",value:function(){var v=this;if(!bA(this))return null;var w=this.props,E=w.children,T=w.className,I=w.width,S=w.height,k=w.style,P=w.compact,O=w.title,R=w.desc,N=JI(w,Cve),C=Pe(N,!1);if(P)return $.createElement(MI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(Ib,Fu({},C,{width:I,height:S,title:O,desc:R}),this.renderClipPath(),xA(E,this.renderMap)));if(this.props.accessibilityLayer){var L,z;C.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,C.role=(z=this.props.role)!==null&&z!==void 0?z:"application",C.onKeyDown=function(X){v.accessibilityManager.keyboardEvent(X)},C.onFocus=function(){v.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return $.createElement(MI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Fu({className:Me("recharts-wrapper",T),style:Z({position:"relative",cursor:"default",width:I,height:S},k)},B,{ref:function(F){v.container=F}}),$.createElement(Ib,Fu({},C,{width:I,height:S,title:O,desc:R,style:Kve}),this.renderClipPath(),xA(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),b}(D.Component),Te(r,"displayName",n),Te(r,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Te(r,"getDerivedStateFromProps",function(y,b){var _=y.dataKey,v=y.data,w=y.children,E=y.width,T=y.height,I=y.layout,S=y.stackOffset,k=y.margin,P=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var R=tO(y);return Z(Z(Z({},R),{},{updateId:0},g(Z(Z({props:y},R),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:v,prevWidth:E,prevHeight:T,prevLayout:I,prevStackOffset:S,prevMargin:k,prevChildren:w})}if(_!==b.prevDataKey||v!==b.prevData||E!==b.prevWidth||T!==b.prevHeight||I!==b.prevLayout||S!==b.prevStackOffset||!yl(k,b.prevMargin)){var N=tO(y),C={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},L=Z(Z({},eO(b,v,I)),{},{updateId:b.updateId+1}),z=Z(Z(Z({},N),C),L);return Z(Z(Z({},z),g(Z({props:y},z),b)),{},{prevDataKey:_,prevData:v,prevWidth:E,prevHeight:T,prevLayout:I,prevStackOffset:S,prevMargin:k,prevChildren:w})}if(!Ab(w,b.prevChildren)){var B,X,F,Y,re=nn(w,Kl),de=re&&(B=(X=re.props)===null||X===void 0?void 0:X.startIndex)!==null&&B!==void 0?B:P,te=re&&(F=(Y=re.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&F!==void 0?F:O,he=de!==P||te!==O,Ee=!Le(v),je=Ee&&!he?b.updateId:b.updateId+1;return Z(Z({updateId:je},g(Z(Z({props:y},b),{},{updateId:je,dataStartIndex:de,dataEndIndex:te}),b)),{},{prevChildren:w,dataStartIndex:de,dataEndIndex:te})}return null}),Te(r,"renderActiveDot",function(y,b){var _;return D.isValidElement(y)?_=D.cloneElement(y,b):Ne(y)?_=y(b):_=$.createElement(uk,b),$.createElement(rt,{className:"recharts-active-dot",key:b.key},_)}),r},n0e=t4({chartName:"BarChart",GraphicalChild:ks,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:by},{axisType:"yAxis",AxisComp:wy}],formatAxisMap:Vge}),r4=t4({chartName:"PieChart",GraphicalChild:xi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:my},{axisType:"radiusAxis",AxisComp:hy}],formatAxisMap:Jue,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const n4=({data:t})=>{const{isDarkMode:e}=D.useContext(Gn),r={backgroundColor:e?"#333":"#fff",axisColor:e?"#ccc":"#000",gridColor:e?"#888888":"#D1D1D1",tooltipBackgroundColor:e?"#6D6D6D":"#E7E7E7",barColor:"#FFC700"};return m.jsx($1,{width:"100%",height:"100%",children:m.jsxs(n0e,{data:t,margin:{left:-24},children:[m.jsx(HL,{stroke:r.gridColor,strokeDasharray:"5 5"}),m.jsx(by,{dataKey:"name",stroke:r.axisColor}),m.jsx(wy,{stroke:r.axisColor}),m.jsx(ei,{cursor:{fill:r.tooltipBackgroundColor}}),m.jsx(ks,{type:"monotone",dataKey:"存款金額",fill:r.barColor})]})})};n4.propTypes={data:W.array.isRequired};const i4=({categoryData:t,habitCategories:e})=>{const r=Object.keys(t).map(n=>({name:e.find(i=>i.id===parseInt(n)).name,value:t[n]}));return m.jsx($1,{width:"100%",height:"100%",children:m.jsx(r4,{children:m.jsx(xi,{data:r,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:r.map((n,i)=>m.jsx(Sd,{fill:e.find(a=>a.name===n.name).color},`cell-${i}`))})})})};i4.propTypes={categoryData:W.object.isRequired,habitCategories:W.array.isRequired};const a4=({typeData:t,habitType:e})=>{const r=Object.keys(t).map(n=>{const i=e.find(a=>a.id===n);return i?{name:i.name,value:t[n]}:null}).filter(n=>n!==null);return m.jsx($1,{width:"100%",height:"100%",children:m.jsx(r4,{children:m.jsx(xi,{data:r,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:r.map((n,i)=>m.jsx(Sd,{fill:e.find(a=>a.name===n.name).color},`cell-${i}`))})})})};a4.propTypes={typeData:W.object.isRequired,habitType:W.array.isRequired};function i0e(){const[t,e]=D.useState("overview"),[r,n]=D.useState("week"),[i]=D.useState([{value:"week",label:"本週"},{value:"month",label:"本月"},{value:"year",label:"本年"}]),[a,o]=D.useState(0),[s,l]=D.useState(0),[c,u]=D.useState(0),[f,h]=D.useState([]),[p,g]=D.useState({}),[y,b]=D.useState({}),[_,v]=D.useState([]),{user:w}=D.useContext(Gn),E=[{id:0,name:"生產力",color:"#FF6961"},{id:1,name:"個人成長",color:"#FFB480"},{id:2,name:"運動健身",color:"#FFE552"},{id:3,name:"飲食健康",color:"#42D6A4"},{id:4,name:"心靈成長",color:"#08CAD1"},{id:5,name:"手作興趣",color:"#59ADF6"},{id:6,name:"財務管理",color:"#9D94FF"},{id:7,name:"環境生活",color:"#C780E8"}],T=[{id:"to-do",name:"養成",color:"#B2B814"},{id:"not-to-do",name:"戒除",color:"#D14D28"}];D.useEffect(()=>{(async()=>{if(w&&w.uid){const N=await as(w.uid);v(N);const{startOfPeriod:C,endOfPeriod:L}=I(r),{completed:z,savings:B,total:X,chartData:F,categoryData:Y,typeData:re}=S(N,C,L,r);o(z),l(B),u(X),h(F),g(Y),b(re)}})()},[w,r]);const I=R=>{const N=new Date;let C,L;return R==="week"?(C=new Date(N.setDate(N.getDate()-N.getDay())),L=new Date(N.setDate(N.getDate()-N.getDay()+6))):R==="month"?(C=new Date(N.getFullYear(),N.getMonth(),1),L=new Date(N.getFullYear(),N.getMonth()+1,0)):(C=new Date(N.getFullYear(),0,1),L=new Date(N.getFullYear(),11,31)),C.setHours(0,0,0,0),L.setHours(23,59,59,999),{startOfPeriod:C,endOfPeriod:L}},S=(R,N,C,L)=>{let z=0,B=0,X=0,F=[],Y={},re={};const de={};if(L==="week")["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(he=>{de[he]=0});else if(L==="month"){const te=Math.ceil((C.getDate()-N.getDate()+1)/7);for(let he=1;he<=te;he++)de[`Week ${he}`]=0}else["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].forEach(he=>{de[he]=0});return R.forEach(te=>{te.status.forEach(he=>{const Ee=new Date(he.date);Ee.setHours(0,0,0,0);const je=new Date;if(je.setHours(0,0,0,0),Ee<je&&Ee>=N&&Ee<=C){const Q=k(Ee,L);he.completed?z+=1:(de[Q]+=Number(te.amount),B+=1,X+=Number(te.amount),Y[te.category]||(Y[te.category]=0),Y[te.category]+=1,re[te.type]||(re[te.type]=0),re[te.type]+=1)}})}),F=Object.keys(de).map(te=>({name:te,存款金額:de[te]})),F.sort((te,he)=>{if(L==="week"){const Ee=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return Ee.indexOf(te.name)-Ee.indexOf(he.name)}else if(L==="month"){const Ee=parseInt(te.name.split(" ")[1],10),je=parseInt(he.name.split(" ")[1],10);return Ee-je}else{const Ee=new Date(Date.parse(te.name+" 1, 2022")).getMonth(),je=new Date(Date.parse(he.name+" 1, 2022")).getMonth();return Ee-je}}),{completed:z,savings:B,total:X,chartData:F,categoryData:Y,typeData:re}},k=(R,N)=>N==="week"?R.toLocaleDateString("en-US",{weekday:"short"}):N==="month"?`Week ${Math.ceil(R.getDate()/7)}`:R.toLocaleDateString("en-US",{month:"short"}),P=({completed:R,savings:N,total:C})=>m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-end items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:R}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),m.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"完成習慣次數"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-end items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:N}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),m.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款次數"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-end items-center gap-1",children:[m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"NT$"}),m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:C})]}),m.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款金額"})]})]}),O=(R,N,C)=>{const L=[];return R.forEach(z=>{z.status.forEach(B=>{const X=new Date(B.date);X.setHours(0,0,0,0);const F=new Date;F.setHours(0,0,0,0),X<F&&!B.completed&&X>=N&&X<=C&&L.push({id:z.id,title:z.title,date:B.date,amount:z.amount})})}),L.sort((z,B)=>new Date(B.date)-new Date(z.date)),L.slice(0,50).map((z,B)=>m.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 bg-black-50 dark:bg-black-800 rounded-lg font-normal text-sm leading-5 hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsx("p",{className:"text-black dark:text-black-0",children:String(B+1).padStart(2,"0")}),m.jsx("p",{className:"text-center text-black dark:text-black-0",children:new Date(z.date).toLocaleDateString()}),m.jsx("p",{className:"text-center col-span-2 overflow-scroll text-black dark:text-black-0",children:z.title}),m.jsxs("p",{className:"text-center text-black dark:text-black-0",children:["NT$",z.amount]})]},z.id+z.date))};return m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-3 w-full",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${t==="overview"?"bg-primary":"bg-black-50"}`,onClick:()=>e("overview"),children:"存款總覽"}),m.jsx("li",{className:`border-e border-y border-black-500 py-1 font-normal text-sm leading-5 text-center ${t==="category"?"bg-primary":"bg-black-50"}`,onClick:()=>e("category"),children:"習慣類別總覽"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${t==="type"?"bg-primary":"bg-black-50"}`,onClick:()=>e("type"),children:"習慣類型總覽"})]}),t==="overview"&&m.jsxs("div",{children:[m.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"relative group flex items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"存款總覽"}),m.jsx(St.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-32 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"結算時間為每日 23:59:59，存款金額為當日未完成的習慣存款金額總和"})]}),m.jsx("div",{className:"relative",children:m.jsx(Ga,{options:i,value:r,onChange:n})})]}),P({completed:a,savings:s,total:c}),m.jsx("div",{className:"w-full h-52",children:m.jsx(n4,{data:f})})]}),m.jsxs("ul",{className:"space-y-2 mt-4",children:[m.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 border border-black-500 rounded-lg font-normal text-sm leading-5",children:[m.jsx("p",{className:"text-black dark:text-black-0",children:"編號"}),m.jsx("p",{className:"text-center text-black dark:text-black-0",children:"日期"}),m.jsx("p",{className:"text-center col-span-2 text-black dark:text-black-0",children:"習慣名稱"}),m.jsx("p",{className:"text-center text-black dark:text-black-0",children:"習慣存款"})]}),O(_,I(r).startOfPeriod,I(r).endOfPeriod)]}),s===0&&m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}),s>=50&&m.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"僅顯示最新的 50 筆存款記錄"})]}),t==="category"&&m.jsxs("div",{className:`p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 ${s===0?"min-h-screen":"h-fit"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"relative group flex items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"習慣類別總覽"}),m.jsx(St.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[168px] transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"來看看你的習慣類別分布吧！哪些類別的習慣讓你累積最多存款呢？"})]}),m.jsx("div",{className:"relative",children:m.jsx(Ga,{options:i,value:r,onChange:n})})]}),s===0?m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):m.jsxs("div",{children:[m.jsx("div",{className:"w-full h-[400px]",children:m.jsx(i4,{categoryData:p,habitCategories:E})}),m.jsx("ul",{className:"space-y-2",children:E.map(R=>m.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:R.color}}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:R.name})]}),m.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((p[R.id]||0)/Object.values(p).reduce((N,C)=>N+C,0)*100).toFixed(1),"%"]})]},R.id))})]})]}),t==="type"&&m.jsxs("div",{className:`p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 ${s===0?"min-h-screen":"h-fit"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"relative group flex items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"習慣類型總覽"}),m.jsx(St.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[168px] transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"來看看你的習慣類型分布吧！你比較擅長養成還是戒除習慣呢？"})]}),m.jsx("div",{className:"relative",children:m.jsx(Ga,{options:i,value:r,onChange:n})})]}),s===0?m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):m.jsxs("div",{children:[m.jsx("div",{className:"w-full h-[400px]",children:m.jsx(a4,{typeData:y,habitType:T})}),m.jsx("ul",{className:"space-y-2",children:T.map(R=>m.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:R.color}}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:R.name})]}),m.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((y[R.id]||0)/Object.values(y).reduce((N,C)=>N+C,0)*100).toFixed(1),"%"]})]},R.id))})]})]})]})}function a0e(){var h,p;const[t,e]=D.useState("habit"),[r,n]=D.useState([]),[i,a]=D.useState([]),{user:o}=D.useContext(Gn);D.useEffect(()=>{(async()=>{const{startOfWeek:y,endOfWeek:b}=s();if(t==="habit"){const v=[...await l(y,b)].sort((w,E)=>E.completedCount-w.completedCount);n(v)}else if(t==="savings"){const v=[...await c(y,b)].sort((w,E)=>E.totalSavings-w.totalSavings);a(v)}})()},[t]);const s=()=>{const g=new Date,y=new Date(g.setDate(g.getDate()-g.getDay())),b=new Date(g.setDate(g.getDate()-g.getDay()+6));return y.setHours(0,0,0,0),b.setHours(23,59,59,999),{startOfWeek:y,endOfWeek:b}},l=async(g,y)=>{const b=await tA();return await Promise.all(b.map(async v=>{const E=(await as(v.uid)).reduce((T,I)=>T+I.status.filter(S=>{const k=new Date(S.date);return S.completed&&k>=g&&k<=y}).length,0);return{...v,completedCount:E}}))},c=async(g,y)=>{const b=await tA(),_=new Date;return _.setHours(0,0,0,0),await Promise.all(b.map(async w=>{const T=(await as(w.uid)).reduce((I,S)=>{const k=S.amount,P=S.status.filter(O=>{const R=new Date(O.date);return!O.completed&&R>=g&&R<=y&&R<_}).length;return I+P*k},0);return{...w,totalSavings:T}}))},u=(g,y)=>[...g].sort((_,v)=>y==="habit"?v.completedCount-_.completedCount:v.totalSavings-_.totalSavings).slice(0,10).map((_,v)=>m.jsxs("li",{className:"relative flex justify-between items-center py-2 px-4 bg-black-50 dark:bg-black-800 rounded-2xl hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsx("div",{className:"flex items-center gap-3",children:v<3?m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"absolute top-[-4px]",children:m.jsxs("div",{className:"w-10 h-[68px] flex justify-center items-center bg-primary relative",children:[m.jsx("p",{className:"font-normal text-center text-3xl leading-9 font-lobster text-alert",children:v+1}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:right-0 before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:left-0 before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[30px] before:left-5 before:w-0 before:h-0 before:border-l-0 before:border-r-[3px] before:border-b-[4px] before:border-l-transparent before:border-r-transparent before:border-b-primary-dark before:z-20"})]})}),m.jsx("img",{src:_.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full ml-14"}),m.jsx("div",{children:m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:_.name})})]}):m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black dark:text-black-0",children:v+1}),m.jsx("img",{src:_.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),m.jsx("div",{children:m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:_.name})})]})}),m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:y==="habit"?"累積數量":"累積存款"}),y==="habit"?m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:_.completedCount}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}):m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:_.totalSavings}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"元"})]})]})]},_.uid)),f=(g,y,b)=>{const _=g.find(w=>w.uid===y.uid);if(!_)return null;const v=g.findIndex(w=>w.uid===y.uid)+1;return m.jsxs("div",{className:"flex justify-between py-2 px-4 bg-black-500 dark:bg-black-50 rounded-2xl",children:[m.jsxs("div",{className:"flex items-center gap-3 text-black-0 dark:text-black",children:[m.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black-0 dark:text-black",children:v}),m.jsx("img",{src:_.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),m.jsx("div",{children:m.jsx("p",{className:"font-normal text-base leading-6 text-white dark:text-black",children:_.name})})]}),m.jsxs("div",{className:"flex flex-col items-end text-black-0 dark:text-black",children:[m.jsx("p",{className:"font-normal text-sm leading-5",children:b==="habit"?"累積數量":"累積存款"}),b==="habit"?m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:_.completedCount}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"次"})]}):m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:_.totalSavings}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"元"})]})]})]})};return m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full pb-3",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${t==="habit"?"bg-primary":"bg-black-50"}`,onClick:()=>e("habit"),children:"習慣排行"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${t==="savings"?"bg-primary":"bg-black-50"}`,onClick:()=>e("savings"),children:"存款排行"})]}),t==="habit"&&m.jsxs("div",{className:"relative space-y-4",children:[m.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[m.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",s().startOfWeek.toLocaleDateString(),"～",s().endOfWeek.toLocaleDateString()," 期間"]}),m.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),m.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((h=r[0])==null?void 0:h.name)||"No.1"}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"成為累積最多次習慣的玩家"})]})]}),m.jsxs("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:[m.jsx(Rs.TbCircleCheck,{className:"w-8 h-8"}),m.jsx(Rs.TbCircleCheckFilled,{className:"w-8 h-8"}),m.jsx(Rs.TbCircleCheck,{className:"w-8 h-8"})]}),m.jsx("ul",{className:"space-y-4 pb-20",children:u(r,"habit")}),m.jsx("div",{className:"fixed bottom-0 left-0 md:left-auto w-full max-w-full md:max-w-[1128px] mx-auto p-4 pb-[88px] bg-light dark:bg-black-950 md:p-0 md:py-4",children:f(r,o,"habit")})]}),t==="savings"&&m.jsxs("div",{className:"relative space-y-4",children:[m.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[m.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",s().startOfWeek.toLocaleDateString(),"～",s().endOfWeek.toLocaleDateString()," 期間"]}),m.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),m.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((p=i[0])==null?void 0:p.name)||"No.1"}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"成為累積最多存款的玩家"})]})]}),m.jsxs("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:[m.jsx(Rs.TbCoin,{className:"w-8 h-8"}),m.jsx(Rs.TbCoinFilled,{className:"w-8 h-8"}),m.jsx(Rs.TbCoin,{className:"w-8 h-8"})]}),m.jsx("ul",{className:"space-y-4 pb-20",children:u(i,"savings")}),m.jsx("div",{className:"fixed bottom-0 left-0 md:left-auto w-full max-w-full md:max-w-[1128px] mx-auto p-4 pb-[88px] bg-light dark:bg-black-950 md:p-0 md:py-4",children:f(i,o,"savings")})]})]})}const Kw=({options:t,onChange:e,theme:r})=>{const[n,i]=D.useState(!1),a=o=>{e(o),i(!1)};return m.jsxs("div",{className:"relative inline-block",children:[m.jsx(fu.TbDots,{className:`w-6 h-6 text-black ${r==="dark"?"dark:text-black-0":""} cursor-pointer hover:text-alert`,onClick:()=>i(!n)}),n&&m.jsx("ul",{className:"absolute z-10 mt-1 w-fit -right-4 bg-white border border-black-500 rounded-2xl shadow-lg text-center text-nowrap overflow-hidden",children:t.map(o=>m.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>a(o.value),children:o.label},o.value))})]})};Kw.propTypes={options:W.array.isRequired,value:W.string.isRequired,onChange:W.func.isRequired,theme:W.string.isRequired};const o4=({backgrounds:t,setPostBackground:e,isOpen:r,setIsOpen:n})=>m.jsx("div",{className:`absolute top-16 left-0 right-0 z-10 bg-black-0 border border-black-500 rounded-lg py-2 px-4 ${r?"block":"hidden"}`,children:m.jsx("div",{className:"flex gap-4 overflow-scroll",children:t.map((i,a)=>m.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>{e(i),n(!1)}},a))})});o4.propTypes={backgrounds:W.array.isRequired,setPostBackground:W.func.isRequired,isOpen:W.bool.isRequired,setIsOpen:W.func.isRequired};const bk=({postContent:t,setPostContent:e,postBackground:r,setPostBackground:n,handleAddPost:i,handlePostModal:a,user:o,isEditMode:s,handleUpdatePost:l,calculateTextColor:c})=>{const[u,f]=D.useState([]),[h,p]=D.useState(!1),[g,y]=D.useState(null);return D.useEffect(()=>{(async()=>{const _=await wD();f(_)})()},[]),D.useEffect(()=>{(async()=>{if(o&&o.uid){const _=await Oi(o.uid);y(_)}})()},[o]),m.jsxs("div",{className:"space-y-4 relative",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10",children:g&&g.avatar?m.jsx("img",{src:g.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):m.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:"No Image"})}),m.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:g&&g.name?g.name:"Unknown"})]}),m.jsx(St.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:a})]}),m.jsxs("div",{className:"flex justify-between items-center gap-4",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 text-nowrap",children:"選擇背景顏色"}),m.jsx("div",{className:"flex gap-4 overflow-scroll",children:u.map((b,_)=>m.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${b})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>n(b)},_))})]}),m.jsx(o4,{backgrounds:u,setPostBackground:n,isOpen:h,setIsOpen:p}),m.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center"},children:m.jsx("textarea",{className:"w-full h-full bg-transparent border-none resize-none outline-none text-center placeholder-black font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8",placeholder:"輸入貼文內容...",value:t,onChange:b=>e(b.target.value),style:{color:c(r)}})}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{className:"py-1 w-full bg-primary rounded-lg font-medium text-sm leading-5 hover:bg-primary-dark",onClick:s?l:i,children:s?"確認修改":"發佈貼文"}),s&&m.jsx("button",{className:"py-1 w-full bg-black-100 rounded-lg font-medium text-sm leading-5 hover:bg-black-300",onClick:a,children:"取消修改"})]})]})};bk.propTypes={postContent:W.string.isRequired,setPostContent:W.func.isRequired,postBackground:W.string.isRequired,setPostBackground:W.func.isRequired,handleAddPost:W.func.isRequired,handlePostModal:W.func.isRequired,user:W.object,isEditMode:W.bool,handleUpdatePost:W.func,calculateTextColor:W.func.isRequired};function o0e(){const[t,e]=D.useState([]),[r,n]=D.useState("all"),[i]=D.useState([{label:"全部貼文",value:"all"},{label:"僅限自己",value:"personal"}]),[a,o]=D.useState({}),[s,l]=D.useState(""),[c,u]=D.useState({}),[f,h]=D.useState(!1),[p,g]=D.useState(null),[y,b]=D.useState(""),[_,v]=D.useState(""),[w,E]=D.useState([]),[T,I]=D.useState(!1),{user:S}=D.useContext(Gn),[k,P]=D.useState(null);D.useEffect(()=>{(async()=>{const ne=await vh(),J=await Promise.all(ne.map(async H=>{const oe=await Oi(H.userID),le=await Ns(H.id);return{...H,user:oe,comments:le}}));e(J)})()},[]),D.useEffect(()=>{(async()=>{const ne=await wD();E(ne)})()},[]),D.useEffect(()=>{(async()=>{if(S&&S.uid){const ne=await Oi(S.uid);P(ne)}})()},[S]);const O=r==="personal"?t.filter(Q=>Q.userID===S.uid):t,R=Q=>{o(ne=>({...ne,[Q]:!ne[Q]}))},N=async Q=>{if(!s.trim()){alert("請輸入留言內容");return}const ne=await Oi(S.uid),J={content:s,userID:S.uid,userName:ne.name,userAvatar:ne.avatar};await BW(Q,J),l("");const H=await Ns(Q);e(oe=>oe.map(le=>le.id===Q?{...le,comments:H}:le))},C=Q=>{u(ne=>({...ne,[Q]:""}))},L=async(Q,ne)=>{await WW(Q,ne);const J=await Ns(Q);e(H=>H.map(oe=>oe.id===Q?{...oe,comments:J}:oe))},z=async Q=>{await UW(Q),e(ne=>ne.filter(J=>J.id!==Q))},B=(Q,ne=null)=>{ne?u(J=>({...J,[ne]:Q.comments.find(H=>H.id===ne).content})):(g(Q),h(!0))},X=async(Q,ne,J=null)=>{if(J){const H=c[J];if(!H.trim()){alert("請輸入留言內容");return}await zW(Q,J,{content:H});const oe=await Ns(Q);e(le=>le.map(K=>K.id===Q?{...K,comments:oe}:K)),u(le=>({...le,[J]:""}))}else{await VW(Q,ne);const H=await vh();e(H),h(!1)}},F=(Q,ne,J)=>{J==="edit"?B(Q,ne):J==="delete"&&(ne?L(Q.id,ne):z(Q.id))},Y=async Q=>{try{await qW(Q,S.uid);const ne=await vh(),J=await Promise.all(ne.map(async H=>{const oe=await Oi(H.userID),le=await Ns(H.id);return{...H,user:oe,comments:le}}));e(J)}catch(ne){console.error(ne)}},re=async Q=>{try{await HW(Q,S.uid);const ne=await vh(),J=await Promise.all(ne.map(async H=>{const oe=await Oi(H.userID),le=await Ns(H.id);return{...H,user:oe,comments:le}}));e(J)}catch(ne){console.error(ne)}},de=Q=>{const ne=new Date,J=new Date(Q*1e3),H=Math.floor((ne-J)/1e3);return H<3600?"剛剛":H<86400?`${Math.floor(H/3600)} 小時前`:H<259200?`${Math.floor(H/86400)} 天前`:J.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})},te=async()=>{if(y.trim()&&S){const Q=await Oi(S.uid),ne={content:y,background:_,userID:S.uid,user:Q,createdTime:{seconds:Math.floor(Date.now()/1e3)},likes:[],comments:[]};await vD(S.uid,ne),e(H=>[ne,...H]),b(""),v("");const J=document.querySelector("textarea");J&&(J.style.height="auto")}},he=()=>k?m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:k.avatar,alt:"avatar",className:"w-12 h-12 object-cover rounded-full"}),m.jsx("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:k.name})]}):m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-black-500 rounded-full"}),m.jsx("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:"Unknown"})]}),Ee=Q=>{if(!Q)return"black";const ne=Q.match(/\d+/g),J=parseInt(ne[0],10),H=parseInt(ne[1],10),oe=parseInt(ne[2],10);return(.299*J+.587*H+.114*oe)/255>.5?"black":"white"},je=()=>{I(!0)};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"貼文總覽"}),m.jsx("div",{className:"relative",children:m.jsx(Ga,{options:i,value:r,onChange:n})})]}),m.jsxs("div",{className:`border ${T?"border-primary-dark drop-shadow-md":"border-transparent"} bg-black-50 dark:bg-black-800 p-4 rounded-xl space-y-2 md:space-y-3`,onClick:je,children:[he(),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 text-nowrap",children:"選擇背景顏色"}),m.jsx("div",{className:"flex gap-4 overflow-scroll",children:w.map((Q,ne)=>m.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${Q})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>v(Q)},ne))})]}),m.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${_})`,backgroundSize:"cover",backgroundPosition:"center"},children:m.jsx("textarea",{className:"w-full h-fit bg-transparent border-none overflow-hidden resize-none outline-none text-center placeholder-black font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8",placeholder:"輸入貼文內容...",value:y,onChange:Q=>{b(Q.target.value),Q.target.style.height="auto",Q.target.style.height=`${Q.target.scrollHeight}px`},style:{color:Ee(_)},rows:"1"})}),m.jsx("div",{className:"text-end",children:m.jsx("button",{className:"py-1 px-3 w-fit bg-primary rounded-lg font-medium text-sm leading-5 md:text-base md:leading-6 hover:bg-primary-dark",onClick:te,children:"發佈貼文"})})]}),m.jsx("ul",{className:"space-y-4",children:O.map(Q=>m.jsxs("li",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-3 w-full",children:[m.jsxs("div",{className:"flex justify-between items-center w-full",children:[m.jsxs("div",{className:"flex gap-3 items-center",children:[m.jsx("div",{className:"w-12 h-12",children:Q.user&&m.jsx("img",{src:Q.user.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:Q.user?Q.user.name:"Unknown"}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:de(Q.createdTime.seconds)})]})]}),m.jsx(Kw,{options:[{value:"edit",label:"編輯貼文"},{value:"delete",label:"刪除貼文"}],onChange:ne=>F(Q,null,ne),theme:"dark"})]}),m.jsx("div",{className:`w-full min-h-52 h-fit flex justify-center items-center p-4 rounded-xl font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8 ${Q.background?"":"bg-slate-100"}`,style:Q.background?{backgroundImage:`url(${Q.background})`,backgroundSize:"cover",backgroundPosition:"center",color:Ee(Q.background)}:{color:Ee(Q.background)},children:m.jsx("p",{className:"text-center",children:Q.content})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"flex gap-1",children:[Q.likes&&Q.likes.includes(S.uid)?m.jsx(fu.TbHeartFilled,{className:"w-6 h-6 cursor-pointer text-alert",onClick:()=>re(Q.id)}):m.jsx(fu.TbHeart,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-alert",onClick:()=>Y(Q.id)}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:Q.likes?Q.likes.length:0})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx(fu.TbMessageChatbot,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-black dark:hover:text-black-200",onClick:()=>R(Q.id)}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:Q.comments?Q.comments.length:0})]})]}),m.jsxs("ul",{className:`space-y-3 ${a[Q.id]?"block":"hidden"}`,children:[Q.comments&&Q.comments.map(ne=>m.jsxs("li",{className:"flex justify-between items-center gap-3",children:[m.jsx("img",{src:ne.userAvatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),m.jsxs("div",{className:"bg-black-200 rounded-xl px-4 py-2 w-full flex justify-between items-center",children:[m.jsxs("div",{className:"w-full md:w-4/5",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("h3",{className:"font-medium text-sm leading-5 line-clamp-1",children:ne.userName}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0-700",children:de(ne.updatedTime?ne.updatedTime.seconds:ne.createdTime.seconds)})]}),c[ne.id]?m.jsxs("div",{className:"grid grid-cols-1 gap-x-2 md:flex md:items-center md:gap-2",children:[m.jsx("input",{type:"text",value:c[ne.id],onChange:J=>u({...c,[ne.id]:J.target.value}),className:"font-normal text-base leading-6 rounded px-2 py-1 w-full bg-black-0 text-black caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark my-1"}),m.jsxs("div",{className:"flex gap-x-2",children:[m.jsx("button",{className:"w-fit text-nowrap font-medium text-sm leading-5 bg-primary py-1 md:py-1.5 px-2 rounded hover:bg-primary-dark",onClick:()=>X(Q.id,null,ne.id),children:"確認修改"}),m.jsx("button",{className:"w-fit text-nowrap font-medium text-sm leading-5 bg-black-100 py-1 md:py-1.5 px-2 rounded hover:bg-black-300",onClick:()=>C(ne.id),children:"取消修改"})]})]}):m.jsx("p",{className:"font-normal text-base leading-6",children:ne.content})]}),c[ne.id]?null:m.jsx("div",{className:"flex flex-col",children:m.jsx(Kw,{options:[{value:"edit",label:"編輯留言"},{value:"delete",label:"刪除留言"}],onChange:J=>F(Q,ne.id,J),theme:"light"})})]})]},ne.id)),m.jsxs("li",{className:"flex justify-between items-center gap-2",children:[m.jsx("input",{type:"text",placeholder:"請輸入留言",className:"bg-black-100 text-black py-2 px-4 w-full rounded-2xl placeholder:text-black dark:text-black-0-500  caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark focus:bg-black-0",value:s,onChange:ne=>l(ne.target.value)}),m.jsx("div",{className:"w-10 h-10 bg-primary flex justify-center items-center rounded-full aspect-square cursor-pointer hover:bg-primary-dark",onClick:()=>N(Q.id),children:m.jsx(fu.TbSend2,{className:"w-6 h-6 text-black"})})]})]})]},Q.id))})]}),m.jsx(wn,{isOpen:f,onRequestClose:()=>h(!1),children:m.jsx(bk,{postContent:p?p.content:"",setPostContent:Q=>g(ne=>({...ne,content:Q})),postBackground:p?p.background:"",setPostBackground:Q=>g(ne=>({...ne,background:Q})),handlePostModal:()=>h(!1),user:S,isEditMode:!0,handleUpdatePost:()=>X(p.id,p),calculateTextColor:Ee})})]})}const s4=({sortedAchievements:t,userAchievements:e,handleAchievementModal:r})=>m.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[m.jsx("ul",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:t.slice(0,6).map(n=>{const i=e.includes(n.id);return m.jsx("li",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${i?"opacity-100 border-primary-dark bg-light":"opacity-50 border-black-500 bg-black-100 dark:border-black-300"}`,children:m.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${i?"text-primary z-0":"text-black"}`,"data-stroke":i?n.name:"",children:n.name})},n.id)})}),m.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:r,children:"更多成就"}),m.jsxs("div",{className:"bg-primary py-1 px-4 w-fit absolute -top-12 left-1/2 transform -translate-x-1/2",children:[m.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert",children:"Achievement"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[12px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[12px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});s4.propTypes={sortedAchievements:W.array.isRequired,userAchievements:W.array.isRequired,handleAchievementModal:W.func.isRequired};const l4=({sortedBadges:t,userBadges:e,handleBadgeModal:r})=>m.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[m.jsx("ul",{className:"grid grid-cols-3 gap-4 md:grid-cols-6",children:t.slice(0,6).map((n,i)=>m.jsx("li",{className:"relative w-full h-fit",children:m.jsx("img",{src:n.image,alt:`Badge ${i}`,className:`w-full h-full object-cover ${e.includes(n.id)?"opacity-100":"opacity-30"}`})},n.id))}),m.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:r,children:"更多獎勵徽章"}),m.jsxs("div",{className:"bg-primary py-1 px-4 w-[150px] absolute -top-12 left-1/2 transform -translate-x-1/2",children:[m.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert text-center",children:"Badge"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[13px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[13px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});l4.propTypes={sortedBadges:W.array.isRequired,userBadges:W.array.isRequired,handleBadgeModal:W.func.isRequired};const c4=({handleAchievementModal:t,userAchievements:e,sortedAchievements:r})=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的成就"}),m.jsx(St.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:t})]}),m.jsx("div",{className:"max-h-56 overflow-scroll",children:m.jsx("ul",{className:"grid grid-cols-2 gap-4",children:r.map(n=>{const i=e.includes(n.id);return m.jsxs("li",{children:[m.jsx("div",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${i?"opacity-100 border-primary-dark bg-light":"opacity-50 border-black-500 bg-black-100 text-black dark:border-black-300"}`,children:m.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${i?"text-primary z-0":"text-black"}`,"data-stroke":i?n.name:"",children:n.name})}),m.jsx("p",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:n.description})]},n.id)})})})]});c4.propTypes={handleAchievementModal:W.func.isRequired,achievements:W.array.isRequired,userAchievements:W.array.isRequired,sortedAchievements:W.array.isRequired};const u4=({handleBadgeModal:t,sortedBadges:e,userBadges:r})=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的獎勵徽章"}),m.jsx(St.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:t})]}),m.jsx("div",{className:"max-h-56 overflow-scroll",children:m.jsx("ul",{className:"grid grid-cols-3 gap-4",children:e.map((n,i)=>m.jsxs("li",{className:"relative w-full h-fit",children:[m.jsx("img",{src:n.image,alt:`Badge ${i}`,className:`w-full h-full object-cover ${r.includes(n.id)?"opacity-100":"opacity-30"}`}),m.jsx("div",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:n.description})]},n.id))})})]});u4.propTypes={handleBadgeModal:W.func.isRequired,sortedBadges:W.array.isRequired,userBadges:W.array.isRequired};function s0e(){const{user:t}=D.useContext(Gn),[e,r]=D.useState(!1),[n,i]=D.useState(!1),[a,o]=D.useState(!1),[s,l]=D.useState(!1),[c,u]=D.useState(!1),[f,h]=D.useState(!1),[p,g]=D.useState(!0),[y,b]=D.useState({uid:"",email:"",name:"",introduction:"",avatar:"",levelPoints:0,isAcceptReminder:!1,isDarkMode:!1,achievements:[],badges:[],habits:[]}),[_,v]=D.useState([]),[w,E]=D.useState(null),[T,I]=D.useState(""),[S,k]=D.useState(""),[P,O]=D.useState({category:0,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[]}),[R,N]=D.useState(0),[C,L]=D.useState(!1),[z,B]=D.useState(""),X=D.useRef(null),[F,Y]=D.useState(null),[re,de]=D.useState(!1),[te,he]=D.useState("all"),[Ee,je]=D.useState([]),[Q,ne]=D.useState([]),[J,H]=D.useState([]),[oe,le]=D.useState([]),[K]=D.useState([{label:"全部習慣",value:"all"},{label:"進行中",value:"in-progress"},{label:"已結束",value:"finished"}]),Se=[{id:0,name:"生產力",icon:Er.TbRocket},{id:1,name:"個人成長",icon:Er.TbBook},{id:2,name:"運動健身",icon:Er.TbWalk},{id:3,name:"飲食健康",icon:Er.TbBowlChopsticks},{id:4,name:"心靈成長",icon:Er.TbMoodHeart},{id:5,name:"手作興趣",icon:Er.TbHandGrab},{id:6,name:"財務管理",icon:Er.TbCash},{id:7,name:"環境生活",icon:Er.TbPlant}];D.useEffect(()=>{(async()=>{if(t){const Oe=await Oi(t.uid);Oe&&b(Oe),la(),xe(),We(t.uid),Xe(),Jt(t.uid)}})()},[t]),D.useEffect(()=>{const me=new Date;Y({year:me.getFullYear(),month:me.getMonth(),day:me.getDate()})},[]);const xe=async()=>{const me=await KW();je(me)},We=async me=>{const Oe=await GW(me);ne(Oe)},Xe=async()=>{const me=await XW();H(me)},Jt=async me=>{const Oe=await YW(me);le(Oe)},M=()=>{r(!e)},U=()=>{i(!n)},q=()=>{o(!a),i(!1)},ue=me=>{O({category:me.category,title:me.title,frequency:me.frequency,amount:me.amount,startDate:me.startDate,endDate:me.endDate,status:me.status,type:me.type}),l(!s),i(!1)},ce=()=>{u(!c)},ae=()=>{h(!f)},be=async me=>{if(t&&t.uid)try{await gD(t.uid,me),b(me)}catch(Oe){console.error("更新資料失敗",Oe)}},Be=async me=>{await be(me),M()},$e=async me=>{const{name:Oe,value:De,files:Ye}=me.target;if(Oe==="avatar"&&Ye&&Ye[0]){const et=me.target.files[0],Zt=["image/jpeg","image/jpg","image/png","image/gif"];if(!et||!Zt.includes(et.type))return;try{const xt=await bD(t.uid,et);b(ki=>({...ki,avatar:xt}))}catch(xt){console.error("上傳頭像失敗",xt)}}else b(Oe==="isDarkMode"||Oe==="isAcceptReminder"?et=>({...et,[Oe]:De==="true"}):et=>({...et,[Oe]:De}))},Ve=me=>{const{name:Oe,value:De}=me.target;if(Oe==="frequency"){const Ye={type:De},et=zr(P.startDate,P.endDate,Ye);O(Zt=>({...Zt,frequency:Ye,status:et}))}else O(Ye=>({...Ye,[Oe]:De}))},zr=(me,Oe,De)=>{const Ye=new Date(me),et=new Date(Oe),Zt=[];if(De.type==="daily")for(let xt=Ye;xt<=et;xt.setDate(xt.getDate()+1))Zt.push({date:new Date(xt).toDateString(),completed:!1});else if(De.type==="weekly")for(let xt=Ye;xt<=et;xt.setDate(xt.getDate()+7))Zt.push({date:new Date(xt).toDateString(),completed:!1});else if(De.type==="specificDays"){const xt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ki=De.days||[];for(let _t=Ye;_t<=et;_t.setDate(_t.getDate()+1))ki.includes(xt[_t.getDay()])&&Zt.push({date:new Date(_t).toDateString(),completed:!1})}return Zt},la=async()=>{if(t)try{const me=await as(t.uid);v(me)}catch(me){console.error("Error fetching habits: ",me)}},ca=async()=>{if(!T.trim()){alert("請輸入貼文內容");return}if(t&&w){const me={content:T,background:S,habitId:w.id};await vD(t.uid,me),de(!0),q(),I(""),k("")}},vo=me=>{B(me),L(!0)},_i=async()=>{if(t&&w){const me=new Date(P.startDate);if(new Date(P.endDate)<=me){alert("結束日期必須晚於開始日期");return}const Ye={...w,...P,id:w.id};await kb(t.uid,w.id,Ye),await gl(t.uid),await Nu(t.uid);const et=await Ou(t.uid,"habit");await Cu(t.uid,"habit",et),la(),l(!1),i(!1)}else console.error("User not authenticated or habit not selected")},bo=async()=>{if(t&&w){await yD(t.uid,w.id),await gl(t.uid),await Nu(t.uid);const me=await Ou(t.uid,"habit");await Cu(t.uid,"habit",me);const Oe=await as(t.uid);v(Oe),Oe.filter(Ye=>Ye.category===w.category).length===0&&await xD(t.uid,w.category),la(),l(!1),i(!1)}else console.error("User not authenticated or habit not selected")},Es=me=>{if(Y(me),z){const Oe=`${me.year}-${String(me.month+1).padStart(2,"0")}-${String(me.day).padStart(2,"0")}`;O(De=>({...De,[z]:Oe})),L(!1),B("")}},ua=me=>{const Oe=new Date;return Oe.setHours(0,0,0,0),me.status.filter(Ye=>{const et=new Date(Ye.date);return et.setHours(0,0,0,0),et<Oe&&!Ye.completed}).length*me.amount},_y=me=>{E(me),N(ua(me)),i(!0)},ky=_.filter(me=>{const Oe=new Date;Oe.setHours(0,0,0,0);const De=new Date(me.endDate);return De.setHours(0,0,0,0),te==="in-progress"?De>=Oe:te==="finished"?De<Oe:!0}).sort((me,Oe)=>new Date(Oe.endDate)-new Date(me.endDate));if(re)return m.jsx(Kx,{to:"/posts"});const xc=((me,Oe)=>me.sort((De,Ye)=>{const et=Oe.includes(De.id),Zt=Oe.includes(Ye.id);if(et&&!Zt)return-1;if(!et&&Zt)return 1;if(!et&&!Zt){const xt={habit:1,savings:2,streak:3},ki=xt[De.condition.type]||4,_t=xt[Ye.condition.type]||4;if(ki!==_t)return ki-_t;if(De.condition.count!==Ye.condition.count)return(De.condition.count||0)-(Ye.condition.count||0);if(De.condition.amount!==Ye.condition.amount)return(De.condition.amount||0)-(Ye.condition.amount||0);if(De.condition.percent!==Ye.condition.percent)return(De.condition.percent||0)-(Ye.condition.percent||0)}return 0}))(Ee,Q),fa=((me,Oe)=>me.sort((De,Ye)=>{const et=Oe.includes(De.id),Zt=Oe.includes(Ye.id);return et&&!Zt?-1:!et&&Zt?1:0}))(J,oe);return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${p?"bg-primary":"bg-black-50"}`,onClick:()=>g(!0),children:"會員管理"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${p?"bg-black-50":"bg-primary"}`,onClick:()=>g(!1),children:"歷史習慣"})]}),p?m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"會員管理"}),m.jsx(ID.TbSettings,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:M})]}):m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"歷史習慣"}),m.jsx("div",{className:"relative",children:m.jsx(Ga,{options:K,value:te,onChange:he})})]}),p?m.jsxs("div",{className:"space-y-14",children:[m.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-2",children:[m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("img",{src:y.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:y.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:["Lv.",y.levelPoints]})]})]})}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:y.introduction}),m.jsxs("div",{className:"w-full bg-light dark:bg-black-950 text-center rounded-2xl text-black dark:text-black-0",children:[y.levelPoints,"%"]})]}),m.jsx(s4,{sortedAchievements:xc,userAchievements:Q,handleAchievementModal:ce}),m.jsx(l4,{sortedBadges:fa,userBadges:oe,handleBadgeModal:ae})]}):m.jsx(u1,{habits:ky,habitCategories:Se,handleDetailClick:_y})]}),m.jsx(wn,{isOpen:e,onClose:M,children:m.jsx(o1,{profileData:y,handleChange:$e,handleSaveAndClose:Be,handleSettingModal:M})}),m.jsx(wn,{isOpen:n,onClose:U,children:m.jsx(l1,{selectedHabit:w,handleDetailModal:U,handlePostModal:q,uncompletedFine:R,handleEditModal:ue,habitCategories:Se})}),m.jsx(wn,{isOpen:a,onClose:q,children:m.jsx(bk,{postContent:T,setPostContent:I,postBackground:S,setPostBackground:k,handleAddPost:ca,handlePostModal:q,user:t})}),m.jsx(wn,{isOpen:s,onClose:ue,children:m.jsx(c1,{habitData:P,handleHabitChange:Ve,handleUpdateHabit:_i,handleFocus:vo,showMonthCalendar:C,calendarTarget:z,calendarRef:X,handleEditModal:ue,handleDeleteHabit:bo,habitCategories:Se,setHabitData:O,monthCalendarDate:F,handleMonthCalendarSelectDate:Es,setCalendarTarget:B,setShowMonthCalendar:L})}),m.jsx(wn,{isOpen:c,onClose:ce,children:m.jsx(c4,{handleAchievementModal:ce,userAchievements:Q,sortedAchievements:xc})}),m.jsx(wn,{isOpen:f,onClose:ae,children:m.jsx(u4,{handleBadgeModal:ae,badges:J,userBadges:oe,sortedBadges:fa})})]})}function l0e(){return m.jsx("div",{children:m.jsx("h1",{children:"Error"})})}function f4({children:t,isModalOpen:e,modalContent:r}){const n=hs(),i=Hx(),{setUser:a,isDarkMode:o}=D.useContext(Gn),[s,l]=D.useState(!1),c=async()=>{await LW(),a(null),i("/")},u=()=>{l(!s)},f=()=>{window.innerWidth>=1536?l(!0):l(!1)},h=()=>{window.innerWidth<1536&&s&&l(!s)};return D.useEffect(()=>(f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)),[]),m.jsxs("div",{className:`font-huninn bg-light dark:bg-black-950 relative min-h-screen ${o?"dark":""}`,children:[n.pathname!=="/"?m.jsxs("nav",{className:`pt-2 pb-3 px-4 bg-black-50 dark:bg-black-800 fixed inset-x-0 bottom-0 flex gap-x-4 z-50 border-t border-primary md:p-4 md:flex-col md:justify-between md:border-t-0 md:border-r md:h-full transition-all duration-200 ease-in-out ${s?"md:w-[240px]":"md:w-20"}`,children:[m.jsxs("div",{className:`hidden md:flex md:items-center ${s?"md:justify-between":"md:justify-center"}`,children:[m.jsx("p",{className:`text-black dark:text-black-0 font-lobster font-normal text-2xl leading-8 ml-6 hidden text-nowrap ${s?"md:block":""}`,children:"Habit Piggy"}),m.jsx(aA.TbLayoutSidebarRight,{className:"w-6 h-6 md:w-8 md:h-8 text-black dark:text-black-0 hover:text-alert cursor-pointer",onClick:u})]}),m.jsxs("ul",{className:"grid grid-cols-5 items-center w-full md:grid-cols-1 md:gap-4 transition-all duration-200 ease-in-out",children:[m.jsx(Os,{to:"/home",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/home"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/home"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/home"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(Wc.TbHome2,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/home"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/home"&&s?"":"md:text-black"} ${n.pathname==="/home"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"主頁"})]})}),m.jsx(Os,{to:"/savings",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/savings"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/savings"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/savings"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(Wc.TbCoin,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/savings"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/savings"&&s?"":"md:text-black"} ${n.pathname==="/savings"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"存款"})]})}),m.jsx(Os,{to:"/rank",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/rank"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/rank"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/rank"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(Wc.TbMedal2,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/rank"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/rank"&&s?"":"md:text-black"} ${n.pathname==="/rank"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"排行"})]})}),m.jsx(Os,{to:"/posts",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/posts"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/posts"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/posts"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(Wc.TbMessage,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/posts"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/posts"&&s?"":"md:text-black"} ${n.pathname==="/posts"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"貼文"})]})}),m.jsx(Os,{to:"/member",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/member"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/member"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/member"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(Wc.TbMoodSmile,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/member"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/member"&&s?"":"md:text-black"} ${n.pathname==="/member"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"會員"})]})})]}),m.jsx(Os,{to:"/",className:`hidden md:block ${n.pathname==="/"?"invisible":""}`,onClick:()=>{c(),h()},children:m.jsxs("div",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":"hover:bg-primary-light"}`,children:m.jsx(aA.TbLogout,{className:`w-6 h-6 md:w-8 md:h-8 dark:text-black-0 ${s?"md:text-black":""}`})}),m.jsx("p",{className:`text-black dark:text-black-0 ${s?"text-base leading-6 text-nowrap":"hidden"}`,children:"登出"})]})})]}):null,m.jsx("div",{className:`md:max-w-screen-md xl:max-w-[1160px] my-0 mx-auto flex flex-col md:flex-row min-h-screen relative ${s&&window.innerWidth<1536?"blur-sm":""}`,children:m.jsx("div",{className:"mt-0 mb-[86px] md:mb-0 w-full p-0 relative",children:t})}),e&&m.jsx(wn,{isOpen:e,children:r})]})}f4.propTypes={children:W.node,isModalOpen:W.bool.isRequired,modalContent:W.node};const Us=({children:t})=>{const{user:e}=D.useContext(Gn);return e?t:m.jsx(Kx,{to:"/"})};Us.propTypes={children:W.node.isRequired};function c0e(){return m.jsx(SD,{children:m.jsx(nF,{children:m.jsx(f4,{children:m.jsxs(Y6,{children:[m.jsx(ya,{path:"/",element:m.jsx(Hq,{})}),m.jsx(ya,{path:"/home",element:m.jsx(Us,{children:m.jsx(Kq,{})})}),m.jsx(ya,{path:"/savings",element:m.jsx(Us,{children:m.jsx(i0e,{})})}),m.jsx(ya,{path:"/rank",element:m.jsx(Us,{children:m.jsx(a0e,{})})}),m.jsx(ya,{path:"/posts",element:m.jsx(Us,{children:m.jsx(o0e,{})})}),m.jsx(ya,{path:"/member",element:m.jsx(Us,{children:m.jsx(s0e,{})})}),m.jsx(ya,{path:"*",element:m.jsx(l0e,{})})]})})})})}mN(document.getElementById("root")).render(m.jsx(D.StrictMode,{children:m.jsx(c0e,{})}));
